export default "var xyz=(()=>{var qu=Object.create;var On=Object.defineProperty;var Fu=Object.getOwnPropertyDescriptor;var Wu=Object.getOwnPropertyNames;var Ku=Object.getPrototypeOf,Hu=Object.prototype.hasOwnProperty;var ge=(r,t)=>()=>(r&&(t=r(r=0)),t);var me=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),ca=(r,t)=>{for(var e in t)On(r,e,{get:t[e],enumerable:!0})},ua=(r,t,e,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of Wu(t))!Hu.call(r,i)&&i!==e&&On(r,i,{get:()=>t[i],enumerable:!(n=Fu(t,i))||n.enumerable});return r};var _e=(r,t,e)=>(e=r!=null?qu(Ku(r)):{},ua(t||!r||!r.__esModule?On(e,\"default\",{value:r,enumerable:!0}):e,r)),fa=r=>ua(On({},\"__esModule\",{value:!0}),r);var ya=me(qn=>{\"use strict\";qn.byteLength=$u;qn.toByteArray=Yu;qn.fromByteArray=Ju;var ze=[],Le=[],ju=typeof Uint8Array<\"u\"?Uint8Array:Array,ws=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(kr=0,da=ws.length;kr<da;++kr)ze[kr]=ws[kr],Le[ws.charCodeAt(kr)]=kr;var kr,da;Le[45]=62;Le[95]=63;function pa(r){var t=r.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var e=r.indexOf(\"=\");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function $u(r){var t=pa(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Vu(r,t,e){return(t+e)*3/4-e}function Yu(r){var t,e=pa(r),n=e[0],i=e[1],s=new ju(Vu(r,n,i)),o=0,f=i>0?n-4:n,l;for(l=0;l<f;l+=4)t=Le[r.charCodeAt(l)]<<18|Le[r.charCodeAt(l+1)]<<12|Le[r.charCodeAt(l+2)]<<6|Le[r.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Le[r.charCodeAt(l)]<<2|Le[r.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=Le[r.charCodeAt(l)]<<10|Le[r.charCodeAt(l+1)]<<4|Le[r.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Gu(r){return ze[r>>18&63]+ze[r>>12&63]+ze[r>>6&63]+ze[r&63]}function Zu(r,t,e){for(var n,i=[],s=t;s<e;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(Gu(n));return i.join(\"\")}function Ju(r){for(var t,e=r.length,n=e%3,i=[],s=16383,o=0,f=e-n;o<f;o+=s)i.push(Zu(r,o,o+s>f?f:o+s));return n===1?(t=r[e-1],i.push(ze[t>>2]+ze[t<<4&63]+\"==\")):n===2&&(t=(r[e-2]<<8)+r[e-1],i.push(ze[t>>10]+ze[t>>4&63]+ze[t<<2&63]+\"=\")),i.join(\"\")}});var ga=me(bs=>{bs.read=function(r,t,e,n,i){var s,o,f=i*8-n-1,l=(1<<f)-1,w=l>>1,b=-7,S=e?i-1:0,M=e?-1:1,A=r[t+S];for(S+=M,s=A&(1<<-b)-1,A>>=-b,b+=f;b>0;s=s*256+r[t+S],S+=M,b-=8);for(o=s&(1<<-b)-1,s>>=-b,b+=n;b>0;o=o*256+r[t+S],S+=M,b-=8);if(s===0)s=1-w;else{if(s===l)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-w}return(A?-1:1)*o*Math.pow(2,s-n)};bs.write=function(r,t,e,n,i,s){var o,f,l,w=s*8-i-1,b=(1<<w)-1,S=b>>1,M=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,T=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,o=b):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+S>=1?t+=M/l:t+=M*Math.pow(2,1-S),t*l>=2&&(o++,l/=2),o+S>=b?(f=0,o=b):o+S>=1?(f=(t*l-1)*Math.pow(2,i),o=o+S):(f=t*Math.pow(2,S-1)*Math.pow(2,i),o=0));i>=8;r[e+A]=f&255,A+=T,f/=256,i-=8);for(o=o<<i|f,w+=i;w>0;r[e+A]=o&255,A+=T,o/=256,w-=8);r[e+A-T]|=E*128}});var an=me(Dr=>{\"use strict\";var xs=ya(),Ur=ga(),ma=typeof Symbol==\"function\"&&typeof Symbol.for==\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;Dr.Buffer=L;Dr.SlowBuffer=nf;Dr.INSPECT_MAX_BYTES=50;var Fn=2147483647;Dr.kMaxLength=Fn;L.TYPED_ARRAY_SUPPORT=Xu();!L.TYPED_ARRAY_SUPPORT&&typeof console<\"u\"&&typeof console.error==\"function\"&&console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");function Xu(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(L.prototype,\"parent\",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.buffer}});Object.defineProperty(L.prototype,\"offset\",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.byteOffset}});function He(r){if(r>Fn)throw new RangeError('The value \"'+r+'\" is invalid for option \"size\"');let t=new Uint8Array(r);return Object.setPrototypeOf(t,L.prototype),t}function L(r,t,e){if(typeof r==\"number\"){if(typeof t==\"string\")throw new TypeError('The \"string\" argument must be of type string. Received type number');return Es(r)}return ka(r,t,e)}L.poolSize=8192;function ka(r,t,e){if(typeof r==\"string\")return tf(r,t);if(ArrayBuffer.isView(r))return ef(r);if(r==null)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof r);if(De(r,ArrayBuffer)||r&&De(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<\"u\"&&(De(r,SharedArrayBuffer)||r&&De(r.buffer,SharedArrayBuffer)))return vs(r,t,e);if(typeof r==\"number\")throw new TypeError('The \"value\" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return L.from(n,t,e);let i=rf(r);if(i)return i;if(typeof Symbol<\"u\"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]==\"function\")return L.from(r[Symbol.toPrimitive](\"string\"),t,e);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof r)}L.from=function(r,t,e){return ka(r,t,e)};Object.setPrototypeOf(L.prototype,Uint8Array.prototype);Object.setPrototypeOf(L,Uint8Array);function va(r){if(typeof r!=\"number\")throw new TypeError('\"size\" argument must be of type number');if(r<0)throw new RangeError('The value \"'+r+'\" is invalid for option \"size\"')}function Qu(r,t,e){return va(r),r<=0?He(r):t!==void 0?typeof e==\"string\"?He(r).fill(t,e):He(r).fill(t):He(r)}L.alloc=function(r,t,e){return Qu(r,t,e)};function Es(r){return va(r),He(r<0?0:Bs(r)|0)}L.allocUnsafe=function(r){return Es(r)};L.allocUnsafeSlow=function(r){return Es(r)};function tf(r,t){if((typeof t!=\"string\"||t===\"\")&&(t=\"utf8\"),!L.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);let e=Sa(r,t)|0,n=He(e),i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function ks(r){let t=r.length<0?0:Bs(r.length)|0,e=He(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function ef(r){if(De(r,Uint8Array)){let t=new Uint8Array(r);return vs(t.buffer,t.byteOffset,t.byteLength)}return ks(r)}function vs(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('\"length\" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,L.prototype),n}function rf(r){if(L.isBuffer(r)){let t=Bs(r.length)|0,e=He(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!=\"number\"||As(r.length)?He(0):ks(r);if(r.type===\"Buffer\"&&Array.isArray(r.data))return ks(r.data)}function Bs(r){if(r>=Fn)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+Fn.toString(16)+\" bytes\");return r|0}function nf(r){return+r!=r&&(r=0),L.alloc(+r)}L.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==L.prototype};L.compare=function(t,e){if(De(t,Uint8Array)&&(t=L.from(t,t.offset,t.byteLength)),De(e,Uint8Array)&&(e=L.from(e,e.offset,e.byteLength)),!L.isBuffer(t)||!L.isBuffer(e))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==e[s]){n=t[s],i=e[s];break}return n<i?-1:i<n?1:0};L.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}};L.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(t.length===0)return L.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let i=L.allocUnsafe(e),s=0;for(n=0;n<t.length;++n){let o=t[n];if(De(o,Uint8Array))s+o.length>i.length?(L.isBuffer(o)||(o=L.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(L.isBuffer(o))o.copy(i,s);else throw new TypeError('\"list\" argument must be an Array of Buffers');s+=o.length}return i};function Sa(r,t){if(L.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||De(r,ArrayBuffer))return r.byteLength;if(typeof r!=\"string\")throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return e;case\"utf8\":case\"utf-8\":return Ss(r).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return e*2;case\"hex\":return e>>>1;case\"base64\":return Ta(r).length;default:if(i)return n?-1:Ss(r).length;t=(\"\"+t).toLowerCase(),i=!0}}L.byteLength=Sa;function sf(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return\"\";for(r||(r=\"utf8\");;)switch(r){case\"hex\":return yf(this,t,e);case\"utf8\":case\"utf-8\":return Ba(this,t,e);case\"ascii\":return df(this,t,e);case\"latin1\":case\"binary\":return pf(this,t,e);case\"base64\":return lf(this,t,e);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return gf(this,t,e);default:if(n)throw new TypeError(\"Unknown encoding: \"+r);r=(r+\"\").toLowerCase(),n=!0}}L.prototype._isBuffer=!0;function vr(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}L.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let e=0;e<t;e+=2)vr(this,e,e+1);return this};L.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let e=0;e<t;e+=4)vr(this,e,e+3),vr(this,e+1,e+2);return this};L.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let e=0;e<t;e+=8)vr(this,e,e+7),vr(this,e+1,e+6),vr(this,e+2,e+5),vr(this,e+3,e+4);return this};L.prototype.toString=function(){let t=this.length;return t===0?\"\":arguments.length===0?Ba(this,0,t):sf.apply(this,arguments)};L.prototype.toLocaleString=L.prototype.toString;L.prototype.equals=function(t){if(!L.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t?!0:L.compare(this,t)===0};L.prototype.inspect=function(){let t=\"\",e=Dr.INSPECT_MAX_BYTES;return t=this.toString(\"hex\",0,e).replace(/(.{2})/g,\"$1 \").trim(),this.length>e&&(t+=\" ... \"),\"<Buffer \"+t+\">\"};ma&&(L.prototype[ma]=L.prototype.inspect);L.prototype.compare=function(t,e,n,i,s){if(De(t,Uint8Array)&&(t=L.from(t,t.offset,t.byteLength)),!L.isBuffer(t))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),e<0||n>t.length||i<0||s>this.length)throw new RangeError(\"out of range index\");if(i>=s&&e>=n)return 0;if(i>=s)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;let o=s-i,f=n-e,l=Math.min(o,f),w=this.slice(i,s),b=t.slice(e,n);for(let S=0;S<l;++S)if(w[S]!==b[S]){o=w[S],f=b[S];break}return o<f?-1:f<o?1:0};function Ea(r,t,e,n,i){if(r.length===0)return-1;if(typeof e==\"string\"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,As(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t==\"string\"&&(t=L.from(t,n)),L.isBuffer(t))return t.length===0?-1:wa(r,t,e,n,i);if(typeof t==\"number\")return t=t&255,typeof Uint8Array.prototype.indexOf==\"function\"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):wa(r,[t],e,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function wa(r,t,e,n,i){let s=1,o=r.length,f=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n===\"ucs2\"||n===\"ucs-2\"||n===\"utf16le\"||n===\"utf-16le\")){if(r.length<2||t.length<2)return-1;s=2,o/=2,f/=2,e/=2}function l(b,S){return s===1?b[S]:b.readUInt16BE(S*s)}let w;if(i){let b=-1;for(w=e;w<o;w++)if(l(r,w)===l(t,b===-1?0:w-b)){if(b===-1&&(b=w),w-b+1===f)return b*s}else b!==-1&&(w-=w-b),b=-1}else for(e+f>o&&(e=o-f),w=e;w>=0;w--){let b=!0;for(let S=0;S<f;S++)if(l(r,w+S)!==l(t,S)){b=!1;break}if(b)return w}return-1}L.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};L.prototype.indexOf=function(t,e,n){return Ea(this,t,e,n,!0)};L.prototype.lastIndexOf=function(t,e,n){return Ea(this,t,e,n,!1)};function of(r,t,e,n){e=Number(e)||0;let i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;let s=t.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let f=parseInt(t.substr(o*2,2),16);if(As(f))return o;r[e+o]=f}return o}function af(r,t,e,n){return Wn(Ss(t,r.length-e),r,e,n)}function cf(r,t,e,n){return Wn(xf(t),r,e,n)}function uf(r,t,e,n){return Wn(Ta(t),r,e,n)}function ff(r,t,e,n){return Wn(kf(t,r.length-e),r,e,n)}L.prototype.write=function(t,e,n,i){if(e===void 0)i=\"utf8\",n=this.length,e=0;else if(n===void 0&&typeof e==\"string\")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i=\"utf8\")):(i=n,n=void 0);else throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");let s=this.length-e;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");let o=!1;for(;;)switch(i){case\"hex\":return of(this,t,e,n);case\"utf8\":case\"utf-8\":return af(this,t,e,n);case\"ascii\":case\"latin1\":case\"binary\":return cf(this,t,e,n);case\"base64\":return uf(this,t,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ff(this,t,e,n);default:if(o)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),o=!0}};L.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function lf(r,t,e){return t===0&&e===r.length?xs.fromByteArray(r):xs.fromByteArray(r.slice(t,e))}function Ba(r,t,e){e=Math.min(r.length,e);let n=[],i=t;for(;i<e;){let s=r[i],o=null,f=s>239?4:s>223?3:s>191?2:1;if(i+f<=e){let l,w,b,S;switch(f){case 1:s<128&&(o=s);break;case 2:l=r[i+1],(l&192)===128&&(S=(s&31)<<6|l&63,S>127&&(o=S));break;case 3:l=r[i+1],w=r[i+2],(l&192)===128&&(w&192)===128&&(S=(s&15)<<12|(l&63)<<6|w&63,S>2047&&(S<55296||S>57343)&&(o=S));break;case 4:l=r[i+1],w=r[i+2],b=r[i+3],(l&192)===128&&(w&192)===128&&(b&192)===128&&(S=(s&15)<<18|(l&63)<<12|(w&63)<<6|b&63,S>65535&&S<1114112&&(o=S))}}o===null?(o=65533,f=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=f}return hf(n)}var ba=4096;function hf(r){let t=r.length;if(t<=ba)return String.fromCharCode.apply(String,r);let e=\"\",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=ba));return e}function df(r,t,e){let n=\"\";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function pf(r,t,e){let n=\"\";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function yf(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i=\"\";for(let s=t;s<e;++s)i+=vf[r[s]];return i}function gf(r,t,e){let n=r.slice(t,e),i=\"\";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}L.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,L.prototype),i};function se(r,t,e){if(r%1!==0||r<0)throw new RangeError(\"offset is not uint\");if(r+t>e)throw new RangeError(\"Trying to access beyond buffer length\")}L.prototype.readUintLE=L.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||se(t,e,this.length);let i=this[t],s=1,o=0;for(;++o<e&&(s*=256);)i+=this[t+o]*s;return i};L.prototype.readUintBE=L.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||se(t,e,this.length);let i=this[t+--e],s=1;for(;e>0&&(s*=256);)i+=this[t+--e]*s;return i};L.prototype.readUint8=L.prototype.readUInt8=function(t,e){return t=t>>>0,e||se(t,1,this.length),this[t]};L.prototype.readUint16LE=L.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||se(t,2,this.length),this[t]|this[t+1]<<8};L.prototype.readUint16BE=L.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||se(t,2,this.length),this[t]<<8|this[t+1]};L.prototype.readUint32LE=L.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||se(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};L.prototype.readUint32BE=L.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||se(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};L.prototype.readBigUInt64LE=rr(function(t){t=t>>>0,zr(t,\"offset\");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&on(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,s=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});L.prototype.readBigUInt64BE=rr(function(t){t=t>>>0,zr(t,\"offset\");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&on(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],s=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});L.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||se(t,e,this.length);let i=this[t],s=1,o=0;for(;++o<e&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i};L.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||se(t,e,this.length);let i=e,s=1,o=this[t+--i];for(;i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*e)),o};L.prototype.readInt8=function(t,e){return t=t>>>0,e||se(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};L.prototype.readInt16LE=function(t,e){t=t>>>0,e||se(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};L.prototype.readInt16BE=function(t,e){t=t>>>0,e||se(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};L.prototype.readInt32LE=function(t,e){return t=t>>>0,e||se(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};L.prototype.readInt32BE=function(t,e){return t=t>>>0,e||se(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};L.prototype.readBigInt64LE=rr(function(t){t=t>>>0,zr(t,\"offset\");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&on(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});L.prototype.readBigInt64BE=rr(function(t){t=t>>>0,zr(t,\"offset\");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&on(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});L.prototype.readFloatLE=function(t,e){return t=t>>>0,e||se(t,4,this.length),Ur.read(this,t,!0,23,4)};L.prototype.readFloatBE=function(t,e){return t=t>>>0,e||se(t,4,this.length),Ur.read(this,t,!1,23,4)};L.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||se(t,8,this.length),Ur.read(this,t,!0,52,8)};L.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||se(t,8,this.length),Ur.read(this,t,!1,52,8)};function ke(r,t,e,n,i,s){if(!L.isBuffer(r))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('\"value\" argument is out of bounds');if(e+n>r.length)throw new RangeError(\"Index out of range\")}L.prototype.writeUintLE=L.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let f=Math.pow(2,8*n)-1;ke(this,t,e,n,f,0)}let s=1,o=0;for(this[e]=t&255;++o<n&&(s*=256);)this[e+o]=t/s&255;return e+n};L.prototype.writeUintBE=L.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let f=Math.pow(2,8*n)-1;ke(this,t,e,n,f,0)}let s=n-1,o=1;for(this[e+s]=t&255;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+n};L.prototype.writeUint8=L.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,1,255,0),this[e]=t&255,e+1};L.prototype.writeUint16LE=L.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};L.prototype.writeUint16BE=L.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};L.prototype.writeUint32LE=L.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};L.prototype.writeUint32BE=L.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Ia(r,t,e,n,i){Ra(t,n,i,r,e,7);let s=Number(t&BigInt(4294967295));r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,e}function Aa(r,t,e,n,i){Ra(t,n,i,r,e,7);let s=Number(t&BigInt(4294967295));r[e+7]=s,s=s>>8,r[e+6]=s,s=s>>8,r[e+5]=s,s=s>>8,r[e+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=o,o=o>>8,r[e+2]=o,o=o>>8,r[e+1]=o,o=o>>8,r[e]=o,e+8}L.prototype.writeBigUInt64LE=rr(function(t,e=0){return Ia(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))});L.prototype.writeBigUInt64BE=rr(function(t,e=0){return Aa(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))});L.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let l=Math.pow(2,8*n-1);ke(this,t,e,n,l-1,-l)}let s=0,o=1,f=0;for(this[e]=t&255;++s<n&&(o*=256);)t<0&&f===0&&this[e+s-1]!==0&&(f=1),this[e+s]=(t/o>>0)-f&255;return e+n};L.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let l=Math.pow(2,8*n-1);ke(this,t,e,n,l-1,-l)}let s=n-1,o=1,f=0;for(this[e+s]=t&255;--s>=0&&(o*=256);)t<0&&f===0&&this[e+s+1]!==0&&(f=1),this[e+s]=(t/o>>0)-f&255;return e+n};L.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};L.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};L.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};L.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};L.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||ke(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};L.prototype.writeBigInt64LE=rr(function(t,e=0){return Ia(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))});L.prototype.writeBigInt64BE=rr(function(t,e=0){return Aa(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))});function _a(r,t,e,n,i,s){if(e+n>r.length)throw new RangeError(\"Index out of range\");if(e<0)throw new RangeError(\"Index out of range\")}function La(r,t,e,n,i){return t=+t,e=e>>>0,i||_a(r,t,e,4,34028234663852886e22,-34028234663852886e22),Ur.write(r,t,e,n,23,4),e+4}L.prototype.writeFloatLE=function(t,e,n){return La(this,t,e,!0,n)};L.prototype.writeFloatBE=function(t,e,n){return La(this,t,e,!1,n)};function Ma(r,t,e,n,i){return t=+t,e=e>>>0,i||_a(r,t,e,8,17976931348623157e292,-17976931348623157e292),Ur.write(r,t,e,n,52,8),e+8}L.prototype.writeDoubleLE=function(t,e,n){return Ma(this,t,e,!0,n)};L.prototype.writeDoubleBE=function(t,e,n){return Ma(this,t,e,!1,n)};L.prototype.copy=function(t,e,n,i){if(!L.isBuffer(t))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);let s=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin==\"function\"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),s};L.prototype.fill=function(t,e,n,i){if(typeof t==\"string\"){if(typeof e==\"string\"?(i=e,e=0,n=this.length):typeof n==\"string\"&&(i=n,n=this.length),i!==void 0&&typeof i!=\"string\")throw new TypeError(\"encoding must be a string\");if(typeof i==\"string\"&&!L.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);if(t.length===1){let o=t.charCodeAt(0);(i===\"utf8\"&&o<128||i===\"latin1\")&&(t=o)}}else typeof t==\"number\"?t=t&255:typeof t==\"boolean\"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError(\"Out of range index\");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let s;if(typeof t==\"number\")for(s=e;s<n;++s)this[s]=t;else{let o=L.isBuffer(t)?t:L.from(t,i),f=o.length;if(f===0)throw new TypeError('The value \"'+t+'\" is invalid for argument \"value\"');for(s=0;s<n-e;++s)this[s+e]=o[s%f]}return this};var Or={};function Is(r,t,e){Or[r]=class extends e{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Is(\"ERR_BUFFER_OUT_OF_BOUNDS\",function(r){return r?`${r} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"},RangeError);Is(\"ERR_INVALID_ARG_TYPE\",function(r,t){return`The \"${r}\" argument must be of type number. Received type ${typeof t}`},TypeError);Is(\"ERR_OUT_OF_RANGE\",function(r,t,e){let n=`The value of \"${r}\" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=xa(String(e)):typeof e==\"bigint\"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=xa(i)),i+=\"n\"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function xa(r){let t=\"\",e=r.length,n=r[0]===\"-\"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function mf(r,t,e){zr(t,\"offset\"),(r[t]===void 0||r[t+e]===void 0)&&on(t,r.length-(e+1))}function Ra(r,t,e,n,i,s){if(r>e||r<t){let o=typeof t==\"bigint\"?\"n\":\"\",f;throw s>3?t===0||t===BigInt(0)?f=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:f=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:f=`>= ${t}${o} and <= ${e}${o}`,new Or.ERR_OUT_OF_RANGE(\"value\",f,r)}mf(n,i,s)}function zr(r,t){if(typeof r!=\"number\")throw new Or.ERR_INVALID_ARG_TYPE(t,\"number\",r)}function on(r,t,e){throw Math.floor(r)!==r?(zr(r,e),new Or.ERR_OUT_OF_RANGE(e||\"offset\",\"an integer\",r)):t<0?new Or.ERR_BUFFER_OUT_OF_BOUNDS:new Or.ERR_OUT_OF_RANGE(e||\"offset\",`>= ${e?1:0} and <= ${t}`,r)}var wf=/[^+/0-9A-Za-z-_]/g;function bf(r){if(r=r.split(\"=\")[0],r=r.trim().replace(wf,\"\"),r.length<2)return\"\";for(;r.length%4!==0;)r=r+\"=\";return r}function Ss(r,t){t=t||1/0;let e,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(e=r.charCodeAt(o),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&s.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;s.push(e)}else if(e<2048){if((t-=2)<0)break;s.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;s.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error(\"Invalid code point\")}return s}function xf(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function kf(r,t){let e,n,i,s=[];for(let o=0;o<r.length&&!((t-=2)<0);++o)e=r.charCodeAt(o),n=e>>8,i=e%256,s.push(i),s.push(n);return s}function Ta(r){return xs.toByteArray(bf(r))}function Wn(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function De(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function As(r){return r!==r}var vf=function(){let r=\"0123456789abcdef\",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function rr(r){return typeof BigInt>\"u\"?Sf:r}function Sf(){throw new Error(\"BigInt not supported\")}});var Qa=me(()=>{});var Ys=me((tc,Vs)=>{(function(r,t){\"use strict\";function e(x,a){if(!x)throw new Error(a||\"Assertion failed\")}function n(x,a){x.super_=a;var u=function(){};u.prototype=a.prototype,x.prototype=new u,x.prototype.constructor=x}function i(x,a,u){if(i.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((a===\"le\"||a===\"be\")&&(u=a,a=10),this._init(x||0,a||10,u||\"be\"))}typeof r==\"object\"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<\"u\"&&typeof window.Buffer<\"u\"?s=window.Buffer:s=Qa().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a==\"object\"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a==\"number\")return this._initNumber(a,u,h);if(typeof a==\"object\")return this._initArray(a,u,h);u===\"hex\"&&(u=16),e(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\\s+/g,\"\");var d=0;a[0]===\"-\"&&(d++,this.negative=1),d<a.length&&(u===16?this._parseHex(a,d,h):(this._parseBase(a,u,d),h===\"le\"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(e(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h===\"le\"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(e(typeof a.length==\"number\"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,g,v=0;if(h===\"be\")for(d=a.length-1,p=0;d>=0;d-=3)g=a[d]|a[d-1]<<8|a[d-2]<<16,this.words[p]|=g<<v&67108863,this.words[p+1]=g>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);else if(h===\"le\")for(d=0,p=0;d<a.length;d+=3)g=a[d]|a[d+1]<<8|a[d+2]<<16,this.words[p]|=g<<v&67108863,this.words[p+1]=g>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);return this._strip()};function o(x,a){var u=x.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;e(!1,\"Invalid character in \"+x)}function f(x,a,u){var h=o(x,u);return u-1>=a&&(h|=o(x,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,g=0,v;if(h===\"be\")for(d=a.length-1;d>=u;d-=2)v=f(a,u,d)<<p,this.words[g]|=v&67108863,p>=18?(p-=18,g+=1,this.words[g]|=v>>>26):p+=8;else{var y=a.length-u;for(d=y%2===0?u+1:u;d<a.length;d+=2)v=f(a,u,d)<<p,this.words[g]|=v&67108863,p>=18?(p-=18,g+=1,this.words[g]|=v>>>26):p+=8}this._strip()};function l(x,a,u,h){for(var d=0,p=0,g=Math.min(x.length,u),v=a;v<g;v++){var y=x.charCodeAt(v)-48;d*=h,y>=49?p=y-49+10:y>=17?p=y-17+10:p=y,e(y>=0&&p<h,\"Invalid character\"),d+=p}return d}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=u)d++;d--,p=p/u|0;for(var g=a.length-h,v=g%d,y=Math.min(g,g-v)+h,c=0,m=h;m<y;m+=d)c=l(a,m,m+d,u),this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(v!==0){var C=1;for(c=l(a,m,a.length,u),m=0;m<v;m++)C*=u;this.imuln(C),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function w(x,a){x.words=a.words,x.length=a.length,x.negative=a.negative,x.red=a.red}if(i.prototype._move=function(a){w(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<\"u\"&&typeof Symbol.for==\"function\")try{i.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=b}catch{i.prototype.inspect=b}else i.prototype.inspect=b;function b(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"}var S=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a===\"hex\"){h=\"\";for(var d=0,p=0,g=0;g<this.length;g++){var v=this.words[g],y=((v<<d|p)&16777215).toString(16);p=v>>>24-d&16777215,d+=2,d>=26&&(d-=26,g--),p!==0||g!==this.length-1?h=S[6-y.length]+y+h:h=y+h}for(p!==0&&(h=p.toString(16)+h);h.length%u!==0;)h=\"0\"+h;return this.negative!==0&&(h=\"-\"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=M[a],m=A[a];h=\"\";var C=this.clone();for(C.negative=0;!C.isZero();){var U=C.modrn(m).toString(a);C=C.idivn(m),C.isZero()?h=U+h:h=S[c-U.length]+U+h}for(this.isZero()&&(h=\"0\"+h);h.length%u!==0;)h=\"0\"+h;return this.negative!==0&&(h=\"-\"+h),h}e(!1,\"Base should be between 2 and 36\")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,\"Number can only safely store up to 53 bits\"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(a,u){return this.toArrayLike(s,a,u)}),i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var T=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};i.prototype.toArrayLike=function(a,u,h){this._strip();var d=this.byteLength(),p=h||Math.max(1,d);e(d<=p,\"byte array longer than desired length\"),e(p>0,\"Requested array length <= 0\");var g=T(a,p),v=u===\"le\"?\"LE\":\"BE\";return this[\"_toArrayLike\"+v](g,d),g},i.prototype._toArrayLikeLE=function(a,u){for(var h=0,d=0,p=0,g=0;p<this.length;p++){var v=this.words[p]<<g|d;a[h++]=v&255,h<a.length&&(a[h++]=v>>8&255),h<a.length&&(a[h++]=v>>16&255),g===6?(h<a.length&&(a[h++]=v>>24&255),d=0,g=0):(d=v>>>24,g+=2)}if(h<a.length)for(a[h++]=d;h<a.length;)a[h++]=0},i.prototype._toArrayLikeBE=function(a,u){for(var h=a.length-1,d=0,p=0,g=0;p<this.length;p++){var v=this.words[p]<<g|d;a[h--]=v&255,h>=0&&(a[h--]=v>>8&255),h>=0&&(a[h--]=v>>16&255),g===6?(h>=0&&(a[h--]=v>>24&255),d=0,g=0):(d=v>>>24,g+=2)}if(h>=0)for(a[h--]=d;h>=0;)a[h--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function E(x){for(var a=new Array(x.bitLength()),u=0;u<a.length;u++){var h=u/26|0,d=u%26;a[u]=x.words[h]>>>d&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},i.prototype.ior=function(a){return e((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(a){return e((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var d=0;d<h.length;d++)this.words[d]=u.words[d]^h.words[d];if(this!==u)for(;d<u.length;d++)this.words[d]=u.words[d];return this.length=u.length,this._strip()},i.prototype.ixor=function(a){return e((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){e(typeof a==\"number\"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var d=0;d<u;d++)this.words[d]=~this.words[d]&67108863;return h>0&&(this.words[d]=~this.words[d]&67108863>>26-h),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){e(typeof a==\"number\"&&a>=0);var h=a/26|0,d=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<d:this.words[h]=this.words[h]&~(1<<d),this._strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,d;this.length>a.length?(h=this,d=a):(h=a,d=this);for(var p=0,g=0;g<d.length;g++)u=(h.words[g]|0)+(d.words[g]|0)+p,this.words[g]=u&67108863,p=u>>>26;for(;p!==0&&g<h.length;g++)u=(h.words[g]|0)+p,this.words[g]=u&67108863,p=u>>>26;if(this.length=h.length,p!==0)this.words[this.length]=p,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;h>0?(d=this,p=a):(d=a,p=this);for(var g=0,v=0;v<p.length;v++)u=(d.words[v]|0)-(p.words[v]|0)+g,g=u>>26,this.words[v]=u&67108863;for(;g!==0&&v<d.length;v++)u=(d.words[v]|0)+g,g=u>>26,this.words[v]=u&67108863;if(g===0&&v<d.length&&d!==this)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=Math.max(this.length,v),d!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function _(x,a,u){u.negative=a.negative^x.negative;var h=x.length+a.length|0;u.length=h,h=h-1|0;var d=x.words[0]|0,p=a.words[0]|0,g=d*p,v=g&67108863,y=g/67108864|0;u.words[0]=v;for(var c=1;c<h;c++){for(var m=y>>>26,C=y&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-x.length+1);O<=U;O++){var W=c-O|0;d=x.words[W]|0,p=a.words[O]|0,g=d*p+C,m+=g/67108864|0,C=g&67108863}u.words[c]=C|0,y=m|0}return y!==0?u.words[c]=y|0:u.length--,u._strip()}var R=function(a,u,h){var d=a.words,p=u.words,g=h.words,v=0,y,c,m,C=d[0]|0,U=C&8191,O=C>>>13,W=d[1]|0,Z=W&8191,J=W>>>13,gt=d[2]|0,Q=gt&8191,tt=gt>>>13,ne=d[3]|0,ut=ne&8191,ht=ne>>>13,er=d[4]|0,Et=er&8191,Lt=er>>>13,Cn=d[5]|0,Mt=Cn&8191,Rt=Cn>>>13,rn=d[6]|0,Bt=rn&8191,bt=rn>>>13,nn=d[7]|0,It=nn&8191,At=nn>>>13,sn=d[8]|0,_t=sn&8191,Tt=sn>>>13,Nn=d[9]|0,Pt=Nn&8191,Ct=Nn>>>13,Xo=p[0]|0,Ut=Xo&8191,zt=Xo>>>13,Qo=p[1]|0,Dt=Qo&8191,qt=Qo>>>13,ta=p[2]|0,Ft=ta&8191,Wt=ta>>>13,ea=p[3]|0,Kt=ea&8191,Ht=ea>>>13,ra=p[4]|0,jt=ra&8191,$t=ra>>>13,na=p[5]|0,Vt=na&8191,Yt=na>>>13,ia=p[6]|0,Gt=ia&8191,Zt=ia>>>13,sa=p[7]|0,Jt=sa&8191,Xt=sa>>>13,oa=p[8]|0,Qt=oa&8191,te=oa>>>13,aa=p[9]|0,ee=aa&8191,re=aa>>>13;h.negative=a.negative^u.negative,h.length=19,y=Math.imul(U,Ut),c=Math.imul(U,zt),c=c+Math.imul(O,Ut)|0,m=Math.imul(O,zt);var Xi=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,y=Math.imul(Z,Ut),c=Math.imul(Z,zt),c=c+Math.imul(J,Ut)|0,m=Math.imul(J,zt),y=y+Math.imul(U,Dt)|0,c=c+Math.imul(U,qt)|0,c=c+Math.imul(O,Dt)|0,m=m+Math.imul(O,qt)|0;var Qi=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,y=Math.imul(Q,Ut),c=Math.imul(Q,zt),c=c+Math.imul(tt,Ut)|0,m=Math.imul(tt,zt),y=y+Math.imul(Z,Dt)|0,c=c+Math.imul(Z,qt)|0,c=c+Math.imul(J,Dt)|0,m=m+Math.imul(J,qt)|0,y=y+Math.imul(U,Ft)|0,c=c+Math.imul(U,Wt)|0,c=c+Math.imul(O,Ft)|0,m=m+Math.imul(O,Wt)|0;var ts=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ts>>>26)|0,ts&=67108863,y=Math.imul(ut,Ut),c=Math.imul(ut,zt),c=c+Math.imul(ht,Ut)|0,m=Math.imul(ht,zt),y=y+Math.imul(Q,Dt)|0,c=c+Math.imul(Q,qt)|0,c=c+Math.imul(tt,Dt)|0,m=m+Math.imul(tt,qt)|0,y=y+Math.imul(Z,Ft)|0,c=c+Math.imul(Z,Wt)|0,c=c+Math.imul(J,Ft)|0,m=m+Math.imul(J,Wt)|0,y=y+Math.imul(U,Kt)|0,c=c+Math.imul(U,Ht)|0,c=c+Math.imul(O,Kt)|0,m=m+Math.imul(O,Ht)|0;var es=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(es>>>26)|0,es&=67108863,y=Math.imul(Et,Ut),c=Math.imul(Et,zt),c=c+Math.imul(Lt,Ut)|0,m=Math.imul(Lt,zt),y=y+Math.imul(ut,Dt)|0,c=c+Math.imul(ut,qt)|0,c=c+Math.imul(ht,Dt)|0,m=m+Math.imul(ht,qt)|0,y=y+Math.imul(Q,Ft)|0,c=c+Math.imul(Q,Wt)|0,c=c+Math.imul(tt,Ft)|0,m=m+Math.imul(tt,Wt)|0,y=y+Math.imul(Z,Kt)|0,c=c+Math.imul(Z,Ht)|0,c=c+Math.imul(J,Kt)|0,m=m+Math.imul(J,Ht)|0,y=y+Math.imul(U,jt)|0,c=c+Math.imul(U,$t)|0,c=c+Math.imul(O,jt)|0,m=m+Math.imul(O,$t)|0;var rs=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(rs>>>26)|0,rs&=67108863,y=Math.imul(Mt,Ut),c=Math.imul(Mt,zt),c=c+Math.imul(Rt,Ut)|0,m=Math.imul(Rt,zt),y=y+Math.imul(Et,Dt)|0,c=c+Math.imul(Et,qt)|0,c=c+Math.imul(Lt,Dt)|0,m=m+Math.imul(Lt,qt)|0,y=y+Math.imul(ut,Ft)|0,c=c+Math.imul(ut,Wt)|0,c=c+Math.imul(ht,Ft)|0,m=m+Math.imul(ht,Wt)|0,y=y+Math.imul(Q,Kt)|0,c=c+Math.imul(Q,Ht)|0,c=c+Math.imul(tt,Kt)|0,m=m+Math.imul(tt,Ht)|0,y=y+Math.imul(Z,jt)|0,c=c+Math.imul(Z,$t)|0,c=c+Math.imul(J,jt)|0,m=m+Math.imul(J,$t)|0,y=y+Math.imul(U,Vt)|0,c=c+Math.imul(U,Yt)|0,c=c+Math.imul(O,Vt)|0,m=m+Math.imul(O,Yt)|0;var ns=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ns>>>26)|0,ns&=67108863,y=Math.imul(Bt,Ut),c=Math.imul(Bt,zt),c=c+Math.imul(bt,Ut)|0,m=Math.imul(bt,zt),y=y+Math.imul(Mt,Dt)|0,c=c+Math.imul(Mt,qt)|0,c=c+Math.imul(Rt,Dt)|0,m=m+Math.imul(Rt,qt)|0,y=y+Math.imul(Et,Ft)|0,c=c+Math.imul(Et,Wt)|0,c=c+Math.imul(Lt,Ft)|0,m=m+Math.imul(Lt,Wt)|0,y=y+Math.imul(ut,Kt)|0,c=c+Math.imul(ut,Ht)|0,c=c+Math.imul(ht,Kt)|0,m=m+Math.imul(ht,Ht)|0,y=y+Math.imul(Q,jt)|0,c=c+Math.imul(Q,$t)|0,c=c+Math.imul(tt,jt)|0,m=m+Math.imul(tt,$t)|0,y=y+Math.imul(Z,Vt)|0,c=c+Math.imul(Z,Yt)|0,c=c+Math.imul(J,Vt)|0,m=m+Math.imul(J,Yt)|0,y=y+Math.imul(U,Gt)|0,c=c+Math.imul(U,Zt)|0,c=c+Math.imul(O,Gt)|0,m=m+Math.imul(O,Zt)|0;var is=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(is>>>26)|0,is&=67108863,y=Math.imul(It,Ut),c=Math.imul(It,zt),c=c+Math.imul(At,Ut)|0,m=Math.imul(At,zt),y=y+Math.imul(Bt,Dt)|0,c=c+Math.imul(Bt,qt)|0,c=c+Math.imul(bt,Dt)|0,m=m+Math.imul(bt,qt)|0,y=y+Math.imul(Mt,Ft)|0,c=c+Math.imul(Mt,Wt)|0,c=c+Math.imul(Rt,Ft)|0,m=m+Math.imul(Rt,Wt)|0,y=y+Math.imul(Et,Kt)|0,c=c+Math.imul(Et,Ht)|0,c=c+Math.imul(Lt,Kt)|0,m=m+Math.imul(Lt,Ht)|0,y=y+Math.imul(ut,jt)|0,c=c+Math.imul(ut,$t)|0,c=c+Math.imul(ht,jt)|0,m=m+Math.imul(ht,$t)|0,y=y+Math.imul(Q,Vt)|0,c=c+Math.imul(Q,Yt)|0,c=c+Math.imul(tt,Vt)|0,m=m+Math.imul(tt,Yt)|0,y=y+Math.imul(Z,Gt)|0,c=c+Math.imul(Z,Zt)|0,c=c+Math.imul(J,Gt)|0,m=m+Math.imul(J,Zt)|0,y=y+Math.imul(U,Jt)|0,c=c+Math.imul(U,Xt)|0,c=c+Math.imul(O,Jt)|0,m=m+Math.imul(O,Xt)|0;var ss=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ss>>>26)|0,ss&=67108863,y=Math.imul(_t,Ut),c=Math.imul(_t,zt),c=c+Math.imul(Tt,Ut)|0,m=Math.imul(Tt,zt),y=y+Math.imul(It,Dt)|0,c=c+Math.imul(It,qt)|0,c=c+Math.imul(At,Dt)|0,m=m+Math.imul(At,qt)|0,y=y+Math.imul(Bt,Ft)|0,c=c+Math.imul(Bt,Wt)|0,c=c+Math.imul(bt,Ft)|0,m=m+Math.imul(bt,Wt)|0,y=y+Math.imul(Mt,Kt)|0,c=c+Math.imul(Mt,Ht)|0,c=c+Math.imul(Rt,Kt)|0,m=m+Math.imul(Rt,Ht)|0,y=y+Math.imul(Et,jt)|0,c=c+Math.imul(Et,$t)|0,c=c+Math.imul(Lt,jt)|0,m=m+Math.imul(Lt,$t)|0,y=y+Math.imul(ut,Vt)|0,c=c+Math.imul(ut,Yt)|0,c=c+Math.imul(ht,Vt)|0,m=m+Math.imul(ht,Yt)|0,y=y+Math.imul(Q,Gt)|0,c=c+Math.imul(Q,Zt)|0,c=c+Math.imul(tt,Gt)|0,m=m+Math.imul(tt,Zt)|0,y=y+Math.imul(Z,Jt)|0,c=c+Math.imul(Z,Xt)|0,c=c+Math.imul(J,Jt)|0,m=m+Math.imul(J,Xt)|0,y=y+Math.imul(U,Qt)|0,c=c+Math.imul(U,te)|0,c=c+Math.imul(O,Qt)|0,m=m+Math.imul(O,te)|0;var os=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(os>>>26)|0,os&=67108863,y=Math.imul(Pt,Ut),c=Math.imul(Pt,zt),c=c+Math.imul(Ct,Ut)|0,m=Math.imul(Ct,zt),y=y+Math.imul(_t,Dt)|0,c=c+Math.imul(_t,qt)|0,c=c+Math.imul(Tt,Dt)|0,m=m+Math.imul(Tt,qt)|0,y=y+Math.imul(It,Ft)|0,c=c+Math.imul(It,Wt)|0,c=c+Math.imul(At,Ft)|0,m=m+Math.imul(At,Wt)|0,y=y+Math.imul(Bt,Kt)|0,c=c+Math.imul(Bt,Ht)|0,c=c+Math.imul(bt,Kt)|0,m=m+Math.imul(bt,Ht)|0,y=y+Math.imul(Mt,jt)|0,c=c+Math.imul(Mt,$t)|0,c=c+Math.imul(Rt,jt)|0,m=m+Math.imul(Rt,$t)|0,y=y+Math.imul(Et,Vt)|0,c=c+Math.imul(Et,Yt)|0,c=c+Math.imul(Lt,Vt)|0,m=m+Math.imul(Lt,Yt)|0,y=y+Math.imul(ut,Gt)|0,c=c+Math.imul(ut,Zt)|0,c=c+Math.imul(ht,Gt)|0,m=m+Math.imul(ht,Zt)|0,y=y+Math.imul(Q,Jt)|0,c=c+Math.imul(Q,Xt)|0,c=c+Math.imul(tt,Jt)|0,m=m+Math.imul(tt,Xt)|0,y=y+Math.imul(Z,Qt)|0,c=c+Math.imul(Z,te)|0,c=c+Math.imul(J,Qt)|0,m=m+Math.imul(J,te)|0,y=y+Math.imul(U,ee)|0,c=c+Math.imul(U,re)|0,c=c+Math.imul(O,ee)|0,m=m+Math.imul(O,re)|0;var as=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(as>>>26)|0,as&=67108863,y=Math.imul(Pt,Dt),c=Math.imul(Pt,qt),c=c+Math.imul(Ct,Dt)|0,m=Math.imul(Ct,qt),y=y+Math.imul(_t,Ft)|0,c=c+Math.imul(_t,Wt)|0,c=c+Math.imul(Tt,Ft)|0,m=m+Math.imul(Tt,Wt)|0,y=y+Math.imul(It,Kt)|0,c=c+Math.imul(It,Ht)|0,c=c+Math.imul(At,Kt)|0,m=m+Math.imul(At,Ht)|0,y=y+Math.imul(Bt,jt)|0,c=c+Math.imul(Bt,$t)|0,c=c+Math.imul(bt,jt)|0,m=m+Math.imul(bt,$t)|0,y=y+Math.imul(Mt,Vt)|0,c=c+Math.imul(Mt,Yt)|0,c=c+Math.imul(Rt,Vt)|0,m=m+Math.imul(Rt,Yt)|0,y=y+Math.imul(Et,Gt)|0,c=c+Math.imul(Et,Zt)|0,c=c+Math.imul(Lt,Gt)|0,m=m+Math.imul(Lt,Zt)|0,y=y+Math.imul(ut,Jt)|0,c=c+Math.imul(ut,Xt)|0,c=c+Math.imul(ht,Jt)|0,m=m+Math.imul(ht,Xt)|0,y=y+Math.imul(Q,Qt)|0,c=c+Math.imul(Q,te)|0,c=c+Math.imul(tt,Qt)|0,m=m+Math.imul(tt,te)|0,y=y+Math.imul(Z,ee)|0,c=c+Math.imul(Z,re)|0,c=c+Math.imul(J,ee)|0,m=m+Math.imul(J,re)|0;var cs=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(cs>>>26)|0,cs&=67108863,y=Math.imul(Pt,Ft),c=Math.imul(Pt,Wt),c=c+Math.imul(Ct,Ft)|0,m=Math.imul(Ct,Wt),y=y+Math.imul(_t,Kt)|0,c=c+Math.imul(_t,Ht)|0,c=c+Math.imul(Tt,Kt)|0,m=m+Math.imul(Tt,Ht)|0,y=y+Math.imul(It,jt)|0,c=c+Math.imul(It,$t)|0,c=c+Math.imul(At,jt)|0,m=m+Math.imul(At,$t)|0,y=y+Math.imul(Bt,Vt)|0,c=c+Math.imul(Bt,Yt)|0,c=c+Math.imul(bt,Vt)|0,m=m+Math.imul(bt,Yt)|0,y=y+Math.imul(Mt,Gt)|0,c=c+Math.imul(Mt,Zt)|0,c=c+Math.imul(Rt,Gt)|0,m=m+Math.imul(Rt,Zt)|0,y=y+Math.imul(Et,Jt)|0,c=c+Math.imul(Et,Xt)|0,c=c+Math.imul(Lt,Jt)|0,m=m+Math.imul(Lt,Xt)|0,y=y+Math.imul(ut,Qt)|0,c=c+Math.imul(ut,te)|0,c=c+Math.imul(ht,Qt)|0,m=m+Math.imul(ht,te)|0,y=y+Math.imul(Q,ee)|0,c=c+Math.imul(Q,re)|0,c=c+Math.imul(tt,ee)|0,m=m+Math.imul(tt,re)|0;var us=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(us>>>26)|0,us&=67108863,y=Math.imul(Pt,Kt),c=Math.imul(Pt,Ht),c=c+Math.imul(Ct,Kt)|0,m=Math.imul(Ct,Ht),y=y+Math.imul(_t,jt)|0,c=c+Math.imul(_t,$t)|0,c=c+Math.imul(Tt,jt)|0,m=m+Math.imul(Tt,$t)|0,y=y+Math.imul(It,Vt)|0,c=c+Math.imul(It,Yt)|0,c=c+Math.imul(At,Vt)|0,m=m+Math.imul(At,Yt)|0,y=y+Math.imul(Bt,Gt)|0,c=c+Math.imul(Bt,Zt)|0,c=c+Math.imul(bt,Gt)|0,m=m+Math.imul(bt,Zt)|0,y=y+Math.imul(Mt,Jt)|0,c=c+Math.imul(Mt,Xt)|0,c=c+Math.imul(Rt,Jt)|0,m=m+Math.imul(Rt,Xt)|0,y=y+Math.imul(Et,Qt)|0,c=c+Math.imul(Et,te)|0,c=c+Math.imul(Lt,Qt)|0,m=m+Math.imul(Lt,te)|0,y=y+Math.imul(ut,ee)|0,c=c+Math.imul(ut,re)|0,c=c+Math.imul(ht,ee)|0,m=m+Math.imul(ht,re)|0;var fs=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(fs>>>26)|0,fs&=67108863,y=Math.imul(Pt,jt),c=Math.imul(Pt,$t),c=c+Math.imul(Ct,jt)|0,m=Math.imul(Ct,$t),y=y+Math.imul(_t,Vt)|0,c=c+Math.imul(_t,Yt)|0,c=c+Math.imul(Tt,Vt)|0,m=m+Math.imul(Tt,Yt)|0,y=y+Math.imul(It,Gt)|0,c=c+Math.imul(It,Zt)|0,c=c+Math.imul(At,Gt)|0,m=m+Math.imul(At,Zt)|0,y=y+Math.imul(Bt,Jt)|0,c=c+Math.imul(Bt,Xt)|0,c=c+Math.imul(bt,Jt)|0,m=m+Math.imul(bt,Xt)|0,y=y+Math.imul(Mt,Qt)|0,c=c+Math.imul(Mt,te)|0,c=c+Math.imul(Rt,Qt)|0,m=m+Math.imul(Rt,te)|0,y=y+Math.imul(Et,ee)|0,c=c+Math.imul(Et,re)|0,c=c+Math.imul(Lt,ee)|0,m=m+Math.imul(Lt,re)|0;var ls=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ls>>>26)|0,ls&=67108863,y=Math.imul(Pt,Vt),c=Math.imul(Pt,Yt),c=c+Math.imul(Ct,Vt)|0,m=Math.imul(Ct,Yt),y=y+Math.imul(_t,Gt)|0,c=c+Math.imul(_t,Zt)|0,c=c+Math.imul(Tt,Gt)|0,m=m+Math.imul(Tt,Zt)|0,y=y+Math.imul(It,Jt)|0,c=c+Math.imul(It,Xt)|0,c=c+Math.imul(At,Jt)|0,m=m+Math.imul(At,Xt)|0,y=y+Math.imul(Bt,Qt)|0,c=c+Math.imul(Bt,te)|0,c=c+Math.imul(bt,Qt)|0,m=m+Math.imul(bt,te)|0,y=y+Math.imul(Mt,ee)|0,c=c+Math.imul(Mt,re)|0,c=c+Math.imul(Rt,ee)|0,m=m+Math.imul(Rt,re)|0;var hs=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(hs>>>26)|0,hs&=67108863,y=Math.imul(Pt,Gt),c=Math.imul(Pt,Zt),c=c+Math.imul(Ct,Gt)|0,m=Math.imul(Ct,Zt),y=y+Math.imul(_t,Jt)|0,c=c+Math.imul(_t,Xt)|0,c=c+Math.imul(Tt,Jt)|0,m=m+Math.imul(Tt,Xt)|0,y=y+Math.imul(It,Qt)|0,c=c+Math.imul(It,te)|0,c=c+Math.imul(At,Qt)|0,m=m+Math.imul(At,te)|0,y=y+Math.imul(Bt,ee)|0,c=c+Math.imul(Bt,re)|0,c=c+Math.imul(bt,ee)|0,m=m+Math.imul(bt,re)|0;var ds=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ds>>>26)|0,ds&=67108863,y=Math.imul(Pt,Jt),c=Math.imul(Pt,Xt),c=c+Math.imul(Ct,Jt)|0,m=Math.imul(Ct,Xt),y=y+Math.imul(_t,Qt)|0,c=c+Math.imul(_t,te)|0,c=c+Math.imul(Tt,Qt)|0,m=m+Math.imul(Tt,te)|0,y=y+Math.imul(It,ee)|0,c=c+Math.imul(It,re)|0,c=c+Math.imul(At,ee)|0,m=m+Math.imul(At,re)|0;var ps=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ps>>>26)|0,ps&=67108863,y=Math.imul(Pt,Qt),c=Math.imul(Pt,te),c=c+Math.imul(Ct,Qt)|0,m=Math.imul(Ct,te),y=y+Math.imul(_t,ee)|0,c=c+Math.imul(_t,re)|0,c=c+Math.imul(Tt,ee)|0,m=m+Math.imul(Tt,re)|0;var ys=(v+y|0)+((c&8191)<<13)|0;v=(m+(c>>>13)|0)+(ys>>>26)|0,ys&=67108863,y=Math.imul(Pt,ee),c=Math.imul(Pt,re),c=c+Math.imul(Ct,ee)|0,m=Math.imul(Ct,re);var gs=(v+y|0)+((c&8191)<<13)|0;return v=(m+(c>>>13)|0)+(gs>>>26)|0,gs&=67108863,g[0]=Xi,g[1]=Qi,g[2]=ts,g[3]=es,g[4]=rs,g[5]=ns,g[6]=is,g[7]=ss,g[8]=os,g[9]=as,g[10]=cs,g[11]=us,g[12]=fs,g[13]=ls,g[14]=hs,g[15]=ds,g[16]=ps,g[17]=ys,g[18]=gs,v!==0&&(g[19]=v,h.length++),h};Math.imul||(R=_);function D(x,a,u){u.negative=a.negative^x.negative,u.length=x.length+a.length;for(var h=0,d=0,p=0;p<u.length-1;p++){var g=d;d=0;for(var v=h&67108863,y=Math.min(p,a.length-1),c=Math.max(0,p-x.length+1);c<=y;c++){var m=p-c,C=x.words[m]|0,U=a.words[c]|0,O=C*U,W=O&67108863;g=g+(O/67108864|0)|0,W=W+v|0,v=W&67108863,g=g+(W>>>26)|0,d+=g>>>26,g&=67108863}u.words[p]=v,h=g,g=d}return h!==0?u.words[p]=h:u.length--,u._strip()}function N(x,a,u){return D(x,a,u)}i.prototype.mulTo=function(a,u){var h,d=this.length+a.length;return this.length===10&&a.length===10?h=R(this,a,u):d<63?h=_(this,a,u):d<1024?h=D(this,a,u):h=N(this,a,u),h};function j(x,a){this.x=x,this.y=a}j.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,d=0;d<a;d++)u[d]=this.revBin(d,h,a);return u},j.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var d=0,p=0;p<u;p++)d|=(a&1)<<u-p-1,a>>=1;return d},j.prototype.permute=function(a,u,h,d,p,g){for(var v=0;v<g;v++)d[v]=u[a[v]],p[v]=h[a[v]]},j.prototype.transform=function(a,u,h,d,p,g){this.permute(g,a,u,h,d,p);for(var v=1;v<p;v<<=1)for(var y=v<<1,c=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),C=0;C<p;C+=y)for(var U=c,O=m,W=0;W<v;W++){var Z=h[C+W],J=d[C+W],gt=h[C+W+v],Q=d[C+W+v],tt=U*gt-O*Q;Q=U*Q+O*gt,gt=tt,h[C+W]=Z+gt,d[C+W]=J+Q,h[C+W+v]=Z-gt,d[C+W+v]=J-Q,W!==y&&(tt=c*U-m*O,O=c*O+m*U,U=tt)}},j.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,d=h&1,p=0;for(h=h/2|0;h;h=h>>>1)p++;return 1<<p+1+d},j.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var d=0;d<h/2;d++){var p=a[d];a[d]=a[h-d-1],a[h-d-1]=p,p=u[d],u[d]=-u[h-d-1],u[h-d-1]=-p}},j.prototype.normalize13b=function(a,u){for(var h=0,d=0;d<u/2;d++){var p=Math.round(a[2*d+1]/u)*8192+Math.round(a[2*d]/u)+h;a[d]=p&67108863,p<67108864?h=0:h=p/67108864|0}return a},j.prototype.convert13b=function(a,u,h,d){for(var p=0,g=0;g<u;g++)p=p+(a[g]|0),h[2*g]=p&8191,p=p>>>13,h[2*g+1]=p&8191,p=p>>>13;for(g=2*u;g<d;++g)h[g]=0;e(p===0),e((p&-8192)===0)},j.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},j.prototype.mulp=function(a,u,h){var d=2*this.guessLen13b(a.length,u.length),p=this.makeRBT(d),g=this.stub(d),v=new Array(d),y=new Array(d),c=new Array(d),m=new Array(d),C=new Array(d),U=new Array(d),O=h.words;O.length=d,this.convert13b(a.words,a.length,v,d),this.convert13b(u.words,u.length,m,d),this.transform(v,g,y,c,d,p),this.transform(m,g,C,U,d,p);for(var W=0;W<d;W++){var Z=y[W]*C[W]-c[W]*U[W];c[W]=y[W]*U[W]+c[W]*C[W],y[W]=Z}return this.conjugate(y,c,d),this.transform(y,c,O,g,d,p),this.conjugate(O,g,d),this.normalize13b(O,d),h.negative=a.negative^u.negative,h.length=a.length+u.length,h._strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),N(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var u=a<0;u&&(a=-a),e(typeof a==\"number\"),e(a<67108864);for(var h=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*a,g=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=g>>>26,this.words[d]=g&67108863}return h!==0&&(this.words[d]=h,this.length++),u?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=E(a);if(u.length===0)return new i(1);for(var h=this,d=0;d<u.length&&u[d]===0;d++,h=h.sqr());if(++d<u.length)for(var p=h.sqr();d<u.length;d++,p=p.sqr())u[d]!==0&&(h=h.mul(p));return h},i.prototype.iushln=function(a){e(typeof a==\"number\"&&a>=0);var u=a%26,h=(a-u)/26,d=67108863>>>26-u<<26-u,p;if(u!==0){var g=0;for(p=0;p<this.length;p++){var v=this.words[p]&d,y=(this.words[p]|0)-v<<u;this.words[p]=y|g,g=v>>>26-u}g&&(this.words[p]=g,this.length++)}if(h!==0){for(p=this.length-1;p>=0;p--)this.words[p+h]=this.words[p];for(p=0;p<h;p++)this.words[p]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(a){return e(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){e(typeof a==\"number\"&&a>=0);var d;u?d=(u-u%26)/26:d=0;var p=a%26,g=Math.min((a-p)/26,this.length),v=67108863^67108863>>>p<<p,y=h;if(d-=g,d=Math.max(0,d),y){for(var c=0;c<g;c++)y.words[c]=this.words[c];y.length=g}if(g!==0)if(this.length>g)for(this.length-=g,c=0;c<this.length;c++)this.words[c]=this.words[c+g];else this.words[0]=0,this.length=1;var m=0;for(c=this.length-1;c>=0&&(m!==0||c>=d);c--){var C=this.words[c]|0;this.words[c]=m<<26-p|C>>>p,m=C&v}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,u,h){return e(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){e(typeof a==\"number\"&&a>=0);var u=a%26,h=(a-u)/26,d=1<<u;if(this.length<=h)return!1;var p=this.words[h];return!!(p&d)},i.prototype.imaskn=function(a){e(typeof a==\"number\"&&a>=0);var u=a%26,h=(a-u)/26;if(e(this.negative===0,\"imaskn works only with positive numbers\"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var d=67108863^67108863>>>u<<u;this.words[this.length-1]&=d}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return e(typeof a==\"number\"),e(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(e(typeof a==\"number\"),e(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var d=a.length+h,p;this._expand(d);var g,v=0;for(p=0;p<a.length;p++){g=(this.words[p+h]|0)+v;var y=(a.words[p]|0)*u;g-=y&67108863,v=(g>>26)-(y/67108864|0),this.words[p+h]=g&67108863}for(;p<this.length-h;p++)g=(this.words[p+h]|0)+v,v=g>>26,this.words[p+h]=g&67108863;if(v===0)return this._strip();for(e(v===-1),v=0,p=0;p<this.length;p++)g=-(this.words[p]|0)+v,v=g>>26,this.words[p]=g&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,d=this.clone(),p=a,g=p.words[p.length-1]|0,v=this._countBits(g);h=26-v,h!==0&&(p=p.ushln(h),d.iushln(h),g=p.words[p.length-1]|0);var y=d.length-p.length,c;if(u!==\"mod\"){c=new i(null),c.length=y+1,c.words=new Array(c.length);for(var m=0;m<c.length;m++)c.words[m]=0}var C=d.clone()._ishlnsubmul(p,1,y);C.negative===0&&(d=C,c&&(c.words[y]=1));for(var U=y-1;U>=0;U--){var O=(d.words[p.length+U]|0)*67108864+(d.words[p.length+U-1]|0);for(O=Math.min(O/g|0,67108863),d._ishlnsubmul(p,O,U);d.negative!==0;)O--,d.negative=0,d._ishlnsubmul(p,1,U),d.isZero()||(d.negative^=1);c&&(c.words[U]=O)}return c&&c._strip(),d._strip(),u!==\"div\"&&h!==0&&d.iushrn(h),{div:c||null,mod:d}},i.prototype.divmod=function(a,u,h){if(e(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,g;return this.negative!==0&&a.negative===0?(g=this.neg().divmod(a,u),u!==\"mod\"&&(d=g.div.neg()),u!==\"div\"&&(p=g.mod.neg(),h&&p.negative!==0&&p.iadd(a)),{div:d,mod:p}):this.negative===0&&a.negative!==0?(g=this.divmod(a.neg(),u),u!==\"mod\"&&(d=g.div.neg()),{div:d,mod:g.mod}):this.negative&a.negative?(g=this.neg().divmod(a.neg(),u),u!==\"div\"&&(p=g.mod.neg(),h&&p.negative!==0&&p.isub(a)),{div:g.div,mod:p}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u===\"div\"?{div:this.divn(a.words[0]),mod:null}:u===\"mod\"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,\"div\",!1).div},i.prototype.mod=function(a){return this.divmod(a,\"mod\",!1).mod},i.prototype.umod=function(a){return this.divmod(a,\"mod\",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,d=a.ushrn(1),p=a.andln(1),g=h.cmp(d);return g<0||p===1&&g===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(a){var u=a<0;u&&(a=-a),e(a<=67108863);for(var h=(1<<26)%a,d=0,p=this.length-1;p>=0;p--)d=(h*d+(this.words[p]|0))%a;return u?-d:d},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var u=a<0;u&&(a=-a),e(a<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+h*67108864;this.words[d]=p/a|0,h=p%a}return this._strip(),u?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){e(a.negative===0),e(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var d=new i(1),p=new i(0),g=new i(0),v=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var c=h.clone(),m=u.clone();!u.isZero();){for(var C=0,U=1;!(u.words[0]&U)&&C<26;++C,U<<=1);if(C>0)for(u.iushrn(C);C-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(c),p.isub(m)),d.iushrn(1),p.iushrn(1);for(var O=0,W=1;!(h.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(h.iushrn(O);O-- >0;)(g.isOdd()||v.isOdd())&&(g.iadd(c),v.isub(m)),g.iushrn(1),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),d.isub(g),p.isub(v)):(h.isub(u),g.isub(d),v.isub(p))}return{a:g,b:v,gcd:h.iushln(y)}},i.prototype._invmp=function(a){e(a.negative===0),e(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var d=new i(1),p=new i(0),g=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,y=1;!(u.words[0]&y)&&v<26;++v,y<<=1);if(v>0)for(u.iushrn(v);v-- >0;)d.isOdd()&&d.iadd(g),d.iushrn(1);for(var c=0,m=1;!(h.words[0]&m)&&c<26;++c,m<<=1);if(c>0)for(h.iushrn(c);c-- >0;)p.isOdd()&&p.iadd(g),p.iushrn(1);u.cmp(h)>=0?(u.isub(h),d.isub(p)):(h.isub(u),p.isub(d))}var C;return u.cmpn(1)===0?C=d:C=p,C.cmpn(0)<0&&C.iadd(a),C},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var d=0;u.isEven()&&h.isEven();d++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var p=u.cmp(h);if(p<0){var g=u;u=h,h=g}else if(p===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(d)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){e(typeof a==\"number\");var u=a%26,h=(a-u)/26,d=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=d,this;for(var p=d,g=h;p!==0&&g<this.length;g++){var v=this.words[g]|0;v+=p,p=v>>>26,v&=67108863,this.words[g]=v}return p!==0&&(this.words[g]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(a=-a),e(a<=67108863,\"Number is too big\");var d=this.words[0]|0;h=d===a?0:d<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var d=this.words[h]|0,p=a.words[h]|0;if(d!==p){d<p?u=-1:d>p&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new V(a)},i.prototype.toRed=function(a){return e(!this.red,\"Already a number in reduction context\"),e(this.negative===0,\"red works only with positives\"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return e(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return e(!this.red,\"Already a number in reduction context\"),this._forceRed(a)},i.prototype.redAdd=function(a){return e(this.red,\"redAdd works only with red numbers\"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return e(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return e(this.red,\"redSub works only with red numbers\"),this.red.sub(this,a)},i.prototype.redISub=function(a){return e(this.red,\"redISub works only with red numbers\"),this.red.isub(this,a)},i.prototype.redShl=function(a){return e(this.red,\"redShl works only with red numbers\"),this.red.shl(this,a)},i.prototype.redMul=function(a){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return e(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return e(this.red&&!a.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,a)};var q={k256:null,p224:null,p192:null,p25519:null};function z(x,a){this.name=x,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},z.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var d=h<this.n?-1:u.ucmp(this.p);return d===0?(u.words[0]=0,u.length=1):d>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},z.prototype.split=function(a,u){a.iushrn(this.n,0,u)},z.prototype.imulK=function(a){return a.imul(this.k)};function $(){z.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}n($,z),$.prototype.split=function(a,u){for(var h=4194303,d=Math.min(a.length,9),p=0;p<d;p++)u.words[p]=a.words[p];if(u.length=d,a.length<=9){a.words[0]=0,a.length=1;return}var g=a.words[9];for(u.words[u.length++]=g&h,p=10;p<a.length;p++){var v=a.words[p]|0;a.words[p-10]=(v&h)<<4|g>>>22,g=v}g>>>=22,a.words[p-10]=g,g===0&&a.length>10?a.length-=10:a.length-=9},$.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var d=a.words[h]|0;u+=d*977,a.words[h]=u&67108863,u=d*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function Y(){z.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}n(Y,z);function ft(){z.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}n(ft,z);function nt(){z.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}n(nt,z),nt.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var d=(a.words[h]|0)*19+u,p=d&67108863;d>>>=26,a.words[h]=p,u=d}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(q[a])return q[a];var u;if(a===\"k256\")u=new $;else if(a===\"p224\")u=new Y;else if(a===\"p192\")u=new ft;else if(a===\"p25519\")u=new nt;else throw new Error(\"Unknown prime \"+a);return q[a]=u,u};function V(x){if(typeof x==\"string\"){var a=i._prime(x);this.m=a.p,this.prime=a}else e(x.gtn(1),\"modulus must be greater than 1\"),this.m=x,this.prime=null}V.prototype._verify1=function(a){e(a.negative===0,\"red works only with positives\"),e(a.red,\"red works only with red numbers\")},V.prototype._verify2=function(a,u){e((a.negative|u.negative)===0,\"red works only with positives\"),e(a.red&&a.red===u.red,\"red works only with red numbers\")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(w(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},V.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},V.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},V.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},V.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},V.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},V.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(e(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);e(!d.isZero());var g=new i(1).toRed(this),v=g.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,y).cmp(v)!==0;)c.redIAdd(v);for(var m=this.pow(c,d),C=this.pow(a,d.addn(1).iushrn(1)),U=this.pow(a,d),O=p;U.cmp(g)!==0;){for(var W=U,Z=0;W.cmp(g)!==0;Z++)W=W.redSqr();e(Z<O);var J=this.pow(m,new i(1).iushln(O-Z-1));C=C.redMul(J),m=J.redSqr(),U=U.redMul(m),O=Z}return C},V.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},V.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,d=new Array(1<<h);d[0]=new i(1).toRed(this),d[1]=a;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],a);var g=d[0],v=0,y=0,c=u.bitLength()%26;for(c===0&&(c=26),p=u.length-1;p>=0;p--){for(var m=u.words[p],C=c-1;C>=0;C--){var U=m>>C&1;if(g!==d[0]&&(g=this.sqr(g)),U===0&&v===0){y=0;continue}v<<=1,v|=U,y++,!(y!==h&&(p!==0||C!==0))&&(g=this.mul(g,d[v]),y=0,v=0)}c=26}return g},V.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},V.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new lt(a)};function lt(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(lt,V),lt.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},lt.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},lt.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(d).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},lt.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(d).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},lt.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Vs>\"u\"||Vs,tc)});var nc=me((Gs,rc)=>{var ti=an(),Fe=ti.Buffer;function ec(r,t){for(var e in r)t[e]=r[e]}Fe.from&&Fe.alloc&&Fe.allocUnsafe&&Fe.allocUnsafeSlow?rc.exports=ti:(ec(ti,Gs),Gs.Buffer=Ar);function Ar(r,t,e){return Fe(r,t,e)}Ar.prototype=Object.create(Fe.prototype);ec(Fe,Ar);Ar.from=function(r,t,e){if(typeof r==\"number\")throw new TypeError(\"Argument must not be a number\");return Fe(r,t,e)};Ar.alloc=function(r,t,e){if(typeof r!=\"number\")throw new TypeError(\"Argument must be a number\");var n=Fe(r);return t!==void 0?typeof e==\"string\"?n.fill(t,e):n.fill(t):n.fill(0),n};Ar.allocUnsafe=function(r){if(typeof r!=\"number\")throw new TypeError(\"Argument must be a number\");return Fe(r)};Ar.allocUnsafeSlow=function(r){if(typeof r!=\"number\")throw new TypeError(\"Argument must be a number\");return ti.SlowBuffer(r)}});var sc=me((R0,ic)=>{\"use strict\";var ei=nc().Buffer;function Sl(r){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+\" is ambiguous\");t[s]=n}var o=r.length,f=r.charAt(0),l=Math.log(o)/Math.log(256),w=Math.log(256)/Math.log(o);function b(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=ei.from(A)),!ei.isBuffer(A))throw new TypeError(\"Expected Buffer\");if(A.length===0)return\"\";for(var T=0,E=0,_=0,R=A.length;_!==R&&A[_]===0;)_++,T++;for(var D=(R-_)*w+1>>>0,N=new Uint8Array(D);_!==R;){for(var j=A[_],q=0,z=D-1;(j!==0||q<E)&&z!==-1;z--,q++)j+=256*N[z]>>>0,N[z]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error(\"Non-zero carry\");E=q,_++}for(var $=D-E;$!==D&&N[$]===0;)$++;for(var Y=f.repeat(T);$<D;++$)Y+=r.charAt(N[$]);return Y}function S(A){if(typeof A!=\"string\")throw new TypeError(\"Expected String\");if(A.length===0)return ei.alloc(0);for(var T=0,E=0,_=0;A[T]===f;)E++,T++;for(var R=(A.length-T)*l+1>>>0,D=new Uint8Array(R);T<A.length;){var N=t[A.charCodeAt(T)];if(N===255)return;for(var j=0,q=R-1;(N!==0||j<_)&&q!==-1;q--,j++)N+=o*D[q]>>>0,D[q]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error(\"Non-zero carry\");_=j,T++}for(var z=R-_;z!==R&&D[z]===0;)z++;var $=ei.allocUnsafe(E+(R-z));$.fill(0,0,E);for(var Y=E;z!==R;)$[Y++]=D[z++];return $}function M(A){var T=S(A);if(T)return T;throw new Error(\"Non-base\"+o+\" character\")}return{encode:b,decodeUnsafe:S,decode:M}}ic.exports=Sl});var ln=me((T0,oc)=>{var El=sc(),Bl=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";oc.exports=El(Bl)});var ac=me(Qs=>{\"use strict\";function Ze(r,t,e){return t<=r&&r<=e}function oi(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError(\"Could not convert argument to dictionary\")}function Al(r){for(var t=String(r),e=t.length,n=0,i=[];n<e;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===e-1)i.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var f=s&1023,l=o&1023;i.push(65536+(f<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function _l(r){for(var t=\"\",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var ri=-1;function Xs(r){this.tokens=[].slice.call(r)}Xs.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ri},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Kr=-1;function Js(r,t){if(r)throw TypeError(\"Decoder error\");return t||65533}var ni=\"utf-8\";function ii(r,t){if(!(this instanceof ii))return new ii(r,t);if(r=r!==void 0?String(r).toLowerCase():ni,r!==ni)throw new Error(\"Encoding not supported. Only utf-8 is supported\");t=oi(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,\"encoding\",{value:\"utf-8\"}),Object.defineProperty(this,\"fatal\",{value:this._fatal}),Object.defineProperty(this,\"ignoreBOM\",{value:this._ignoreBOM})}ii.prototype={decode:function(t,e){var n;typeof t==\"object\"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t==\"object\"&&\"buffer\"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=oi(e),this._streaming||(this._decoder=new Ll({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var i=new Xs(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Kr);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Kr)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&[\"utf-8\"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),_l(s)}};function si(r,t){if(!(this instanceof si))return new si(r,t);if(r=r!==void 0?String(r).toLowerCase():ni,r!==ni)throw new Error(\"Encoding not supported. Only utf-8 is supported\");t=oi(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,\"encoding\",{value:\"utf-8\"})}si.prototype={encode:function(t,e){t=t?String(t):\"\",e=oi(e),this._streaming||(this._encoder=new Ml(this._options)),this._streaming=!!e.stream;for(var n=[],i=new Xs(Al(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Kr);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Kr;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function Ll(r){var t=r.fatal,e=0,n=0,i=0,s=128,o=191;this.handler=function(f,l){if(l===ri&&i!==0)return i=0,Js(t);if(l===ri)return Kr;if(i===0){if(Ze(l,0,127))return l;if(Ze(l,194,223))i=1,e=l-192;else if(Ze(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,e=l-224;else if(Ze(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,e=l-240;else return Js(t);return e=e<<6*i,null}if(!Ze(l,s,o))return e=i=n=0,s=128,o=191,f.prepend(l),Js(t);if(s=128,o=191,n+=1,e+=l-128<<6*(i-n),n!==i)return null;var w=e;return e=i=n=0,w}}function Ml(r){var t=r.fatal;this.handler=function(e,n){if(n===ri)return Kr;if(Ze(n,0,127))return n;var i,s;Ze(n,128,2047)?(i=1,s=192):Ze(n,2048,65535)?(i=2,s=224):Ze(n,65536,1114111)&&(i=3,s=240);for(var o=[(n>>6*i)+s];i>0;){var f=n>>6*(i-1);o.push(128|f&63),i-=1}return o}}Qs.TextEncoder=si;Qs.TextDecoder=ii});var hc=me(pt=>{\"use strict\";var Rl=pt&&pt.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Tl=pt&&pt.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,\"default\",{enumerable:!0,value:t})}:function(r,t){r.default=t}),We=pt&&pt.__decorate||function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(o=r[f])&&(s=(i<3?o(s):i>3?o(t,e,s):o(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s},Pl=pt&&pt.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!==\"default\"&&Object.hasOwnProperty.call(r,e)&&Rl(t,r,e);return Tl(t,r),t},cc=pt&&pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pt,\"__esModule\",{value:!0});pt.deserializeUnchecked=pt.deserialize=pt.serialize=pt.BinaryReader=pt.BinaryWriter=pt.BorshError=pt.baseDecode=pt.baseEncode=void 0;var dr=cc(Ys()),uc=cc(ln()),Cl=Pl(ac()),Nl=typeof TextDecoder!=\"function\"?Cl.TextDecoder:TextDecoder,Ol=new Nl(\"utf-8\",{fatal:!0});function Ul(r){return typeof r==\"string\"&&(r=Buffer.from(r,\"utf8\")),uc.default.encode(Buffer.from(r))}pt.baseEncode=Ul;function zl(r){return Buffer.from(uc.default.decode(r))}pt.baseDecode=zl;var to=1024,oe=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+\": \"+this.fieldPath.join(\".\")}};pt.BorshError=oe;var ai=class{constructor(){this.buf=Buffer.alloc(to),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(to)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new dr.default(t).toArray(\"le\",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new dr.default(t).toArray(\"le\",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new dr.default(t).toArray(\"le\",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new dr.default(t).toArray(\"le\",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(to)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,\"utf8\");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};pt.BinaryWriter=ai;function Ke(r,t,e){let n=e.value;e.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let o=s.code;if([\"ERR_BUFFER_OUT_OF_BOUNDS\",\"ERR_OUT_OF_RANGE\"].indexOf(o)>=0)throw new oe(\"Reached the end of buffer when deserializing\")}throw s}}}var we=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new dr.default(t,\"le\")}readU128(){let t=this.readBuffer(16);return new dr.default(t,\"le\")}readU256(){let t=this.readBuffer(32);return new dr.default(t,\"le\")}readU512(){let t=this.readBuffer(64);return new dr.default(t,\"le\")}readBuffer(t){if(this.offset+t>this.buf.length)throw new oe(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return Ol.decode(e)}catch(n){throw new oe(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),n=Array();for(let i=0;i<e;++i)n.push(t());return n}};We([Ke],we.prototype,\"readU8\",null);We([Ke],we.prototype,\"readU16\",null);We([Ke],we.prototype,\"readU32\",null);We([Ke],we.prototype,\"readU64\",null);We([Ke],we.prototype,\"readU128\",null);We([Ke],we.prototype,\"readU256\",null);We([Ke],we.prototype,\"readU512\",null);We([Ke],we.prototype,\"readString\",null);We([Ke],we.prototype,\"readFixedArray\",null);We([Ke],we.prototype,\"readArray\",null);pt.BinaryReader=we;function fc(r){return r.charAt(0).toUpperCase()+r.slice(1)}function _r(r,t,e,n,i){try{if(typeof n==\"string\")i[`write${fc(n)}`](e);else if(n instanceof Array)if(typeof n[0]==\"number\"){if(e.length!==n[0])throw new oe(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);i.writeFixedArray(e)}else if(n.length===2&&typeof n[1]==\"number\"){if(e.length!==n[1])throw new oe(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let s=0;s<n[1];s++)_r(r,null,e[s],n[0],i)}else i.writeArray(e,s=>{_r(r,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case\"option\":{e==null?i.writeU8(0):(i.writeU8(1),_r(r,t,e,n.type,i));break}case\"map\":{i.writeU32(e.size),e.forEach((s,o)=>{_r(r,t,o,n.key,i),_r(r,t,s,n.value,i)});break}default:throw new oe(`FieldType ${n} unrecognized`)}else lc(r,e,i)}catch(s){throw s instanceof oe&&s.addToFieldPath(t),s}}function lc(r,t,e){if(typeof t.borshSerialize==\"function\"){t.borshSerialize(e);return}let n=r.get(t.constructor);if(!n)throw new oe(`Class ${t.constructor.name} is missing in schema`);if(n.kind===\"struct\")n.fields.map(([i,s])=>{_r(r,i,t[i],s,e)});else if(n.kind===\"enum\"){let i=t[n.field];for(let s=0;s<n.values.length;++s){let[o,f]=n.values[s];if(o===i){e.writeU8(s),_r(r,o,t[o],f,e);break}}}else throw new oe(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Dl(r,t,e=ai){let n=new e;return lc(r,t,n),n.toArray()}pt.serialize=Dl;function Lr(r,t,e,n){try{if(typeof e==\"string\")return n[`read${fc(e)}`]();if(e instanceof Array){if(typeof e[0]==\"number\")return n.readFixedArray(e[0]);if(typeof e[1]==\"number\"){let i=[];for(let s=0;s<e[1];s++)i.push(Lr(r,null,e[0],n));return i}else return n.readArray(()=>Lr(r,t,e[0],n))}if(e.kind===\"option\")return n.readU8()?Lr(r,t,e.type,n):void 0;if(e.kind===\"map\"){let i=new Map,s=n.readU32();for(let o=0;o<s;o++){let f=Lr(r,t,e.key,n),l=Lr(r,t,e.value,n);i.set(f,l)}return i}return eo(r,e,n)}catch(i){throw i instanceof oe&&i.addToFieldPath(t),i}}function eo(r,t,e){if(typeof t.borshDeserialize==\"function\")return t.borshDeserialize(e);let n=r.get(t);if(!n)throw new oe(`Class ${t.name} is missing in schema`);if(n.kind===\"struct\"){let i={};for(let[s,o]of r.get(t).fields)i[s]=Lr(r,s,o,e);return new t(i)}if(n.kind===\"enum\"){let i=e.readU8();if(i>=n.values.length)throw new oe(`Enum index: ${i} is out of range`);let[s,o]=n.values[i],f=Lr(r,s,o,e);return new t({[s]:f})}throw new oe(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function ql(r,t,e,n=we){let i=new n(e),s=eo(r,t,i);if(i.offset<e.length)throw new oe(`Unexpected ${e.length-i.offset} bytes after deserialized data`);return s}pt.deserialize=ql;function Fl(r,t,e,n=we){let i=new n(e);return eo(r,t,i)}pt.deserializeUnchecked=Fl});var so=me(I=>{\"use strict\";Object.defineProperty(I,\"__esModule\",{value:!0});I.s16=I.s8=I.nu64be=I.u48be=I.u40be=I.u32be=I.u24be=I.u16be=I.nu64=I.u48=I.u40=I.u32=I.u24=I.u16=I.u8=I.offset=I.greedy=I.Constant=I.UTF8=I.CString=I.Blob=I.Boolean=I.BitField=I.BitStructure=I.VariantLayout=I.Union=I.UnionLayoutDiscriminator=I.UnionDiscriminator=I.Structure=I.Sequence=I.DoubleBE=I.Double=I.FloatBE=I.Float=I.NearInt64BE=I.NearInt64=I.NearUInt64BE=I.NearUInt64=I.IntBE=I.Int=I.UIntBE=I.UInt=I.OffsetLayout=I.GreedyCount=I.ExternalLayout=I.bindConstructorLayout=I.nameWithProperty=I.Layout=I.uint8ArrayToBuffer=I.checkUint8Array=void 0;I.constant=I.utf8=I.cstr=I.blob=I.unionLayoutDiscriminator=I.union=I.seq=I.bits=I.struct=I.f64be=I.f64=I.f32be=I.f32=I.ns64be=I.s48be=I.s40be=I.s32be=I.s24be=I.s16be=I.ns64=I.s48=I.s40=I.s32=I.s24=void 0;var no=an();function $r(r){if(!(r instanceof Uint8Array))throw new TypeError(\"b must be a Uint8Array\")}I.checkUint8Array=$r;function ot(r){return $r(r),no.Buffer.from(r.buffer,r.byteOffset,r.length)}I.uint8ArrayToBuffer=ot;var ct=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError(\"span must be an integer\");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError(\"indeterminate span\");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};I.Layout=ct;function io(r,t){return t.property?r+\"[\"+t.property+\"]\":r}I.nameWithProperty=io;function Wl(r,t){if(typeof r!=\"function\")throw new TypeError(\"Class must be constructor\");if(Object.prototype.hasOwnProperty.call(r,\"layout_\"))throw new Error(\"Class is already bound to a layout\");if(!(t&&t instanceof ct))throw new TypeError(\"layout must be a Layout\");if(Object.prototype.hasOwnProperty.call(t,\"boundConstructor_\"))throw new Error(\"layout is already bound to a constructor\");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,\"encode\",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,\"decode\",{value(e,n){return t.decode(e,n)},writable:!0})}I.bindConstructorLayout=Wl;var ce=class extends ct{isCount(){throw new Error(\"ExternalLayout is abstract\")}};I.ExternalLayout=ce;var ci=class extends ce{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError(\"elementSpan must be a (positive) integer\");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){$r(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};I.GreedyCount=ci;var dn=class extends ce{constructor(t,e=0,n){if(!(t instanceof ct))throw new TypeError(\"layout must be a Layout\");if(!Number.isInteger(e))throw new TypeError(\"offset must be integer or undefined\");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof ve||this.layout instanceof Ee}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};I.OffsetLayout=dn;var ve=class extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return ot(t).readUIntLE(e,this.span)}encode(t,e,n=0){return ot(e).writeUIntLE(t,n,this.span),this.span}};I.UInt=ve;var Ee=class extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return ot(t).readUIntBE(e,this.span)}encode(t,e,n=0){return ot(e).writeUIntBE(t,n,this.span),this.span}};I.UIntBE=Ee;var Je=class extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return ot(t).readIntLE(e,this.span)}encode(t,e,n=0){return ot(e).writeIntLE(t,n,this.span),this.span}};I.Int=Je;var pr=class extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return ot(t).readIntBE(e,this.span)}encode(t,e,n=0){return ot(e).writeIntBE(t,n,this.span),this.span}};I.IntBE=pr;var ro=Math.pow(2,32);function Bi(r){let t=Math.floor(r/ro),e=r-t*ro;return{hi32:t,lo32:e}}function Ii(r,t){return r*ro+t}var ui=class extends ct{constructor(t){super(8,t)}decode(t,e=0){let n=ot(t),i=n.readUInt32LE(e),s=n.readUInt32LE(e+4);return Ii(s,i)}encode(t,e,n=0){let i=Bi(t),s=ot(e);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};I.NearUInt64=ui;var fi=class extends ct{constructor(t){super(8,t)}decode(t,e=0){let n=ot(t),i=n.readUInt32BE(e),s=n.readUInt32BE(e+4);return Ii(i,s)}encode(t,e,n=0){let i=Bi(t),s=ot(e);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};I.NearUInt64BE=fi;var li=class extends ct{constructor(t){super(8,t)}decode(t,e=0){let n=ot(t),i=n.readUInt32LE(e),s=n.readInt32LE(e+4);return Ii(s,i)}encode(t,e,n=0){let i=Bi(t),s=ot(e);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};I.NearInt64=li;var hi=class extends ct{constructor(t){super(8,t)}decode(t,e=0){let n=ot(t),i=n.readInt32BE(e),s=n.readUInt32BE(e+4);return Ii(i,s)}encode(t,e,n=0){let i=Bi(t),s=ot(e);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};I.NearInt64BE=hi;var di=class extends ct{constructor(t){super(4,t)}decode(t,e=0){return ot(t).readFloatLE(e)}encode(t,e,n=0){return ot(e).writeFloatLE(t,n),4}};I.Float=di;var pi=class extends ct{constructor(t){super(4,t)}decode(t,e=0){return ot(t).readFloatBE(e)}encode(t,e,n=0){return ot(e).writeFloatBE(t,n),4}};I.FloatBE=pi;var yi=class extends ct{constructor(t){super(8,t)}decode(t,e=0){return ot(t).readDoubleLE(e)}encode(t,e,n=0){return ot(e).writeDoubleLE(t,n),8}};I.Double=yi;var gi=class extends ct{constructor(t){super(8,t)}decode(t,e=0){return ot(t).readDoubleBE(e)}encode(t,e,n=0){return ot(e).writeDoubleBE(t,n),8}};I.DoubleBE=gi;var mi=class extends ct{constructor(t,e,n){if(!(t instanceof ct))throw new TypeError(\"elementLayout must be a Layout\");if(!(e instanceof ce&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError(\"count must be non-negative integer or an unsigned integer ExternalLayout\");let i=-1;!(e instanceof ce)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ce&&(i=i.decode(t,e)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,e+n),++s}return n}decode(t,e=0){let n=[],i=0,s=this.count;for(s instanceof ce&&(s=s.decode(t,e));i<s;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return n}encode(t,e,n=0){let i=this.elementLayout,s=t.reduce((o,f)=>o+i.encode(f,e,n+o),0);return this.count instanceof ce&&this.count.encode(t.length,e,n),s}};I.Sequence=mi;var wi=class extends ct{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof ct,!0)))throw new TypeError(\"fields must be array of Layout instances\");typeof e==\"boolean\"&&n===void 0&&(n=e,e=void 0);for(let s of t)if(0>s.span&&s.property===void 0)throw new Error(\"fields cannot contain unnamed variable-length layout\");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let o=s.getSpan(t,e);return e+=o,i+o},0)}catch{throw new RangeError(\"indeterminate span\")}return n}decode(t,e=0){$r(t);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let i=n,s=0,o=0;for(let f of this.fields){let l=f.span;if(o=0<l?l:0,f.property!==void 0){let w=t[f.property];w!==void 0&&(o=f.encode(w,e,n),0>l&&(l=f.getSpan(e,n)))}s=n,n+=l}return s+o-i}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};I.Structure=wi;var pn=class{constructor(t){this.property=t}decode(t,e){throw new Error(\"UnionDiscriminator is abstract\")}encode(t,e,n){throw new Error(\"UnionDiscriminator is abstract\")}};I.UnionDiscriminator=pn;var jr=class extends pn{constructor(t,e){if(!(t instanceof ce&&t.isCount()))throw new TypeError(\"layout must be an unsigned integer ExternalLayout\");super(e||t.property||\"variant\"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};I.UnionLayoutDiscriminator=jr;var yn=class extends ct{constructor(t,e,n){let i;if(t instanceof ve||t instanceof Ee)i=new jr(new dn(t));else if(t instanceof ce&&t.isCount())i=new jr(t);else if(t instanceof pn)i=t;else throw new TypeError(\"discr must be a UnionDiscriminator or an unsigned integer layout\");if(e===void 0&&(e=null),!(e===null||e instanceof ct))throw new TypeError(\"defaultLayout must be null or a Layout\");if(e!==null){if(0>e.span)throw new Error(\"defaultLayout must have constant span\");e.property===void 0&&(e=e.replicate(\"content\"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof ve||t instanceof Ee)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof ve||t instanceof Ee,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return o(f)},this.configGetSourceVariant=function(f){o=f.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error(\"unable to determine span for unrecognized variant\");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error(\"unable to infer src variant\")}decode(t,e=0){let n,i=this.discriminator,s=i.decode(t,e),o=this.registry[s];if(o===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[f.property]=f.decode(t,e+l)}else n=o.decode(t,e);return n}encode(t,e,n=0){let i=this.getSourceVariant(t);if(i===void 0){let s=this.discriminator,o=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(t[s.property],e,n),f+o.encode(t[o.property],e,n+f)}return i.encode(t,e,n)}addVariant(t,e,n){let i=new bi(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};I.Union=yn;var bi=class extends ct{constructor(t,e,n,i){if(!(t instanceof yn))throw new TypeError(\"union must be a Union\");if(!Number.isInteger(e)||0>e)throw new TypeError(\"variant must be a (non-negative) integer\");if(typeof n==\"string\"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof ct))throw new TypeError(\"layout must be a Layout\");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error(\"variant span exceeds span of containing union\");if(typeof i!=\"string\")throw new TypeError(\"variant must have a String property\")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+n)),n+i}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error(\"variant mismatch\");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError(\"variant lacks property \"+this.property);this.union.discriminator.encode(this.variant,e,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),s+=this.layout.getSpan(e,n+i),0<=this.union.span&&s>this.union.span))throw new Error(\"encoded variant overruns containing union\");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};I.VariantLayout=bi;function Hr(r){return 0>r&&(r+=4294967296),r}var gn=class extends ct{constructor(t,e,n){if(!(t instanceof ve||t instanceof Ee))throw new TypeError(\"word must be a UInt or UIntBE layout\");if(typeof e==\"string\"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError(\"word cannot exceed 32 bits\");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Hr(s),this},this._packedGetValue=function(){return i}}decode(t,e=0){let n=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,e,n=0){let i=this.word.decode(e,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let o=t[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new mn(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new xi(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");for(let e of this.fields)if(e.property===t)return e}};I.BitStructure=gn;var mn=class{constructor(t,e,n){if(!(t instanceof gn))throw new TypeError(\"container must be a BitStructure\");if(!Number.isInteger(e)||0>=e)throw new TypeError(\"bits must be positive integer\");let i=8*t.span,s=t.fields.reduce((o,f)=>o+f.bits,0);if(e+s>i)throw new Error(\"bits too long for span remainder (\"+(i-s)+\" of \"+i+\" remain)\");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-e),this.wordMask=Hr(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return Hr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!=\"number\"||!Number.isInteger(t)||t!==Hr(t&this.valueMask))throw new TypeError(io(\"BitField.encode\",this)+\" value must be integer not exceeding \"+this.valueMask);let e=this.container._packedGetValue(),n=Hr(t<<this.start);this.container._packedSetValue(Hr(e&~this.wordMask)|n)}};I.BitField=mn;var xi=class extends mn{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t==\"boolean\"&&(t=+t),super.encode(t)}};I.Boolean=xi;var ki=class extends ct{constructor(t,e){if(!(t instanceof ce&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError(\"length must be positive integer or an unsigned integer ExternalLayout\");let n=-1;t instanceof ce||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),ot(t).slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof ce&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(io(\"Blob.encode\",this)+\" requires (length \"+i+\") Uint8Array as src\");if(n+i>e.length)throw new RangeError(\"encoding overruns Uint8Array\");let s=ot(t);return ot(e).write(s.toString(\"hex\"),n,i,\"hex\"),this.length instanceof ce&&this.length.encode(i,e,n),i}};I.Blob=ki;var vi=class extends ct{constructor(t){super(-1,t)}getSpan(t,e=0){$r(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return ot(t).slice(e,e+n-1).toString(\"utf-8\")}encode(t,e,n=0){typeof t!=\"string\"&&(t=String(t));let i=no.Buffer.from(t,\"utf8\"),s=i.length;if(n+s>e.length)throw new RangeError(\"encoding overruns Buffer\");let o=ot(e);return i.copy(o,n),o[n+s]=0,s+1}};I.CString=vi;var Si=class extends ct{constructor(t,e){if(typeof t==\"string\"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError(\"maxSpan must be an integer\");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return $r(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError(\"text length exceeds maxSpan\");return ot(t).slice(e,e+n).toString(\"utf-8\")}encode(t,e,n=0){typeof t!=\"string\"&&(t=String(t));let i=no.Buffer.from(t,\"utf8\"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError(\"text length exceeds maxSpan\");if(n+s>e.length)throw new RangeError(\"encoding overruns Buffer\");return i.copy(ot(e),n),s}};I.UTF8=Si;var Ei=class extends ct{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};I.Constant=Ei;I.greedy=(r,t)=>new ci(r,t);I.offset=(r,t,e)=>new dn(r,t,e);I.u8=r=>new ve(1,r);I.u16=r=>new ve(2,r);I.u24=r=>new ve(3,r);I.u32=r=>new ve(4,r);I.u40=r=>new ve(5,r);I.u48=r=>new ve(6,r);I.nu64=r=>new ui(r);I.u16be=r=>new Ee(2,r);I.u24be=r=>new Ee(3,r);I.u32be=r=>new Ee(4,r);I.u40be=r=>new Ee(5,r);I.u48be=r=>new Ee(6,r);I.nu64be=r=>new fi(r);I.s8=r=>new Je(1,r);I.s16=r=>new Je(2,r);I.s24=r=>new Je(3,r);I.s32=r=>new Je(4,r);I.s40=r=>new Je(5,r);I.s48=r=>new Je(6,r);I.ns64=r=>new li(r);I.s16be=r=>new pr(2,r);I.s24be=r=>new pr(3,r);I.s32be=r=>new pr(4,r);I.s40be=r=>new pr(5,r);I.s48be=r=>new pr(6,r);I.ns64be=r=>new hi(r);I.f32=r=>new di(r);I.f32be=r=>new pi(r);I.f64=r=>new yi(r);I.f64be=r=>new gi(r);I.struct=(r,t,e)=>new wi(r,t,e);I.bits=(r,t,e)=>new gn(r,t,e);I.seq=(r,t,e)=>new mi(r,t,e);I.union=(r,t,e)=>new yn(r,t,e);I.unionLayoutDiscriminator=(r,t)=>new jr(r,t);I.blob=(r,t)=>new ki(r,t);I.cstr=r=>new vi(r);I.utf8=(r,t)=>new Si(r,t);I.constant=(r,t)=>new Ei(r,t)});var dc=me(Vr=>{\"use strict\";Object.defineProperty(Vr,\"__esModule\",{value:!0});var Ai;function Kl(r){{let t=Buffer.from(r);t.reverse();let e=t.toString(\"hex\");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Ai.toBigInt(r,!1)}Vr.toBigIntLE=Kl;function Hl(r){{let t=r.toString(\"hex\");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Ai.toBigInt(r,!0)}Vr.toBigIntBE=Hl;function jl(r,t){{let e=r.toString(16),n=Buffer.from(e.padStart(t*2,\"0\").slice(0,t*2),\"hex\");return n.reverse(),n}return Ai.fromBigInt(r,Buffer.allocUnsafe(t),!1)}Vr.toBufferLE=jl;function $l(r,t){{let e=r.toString(16);return Buffer.from(e.padStart(t*2,\"0\").slice(0,t*2),\"hex\")}return Ai.fromBigInt(r,Buffer.allocUnsafe(t),!0)}Vr.toBufferBE=$l});function xn(){if(!Ri&&(Ri=typeof crypto<\"u\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<\"u\"&&typeof msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto),!Ri))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return Ri(Xl)}var Ri,Xl,uo=ge(()=>{Xl=new Uint8Array(16)});var wc,bc=ge(()=>{wc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Ql(r){return typeof r==\"string\"&&wc.test(r)}var yr,kn=ge(()=>{bc();yr=Ql});function th(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(ae[r[t+0]]+ae[r[t+1]]+ae[r[t+2]]+ae[r[t+3]]+\"-\"+ae[r[t+4]]+ae[r[t+5]]+\"-\"+ae[r[t+6]]+ae[r[t+7]]+\"-\"+ae[r[t+8]]+ae[r[t+9]]+\"-\"+ae[r[t+10]]+ae[r[t+11]]+ae[r[t+12]]+ae[r[t+13]]+ae[r[t+14]]+ae[r[t+15]]).toLowerCase();if(!yr(e))throw TypeError(\"Stringified UUID is invalid\");return e}var ae,Ti,gr,vn=ge(()=>{kn();ae=[];for(Ti=0;Ti<256;++Ti)ae.push((Ti+256).toString(16).substr(1));gr=th});function eh(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var s=r.node||xc,o=r.clockseq!==void 0?r.clockseq:fo;if(s==null||o==null){var f=r.random||(r.rng||xn)();s==null&&(s=xc=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=fo=(f[6]<<8|f[7])&16383)}var l=r.msecs!==void 0?r.msecs:Date.now(),w=r.nsecs!==void 0?r.nsecs:ho+1,b=l-lo+(w-ho)/1e4;if(b<0&&r.clockseq===void 0&&(o=o+1&16383),(b<0||l>lo)&&r.nsecs===void 0&&(w=0),w>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");lo=l,ho=w,fo=o,l+=122192928e5;var S=((l&268435455)*1e4+w)%4294967296;i[n++]=S>>>24&255,i[n++]=S>>>16&255,i[n++]=S>>>8&255,i[n++]=S&255;var M=l/4294967296*1e4&268435455;i[n++]=M>>>8&255,i[n++]=M&255,i[n++]=M>>>24&15|16,i[n++]=M>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var A=0;A<6;++A)i[n+A]=s[A];return t||gr(i)}var xc,fo,lo,ho,kc,vc=ge(()=>{uo();vn();lo=0,ho=0;kc=eh});function rh(r){if(!yr(r))throw TypeError(\"Invalid UUID\");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Pi,po=ge(()=>{kn();Pi=rh});function nh(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function Ci(r,t,e){function n(i,s,o,f){if(typeof i==\"string\"&&(i=nh(i)),typeof s==\"string\"&&(s=Pi(s)),s.length!==16)throw TypeError(\"Namespace must be array-like (16 iterable integer values, 0-255)\");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){f=f||0;for(var w=0;w<16;++w)o[f+w]=l[w];return o}return gr(l)}try{n.name=r}catch{}return n.DNS=ih,n.URL=sh,n}var ih,sh,yo=ge(()=>{vn();po();ih=\"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",sh=\"6ba7b811-9dad-11d1-80b4-00c04fd430c8\"});function oh(r){if(typeof r==\"string\"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return ah(ch(uh(r),r.length*8))}function ah(r){for(var t=[],e=r.length*32,n=\"0123456789abcdef\",i=0;i<e;i+=8){var s=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(o)}return t}function Sc(r){return(r+64>>>9<<4)+14+1}function ch(r,t){r[t>>5]|=128<<t%32,r[Sc(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<r.length;o+=16){var f=e,l=n,w=i,b=s;e=fe(e,n,i,s,r[o],7,-680876936),s=fe(s,e,n,i,r[o+1],12,-389564586),i=fe(i,s,e,n,r[o+2],17,606105819),n=fe(n,i,s,e,r[o+3],22,-1044525330),e=fe(e,n,i,s,r[o+4],7,-176418897),s=fe(s,e,n,i,r[o+5],12,1200080426),i=fe(i,s,e,n,r[o+6],17,-1473231341),n=fe(n,i,s,e,r[o+7],22,-45705983),e=fe(e,n,i,s,r[o+8],7,1770035416),s=fe(s,e,n,i,r[o+9],12,-1958414417),i=fe(i,s,e,n,r[o+10],17,-42063),n=fe(n,i,s,e,r[o+11],22,-1990404162),e=fe(e,n,i,s,r[o+12],7,1804603682),s=fe(s,e,n,i,r[o+13],12,-40341101),i=fe(i,s,e,n,r[o+14],17,-1502002290),n=fe(n,i,s,e,r[o+15],22,1236535329),e=le(e,n,i,s,r[o+1],5,-165796510),s=le(s,e,n,i,r[o+6],9,-1069501632),i=le(i,s,e,n,r[o+11],14,643717713),n=le(n,i,s,e,r[o],20,-373897302),e=le(e,n,i,s,r[o+5],5,-701558691),s=le(s,e,n,i,r[o+10],9,38016083),i=le(i,s,e,n,r[o+15],14,-660478335),n=le(n,i,s,e,r[o+4],20,-405537848),e=le(e,n,i,s,r[o+9],5,568446438),s=le(s,e,n,i,r[o+14],9,-1019803690),i=le(i,s,e,n,r[o+3],14,-187363961),n=le(n,i,s,e,r[o+8],20,1163531501),e=le(e,n,i,s,r[o+13],5,-1444681467),s=le(s,e,n,i,r[o+2],9,-51403784),i=le(i,s,e,n,r[o+7],14,1735328473),n=le(n,i,s,e,r[o+12],20,-1926607734),e=he(e,n,i,s,r[o+5],4,-378558),s=he(s,e,n,i,r[o+8],11,-2022574463),i=he(i,s,e,n,r[o+11],16,1839030562),n=he(n,i,s,e,r[o+14],23,-35309556),e=he(e,n,i,s,r[o+1],4,-1530992060),s=he(s,e,n,i,r[o+4],11,1272893353),i=he(i,s,e,n,r[o+7],16,-155497632),n=he(n,i,s,e,r[o+10],23,-1094730640),e=he(e,n,i,s,r[o+13],4,681279174),s=he(s,e,n,i,r[o],11,-358537222),i=he(i,s,e,n,r[o+3],16,-722521979),n=he(n,i,s,e,r[o+6],23,76029189),e=he(e,n,i,s,r[o+9],4,-640364487),s=he(s,e,n,i,r[o+12],11,-421815835),i=he(i,s,e,n,r[o+15],16,530742520),n=he(n,i,s,e,r[o+2],23,-995338651),e=de(e,n,i,s,r[o],6,-198630844),s=de(s,e,n,i,r[o+7],10,1126891415),i=de(i,s,e,n,r[o+14],15,-1416354905),n=de(n,i,s,e,r[o+5],21,-57434055),e=de(e,n,i,s,r[o+12],6,1700485571),s=de(s,e,n,i,r[o+3],10,-1894986606),i=de(i,s,e,n,r[o+10],15,-1051523),n=de(n,i,s,e,r[o+1],21,-2054922799),e=de(e,n,i,s,r[o+8],6,1873313359),s=de(s,e,n,i,r[o+15],10,-30611744),i=de(i,s,e,n,r[o+6],15,-1560198380),n=de(n,i,s,e,r[o+13],21,1309151649),e=de(e,n,i,s,r[o+4],6,-145523070),s=de(s,e,n,i,r[o+11],10,-1120210379),i=de(i,s,e,n,r[o+2],15,718787259),n=de(n,i,s,e,r[o+9],21,-343485551),e=mr(e,f),n=mr(n,l),i=mr(i,w),s=mr(s,b)}return[e,n,i,s]}function uh(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Sc(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function mr(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function fh(r,t){return r<<t|r>>>32-t}function Ni(r,t,e,n,i,s){return mr(fh(mr(mr(t,r),mr(n,s)),i),e)}function fe(r,t,e,n,i,s,o){return Ni(t&e|~t&n,r,t,i,s,o)}function le(r,t,e,n,i,s,o){return Ni(t&n|e&~n,r,t,i,s,o)}function he(r,t,e,n,i,s,o){return Ni(t^e^n,r,t,i,s,o)}function de(r,t,e,n,i,s,o){return Ni(e^(t|~n),r,t,i,s,o)}var Ec,Bc=ge(()=>{Ec=oh});var lh,Ic,Ac=ge(()=>{yo();Bc();lh=Ci(\"v3\",48,Ec),Ic=lh});function hh(r,t,e){r=r||{};var n=r.random||(r.rng||xn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return gr(n)}var _c,Lc=ge(()=>{uo();vn();_c=hh});function dh(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function go(r,t){return r<<t|r>>>32-t}function ph(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r==\"string\"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,o=Math.ceil(s/16),f=new Array(o),l=0;l<o;++l){for(var w=new Uint32Array(16),b=0;b<16;++b)w[b]=r[l*64+b*4]<<24|r[l*64+b*4+1]<<16|r[l*64+b*4+2]<<8|r[l*64+b*4+3];f[l]=w}f[o-1][14]=(r.length-1)*8/Math.pow(2,32),f[o-1][14]=Math.floor(f[o-1][14]),f[o-1][15]=(r.length-1)*8&4294967295;for(var S=0;S<o;++S){for(var M=new Uint32Array(80),A=0;A<16;++A)M[A]=f[S][A];for(var T=16;T<80;++T)M[T]=go(M[T-3]^M[T-8]^M[T-14]^M[T-16],1);for(var E=e[0],_=e[1],R=e[2],D=e[3],N=e[4],j=0;j<80;++j){var q=Math.floor(j/20),z=go(E,5)+dh(q,_,R,D)+N+t[q]+M[j]>>>0;N=D,D=R,R=go(_,30)>>>0,_=E,E=z}e[0]=e[0]+E>>>0,e[1]=e[1]+_>>>0,e[2]=e[2]+R>>>0,e[3]=e[3]+D>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Mc,Rc=ge(()=>{Mc=ph});var yh,Tc,Pc=ge(()=>{yo();Rc();yh=Ci(\"v5\",80,Mc),Tc=yh});var Cc,Nc=ge(()=>{Cc=\"00000000-0000-0000-0000-000000000000\"});function gh(r){if(!yr(r))throw TypeError(\"Invalid UUID\");return parseInt(r.substr(14,1),16)}var Oc,Uc=ge(()=>{kn();Oc=gh});var mo={};ca(mo,{NIL:()=>Cc,parse:()=>Pi,stringify:()=>gr,v1:()=>kc,v3:()=>Ic,v4:()=>_c,v5:()=>Tc,validate:()=>yr,version:()=>Oc});var wo=ge(()=>{vc();Ac();Lc();Pc();Nc();Uc();kn();vn();po()});var Dc=me((Ep,zc)=>{\"use strict\";var mh=(wo(),fa(mo)).v4,wh=function(r,t,e,n){if(typeof r!=\"string\")throw new TypeError(r+\" must be a string\");n=n||{};let i=typeof n.version==\"number\"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+\" must be 1 or 2\");let s={method:r};if(i===2&&(s.jsonrpc=\"2.0\"),t){if(typeof t!=\"object\"&&!Array.isArray(t))throw new TypeError(t+\" must be an object, array or omitted\");s.params=t}if(typeof e>\"u\"){let o=typeof n.generator==\"function\"?n.generator:function(){return mh()};s.id=o(s,n)}else i===2&&e===null?n.notificationIdNull&&(s.id=null):s.id=e;return s};zc.exports=wh});var Fc=me((Bp,qc)=>{\"use strict\";var bh=(wo(),fa(mo)).v4,xh=Dc(),Sn=function(r,t){if(!(this instanceof Sn))return new Sn(r,t);t||(t={}),this.options={reviver:typeof t.reviver<\"u\"?t.reviver:null,replacer:typeof t.replacer<\"u\"?t.replacer:null,generator:typeof t.generator<\"u\"?t.generator:function(){return bh()},version:typeof t.version<\"u\"?t.version:2,notificationIdNull:typeof t.notificationIdNull==\"boolean\"?t.notificationIdNull:!1},this.callServer=r};qc.exports=Sn;Sn.prototype.request=function(r,t,e,n){let i=this,s=null,o=Array.isArray(r)&&typeof t==\"function\";if(this.options.version===1&&o)throw new TypeError(\"JSON-RPC 1.0 does not support batching\");if(o||!o&&r&&typeof r==\"object\"&&typeof t==\"function\")n=t,s=r;else{typeof e==\"function\"&&(n=e,e=void 0);let w=typeof n==\"function\";try{s=xh(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(b){if(w)return n(b);throw b}if(!w)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(w){return n(w)}return this.callServer(l,function(w,b){i._parseResponse(w,b,n)}),s};Sn.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return e(i)}if(e.length===3)if(Array.isArray(n)){let i=function(o){return typeof o.error<\"u\"},s=function(o){return!i(o)};return e(null,n.filter(i),n.filter(s))}else return e(null,n.error,n.result);e(null,n)}});var Kc=me((Ip,bo)=>{\"use strict\";var kh=Object.prototype.hasOwnProperty,be=\"~\";function En(){}Object.create&&(En.prototype=Object.create(null),new En().__proto__||(be=!1));function vh(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function Wc(r,t,e,n,i){if(typeof e!=\"function\")throw new TypeError(\"The listener must be a function\");var s=new vh(e,n||r,i),o=be?be+t:t;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],s]:r._events[o].push(s):(r._events[o]=s,r._eventsCount++),r}function Oi(r,t){--r._eventsCount===0?r._events=new En:delete r._events[t]}function pe(){this._events=new En,this._eventsCount=0}pe.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)kh.call(e,n)&&t.push(be?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};pe.prototype.listeners=function(t){var e=be?be+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};pe.prototype.listenerCount=function(t){var e=be?be+t:t,n=this._events[e];return n?n.fn?1:n.length:0};pe.prototype.emit=function(t,e,n,i,s,o){var f=be?be+t:t;if(!this._events[f])return!1;var l=this._events[f],w=arguments.length,b,S;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),w){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];l.fn.apply(l.context,b)}else{var M=l.length,A;for(S=0;S<M;S++)switch(l[S].once&&this.removeListener(t,l[S].fn,void 0,!0),w){case 1:l[S].fn.call(l[S].context);break;case 2:l[S].fn.call(l[S].context,e);break;case 3:l[S].fn.call(l[S].context,e,n);break;case 4:l[S].fn.call(l[S].context,e,n,i);break;default:if(!b)for(A=1,b=new Array(w-1);A<w;A++)b[A-1]=arguments[A];l[S].fn.apply(l[S].context,b)}}return!0};pe.prototype.on=function(t,e,n){return Wc(this,t,e,n,!1)};pe.prototype.once=function(t,e,n){return Wc(this,t,e,n,!0)};pe.prototype.removeListener=function(t,e,n,i){var s=be?be+t:t;if(!this._events[s])return this;if(!e)return Oi(this,s),this;var o=this._events[s];if(o.fn)o.fn===e&&(!i||o.once)&&(!n||o.context===n)&&Oi(this,s);else{for(var f=0,l=[],w=o.length;f<w;f++)(o[f].fn!==e||i&&!o[f].once||n&&o[f].context!==n)&&l.push(o[f]);l.length?this._events[s]=l.length===1?l[0]:l:Oi(this,s)}return this};pe.prototype.removeAllListeners=function(t){var e;return t?(e=be?be+t:t,this._events[e]&&Oi(this,e)):(this._events=new En,this._eventsCount=0),this};pe.prototype.off=pe.prototype.removeListener;pe.prototype.addListener=pe.prototype.on;pe.prefixed=be;pe.EventEmitter=pe;typeof bo<\"u\"&&(bo.exports=pe)});function la(r){let t=({register:e})=>e(r);try{window.dispatchEvent(new ms(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched\n`,e)}try{window.addEventListener(\"wallet-standard:app-ready\",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added\n`,e)}}var ms=class extends Event{#r;get detail(){return this.#r}get type(){return\"wallet-standard:register-wallet\"}constructor(t){super(\"wallet-standard:register-wallet\",{bubbles:!1,cancelable:!1,composed:!1}),this.#r=t}preventDefault(){throw new Error(\"preventDefault cannot be called\")}stopImmediatePropagation(){throw new Error(\"stopImmediatePropagation cannot be called\")}stopPropagation(){throw new Error(\"stopPropagation cannot be called\")}};var Un=\"solana:signAndSendTransaction\";var ha=\"solana:signIn\";var zn=\"solana:signMessage\";var Dn=\"solana:signTransaction\";var X=_e(an());function cn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Ef(r){return r instanceof Uint8Array||r!=null&&typeof r==\"object\"&&r.constructor.name===\"Uint8Array\"}function nr(r,...t){if(!Ef(r))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Pa(r){if(typeof r!=\"function\"||typeof r.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");cn(r.outputLen),cn(r.blockLen)}function je(r,t=!0){if(r.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&r.finished)throw new Error(\"Hash#digest() has already been called\")}function Kn(r,t){nr(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var Hn=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;var Ca=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),jn=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Ce=(r,t)=>r<<32-t|r>>>t;var _s=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Bf=r=>r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255;function Ls(r){for(let t=0;t<r.length;t++)r[t]=Bf(r[t])}function Na(r){if(typeof r!=\"string\")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function sr(r){return typeof r==\"string\"&&(r=Na(r)),nr(r),r}function Ms(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];nr(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let s=r[n];e.set(s,i),i+=s.length}return e}var ir=class{clone(){return this._cloneInto()}},n0={}.toString;function qr(r){let t=n=>r().update(sr(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Oa(r){let t=(n,i)=>r(i).update(sr(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function $n(r=32){if(Hn&&typeof Hn.getRandomValues==\"function\")return Hn.getRandomValues(new Uint8Array(r));throw new Error(\"crypto.getRandomValues must be defined\")}function If(r,t,e,n){if(typeof r.setBigUint64==\"function\")return r.setBigUint64(t,e,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(e>>i&s),f=Number(e&s),l=n?4:0,w=n?0:4;r.setUint32(t+l,o,n),r.setUint32(t+w,f,n)}var Ua=(r,t,e)=>r&t^~r&e,za=(r,t,e)=>r&t^r&e^t&e,Fr=class extends ir{constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=jn(this.buffer)}update(t){je(this);let{view:e,buffer:n,blockLen:i}=this;t=sr(t);let s=t.length;for(let o=0;o<s;){let f=Math.min(i-this.pos,s-o);if(f===i){let l=jn(t);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(t.subarray(o,o+f),this.pos),this.pos+=f,o+=f,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){je(this),Kn(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let S=o;S<i;S++)e[S]=0;If(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=jn(t),l=this.outputLen;if(l%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");let w=l/4,b=this.get();if(w>b.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let S=0;S<w;S++)f.setUint32(4*S,b[S],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:i,finished:s,destroyed:o,pos:f}=this;return t.length=i,t.pos=f,t.finished=s,t.destroyed=o,i%e&&t.buffer.set(n),t}};var Vn=BigInt(4294967295),Rs=BigInt(32);function Da(r,t=!1){return t?{h:Number(r&Vn),l:Number(r>>Rs&Vn)}:{h:Number(r>>Rs&Vn)|0,l:Number(r&Vn)|0}}function Ts(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:s,l:o}=Da(r[i],t);[e[i],n[i]]=[s,o]}return[e,n]}var Af=(r,t)=>BigInt(r>>>0)<<Rs|BigInt(t>>>0),_f=(r,t,e)=>r>>>e,Lf=(r,t,e)=>r<<32-e|t>>>e,Mf=(r,t,e)=>r>>>e|t<<32-e,Rf=(r,t,e)=>r<<32-e|t>>>e,Tf=(r,t,e)=>r<<64-e|t>>>e-32,Pf=(r,t,e)=>r>>>e-32|t<<64-e,Cf=(r,t)=>t,Nf=(r,t)=>r,Ps=(r,t,e)=>r<<e|t>>>32-e,Cs=(r,t,e)=>t<<e|r>>>32-e,Ns=(r,t,e)=>t<<e-32|r>>>64-e,Os=(r,t,e)=>r<<e-32|t>>>64-e;function Of(r,t,e,n){let i=(t>>>0)+(n>>>0);return{h:r+e+(i/2**32|0)|0,l:i|0}}var Uf=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),zf=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,Df=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),qf=(r,t,e,n,i)=>t+e+n+i+(r/2**32|0)|0,Ff=(r,t,e,n,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Wf=(r,t,e,n,i,s)=>t+e+n+i+s+(r/2**32|0)|0;var Kf={fromBig:Da,split:Ts,toBig:Af,shrSH:_f,shrSL:Lf,rotrSH:Mf,rotrSL:Rf,rotrBH:Tf,rotrBL:Pf,rotr32H:Cf,rotr32L:Nf,rotlSH:Ps,rotlSL:Cs,rotlBH:Ns,rotlBL:Os,add:Of,add3L:Uf,add3H:zf,add4L:Df,add4H:qf,add5H:Wf,add5L:Ff},rt=Kf;var[Hf,jf]=rt.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(r=>BigInt(r))),or=new Uint32Array(80),ar=new Uint32Array(80),Us=class extends Fr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:i,Ch:s,Cl:o,Dh:f,Dl:l,Eh:w,El:b,Fh:S,Fl:M,Gh:A,Gl:T,Hh:E,Hl:_}=this;return[t,e,n,i,s,o,f,l,w,b,S,M,A,T,E,_]}set(t,e,n,i,s,o,f,l,w,b,S,M,A,T,E,_){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=f|0,this.Dl=l|0,this.Eh=w|0,this.El=b|0,this.Fh=S|0,this.Fl=M|0,this.Gh=A|0,this.Gl=T|0,this.Hh=E|0,this.Hl=_|0}process(t,e){for(let N=0;N<16;N++,e+=4)or[N]=t.getUint32(e),ar[N]=t.getUint32(e+=4);for(let N=16;N<80;N++){let j=or[N-15]|0,q=ar[N-15]|0,z=rt.rotrSH(j,q,1)^rt.rotrSH(j,q,8)^rt.shrSH(j,q,7),$=rt.rotrSL(j,q,1)^rt.rotrSL(j,q,8)^rt.shrSL(j,q,7),Y=or[N-2]|0,ft=ar[N-2]|0,nt=rt.rotrSH(Y,ft,19)^rt.rotrBH(Y,ft,61)^rt.shrSH(Y,ft,6),V=rt.rotrSL(Y,ft,19)^rt.rotrBL(Y,ft,61)^rt.shrSL(Y,ft,6),lt=rt.add4L($,V,ar[N-7],ar[N-16]),x=rt.add4H(lt,z,nt,or[N-7],or[N-16]);or[N]=x|0,ar[N]=lt|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:f,Cl:l,Dh:w,Dl:b,Eh:S,El:M,Fh:A,Fl:T,Gh:E,Gl:_,Hh:R,Hl:D}=this;for(let N=0;N<80;N++){let j=rt.rotrSH(S,M,14)^rt.rotrSH(S,M,18)^rt.rotrBH(S,M,41),q=rt.rotrSL(S,M,14)^rt.rotrSL(S,M,18)^rt.rotrBL(S,M,41),z=S&A^~S&E,$=M&T^~M&_,Y=rt.add5L(D,q,$,jf[N],ar[N]),ft=rt.add5H(Y,R,j,z,Hf[N],or[N]),nt=Y|0,V=rt.rotrSH(n,i,28)^rt.rotrBH(n,i,34)^rt.rotrBH(n,i,39),lt=rt.rotrSL(n,i,28)^rt.rotrBL(n,i,34)^rt.rotrBL(n,i,39),x=n&s^n&f^s&f,a=i&o^i&l^o&l;R=E|0,D=_|0,E=A|0,_=T|0,A=S|0,T=M|0,{h:S,l:M}=rt.add(w|0,b|0,ft|0,nt|0),w=f|0,b=l|0,f=s|0,l=o|0,s=n|0,o=i|0;let u=rt.add3L(nt,lt,a);n=rt.add3H(u,ft,V,x),i=u|0}({h:n,l:i}=rt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:f,l}=rt.add(this.Ch|0,this.Cl|0,f|0,l|0),{h:w,l:b}=rt.add(this.Dh|0,this.Dl|0,w|0,b|0),{h:S,l:M}=rt.add(this.Eh|0,this.El|0,S|0,M|0),{h:A,l:T}=rt.add(this.Fh|0,this.Fl|0,A|0,T|0),{h:E,l:_}=rt.add(this.Gh|0,this.Gl|0,E|0,_|0),{h:R,l:D}=rt.add(this.Hh|0,this.Hl|0,R|0,D|0),this.set(n,i,s,o,f,l,w,b,S,M,A,T,E,_,R,D)}roundClean(){or.fill(0),ar.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var qa=qr(()=>new Us);var Gn={};ca(Gn,{abytes:()=>Wr,bitGet:()=>Xf,bitLen:()=>Jf,bitMask:()=>un,bitSet:()=>Qf,bytesToHex:()=>Ve,bytesToNumberBE:()=>Ye,bytesToNumberLE:()=>ur,concatBytes:()=>Ge,createHmacDrbg:()=>qs,ensureBytes:()=>Nt,equalBytes:()=>Gf,hexToBytes:()=>Sr,hexToNumber:()=>Ds,isBytes:()=>cr,numberToBytesBE:()=>fr,numberToBytesLE:()=>Er,numberToHexUnpadded:()=>Ha,numberToVarBytesBE:()=>Yf,utf8ToBytes:()=>Zf,validateObject:()=>qe});var Ka=BigInt(0),Yn=BigInt(1),$f=BigInt(2);function cr(r){return r instanceof Uint8Array||r!=null&&typeof r==\"object\"&&r.constructor.name===\"Uint8Array\"}function Wr(r){if(!cr(r))throw new Error(\"Uint8Array expected\")}var Vf=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,\"0\"));function Ve(r){Wr(r);let t=\"\";for(let e=0;e<r.length;e++)t+=Vf[r[e]];return t}function Ha(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function Ds(r){if(typeof r!=\"string\")throw new Error(\"hex string expected, got \"+typeof r);return BigInt(r===\"\"?\"0\":`0x${r}`)}var $e={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Fa(r){if(r>=$e._0&&r<=$e._9)return r-$e._0;if(r>=$e._A&&r<=$e._F)return r-($e._A-10);if(r>=$e._a&&r<=$e._f)return r-($e._a-10)}function Sr(r){if(typeof r!=\"string\")throw new Error(\"hex string expected, got \"+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);let n=new Uint8Array(e);for(let i=0,s=0;i<e;i++,s+=2){let o=Fa(r.charCodeAt(s)),f=Fa(r.charCodeAt(s+1));if(o===void 0||f===void 0){let l=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character \"'+l+'\" at index '+s)}n[i]=o*16+f}return n}function Ye(r){return Ds(Ve(r))}function ur(r){return Wr(r),Ds(Ve(Uint8Array.from(r).reverse()))}function fr(r,t){return Sr(r.toString(16).padStart(t*2,\"0\"))}function Er(r,t){return fr(r,t).reverse()}function Yf(r){return Sr(Ha(r))}function Nt(r,t,e){let n;if(typeof t==\"string\")try{n=Sr(t)}catch(s){throw new Error(`${r} must be valid hex string, got \"${t}\". Cause: ${s}`)}else if(cr(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let i=n.length;if(typeof e==\"number\"&&i!==e)throw new Error(`${r} expected ${e} bytes, got ${i}`);return n}function Ge(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];Wr(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let s=r[n];e.set(s,i),i+=s.length}return e}function Gf(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Zf(r){if(typeof r!=\"string\")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Jf(r){let t;for(t=0;r>Ka;r>>=Yn,t+=1);return t}function Xf(r,t){return r>>BigInt(t)&Yn}function Qf(r,t,e){return r|(e?Yn:Ka)<<BigInt(t)}var un=r=>($f<<BigInt(r-1))-Yn,zs=r=>new Uint8Array(r),Wa=r=>Uint8Array.from(r);function qs(r,t,e){if(typeof r!=\"number\"||r<2)throw new Error(\"hashLen must be a number\");if(typeof t!=\"number\"||t<2)throw new Error(\"qByteLen must be a number\");if(typeof e!=\"function\")throw new Error(\"hmacFn must be a function\");let n=zs(r),i=zs(r),s=0,o=()=>{n.fill(1),i.fill(0),s=0},f=(...S)=>e(i,n,...S),l=(S=zs())=>{i=f(Wa([0]),S),n=f(),S.length!==0&&(i=f(Wa([1]),S),n=f())},w=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let S=0,M=[];for(;S<t;){n=f();let A=n.slice();M.push(A),S+=n.length}return Ge(...M)};return(S,M)=>{o(),l(S);let A;for(;!(A=M(w()));)l();return o(),A}}var tl={bigint:r=>typeof r==\"bigint\",function:r=>typeof r==\"function\",boolean:r=>typeof r==\"boolean\",string:r=>typeof r==\"string\",stringOrUint8Array:r=>typeof r==\"string\"||cr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r==\"function\"&&Number.isSafeInteger(r.outputLen)};function qe(r,t,e={}){let n=(i,s,o)=>{let f=tl[s];if(typeof f!=\"function\")throw new Error(`Invalid validator \"${s}\", expected function`);let l=r[i];if(!(o&&l===void 0)&&!f(l,r))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(let[i,s]of Object.entries(t))n(i,s,!1);for(let[i,s]of Object.entries(e))n(i,s,!0);return r}var ie=BigInt(0),xt=BigInt(1),Br=BigInt(2),el=BigInt(3),Fs=BigInt(4),ja=BigInt(5),$a=BigInt(8),rl=BigInt(9),nl=BigInt(16);function dt(r,t){let e=r%t;return e>=ie?e:t+e}function il(r,t,e){if(e<=ie||t<ie)throw new Error(\"Expected power/modulo > 0\");if(e===xt)return ie;let n=xt;for(;t>ie;)t&xt&&(n=n*r%e),r=r*r%e,t>>=xt;return n}function kt(r,t,e){let n=r;for(;t-- >ie;)n*=n,n%=e;return n}function Zn(r,t){if(r===ie||t<=ie)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=dt(r,t),n=t,i=ie,s=xt,o=xt,f=ie;for(;e!==ie;){let w=n/e,b=n%e,S=i-o*w,M=s-f*w;n=e,e=b,i=o,s=f,o=S,f=M}if(n!==xt)throw new Error(\"invert: does not exist\");return dt(i,t)}function sl(r){let t=(r-xt)/Br,e,n,i;for(e=r-xt,n=0;e%Br===ie;e/=Br,n++);for(i=Br;i<r&&il(i,t,r)!==r-xt;i++);if(n===1){let o=(r+xt)/Fs;return function(l,w){let b=l.pow(w,o);if(!l.eql(l.sqr(b),w))throw new Error(\"Cannot find square root\");return b}}let s=(e+xt)/Br;return function(f,l){if(f.pow(l,t)===f.neg(f.ONE))throw new Error(\"Cannot find square root\");let w=n,b=f.pow(f.mul(f.ONE,i),e),S=f.pow(l,s),M=f.pow(l,e);for(;!f.eql(M,f.ONE);){if(f.eql(M,f.ZERO))return f.ZERO;let A=1;for(let E=f.sqr(M);A<w&&!f.eql(E,f.ONE);A++)E=f.sqr(E);let T=f.pow(b,xt<<BigInt(w-A-1));b=f.sqr(T),S=f.mul(S,T),M=f.mul(M,b),w=A}return S}}function ol(r){if(r%Fs===el){let t=(r+xt)/Fs;return function(n,i){let s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error(\"Cannot find square root\");return s}}if(r%$a===ja){let t=(r-ja)/$a;return function(n,i){let s=n.mul(i,Br),o=n.pow(s,t),f=n.mul(i,o),l=n.mul(n.mul(f,Br),o),w=n.mul(f,n.sub(l,n.ONE));if(!n.eql(n.sqr(w),i))throw new Error(\"Cannot find square root\");return w}}return r%nl,sl(r)}var Va=(r,t)=>(dt(r,t)&xt)===xt,al=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function Ws(r){let t={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},e=al.reduce((n,i)=>(n[i]=\"function\",n),t);return qe(r,e)}function cl(r,t,e){if(e<ie)throw new Error(\"Expected power > 0\");if(e===ie)return r.ONE;if(e===xt)return t;let n=r.ONE,i=t;for(;e>ie;)e&xt&&(n=r.mul(n,i)),i=r.sqr(i),e>>=xt;return n}function ul(r,t){let e=new Array(t.length),n=t.reduce((s,o,f)=>r.is0(o)?s:(e[f]=s,r.mul(s,o)),r.ONE),i=r.inv(n);return t.reduceRight((s,o,f)=>r.is0(o)?s:(e[f]=r.mul(s,e[f]),r.mul(s,o)),i),e}function Ks(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Jn(r,t,e=!1,n={}){if(r<=ie)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:i,nByteLength:s}=Ks(r,t);if(s>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");let o=ol(r),f=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:un(i),ZERO:ie,ONE:xt,create:l=>dt(l,r),isValid:l=>{if(typeof l!=\"bigint\")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ie<=l&&l<r},is0:l=>l===ie,isOdd:l=>(l&xt)===xt,neg:l=>dt(-l,r),eql:(l,w)=>l===w,sqr:l=>dt(l*l,r),add:(l,w)=>dt(l+w,r),sub:(l,w)=>dt(l-w,r),mul:(l,w)=>dt(l*w,r),pow:(l,w)=>cl(f,l,w),div:(l,w)=>dt(l*Zn(w,r),r),sqrN:l=>l*l,addN:(l,w)=>l+w,subN:(l,w)=>l-w,mulN:(l,w)=>l*w,inv:l=>Zn(l,r),sqrt:n.sqrt||(l=>o(f,l)),invertBatch:l=>ul(f,l),cmov:(l,w,b)=>b?w:l,toBytes:l=>e?Er(l,s):fr(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return e?ur(l):Ye(l)}});return Object.freeze(f)}function Ya(r){if(typeof r!=\"bigint\")throw new Error(\"field order must be bigint\");let t=r.toString(2).length;return Math.ceil(t/8)}function Hs(r){let t=Ya(r);return t+Math.ceil(t/2)}function Ga(r,t,e=!1){let n=r.length,i=Ya(t),s=Hs(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=e?Ye(r):ur(r),f=dt(o,t-xt)+xt;return e?Er(f,i):fr(f,i)}var ll=BigInt(0),js=BigInt(1);function Xn(r,t){let e=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:e,unsafeLadder(i,s){let o=r.ZERO,f=i;for(;s>ll;)s&js&&(o=o.add(f)),f=f.double(),s>>=js;return o},precomputeWindow(i,s){let{windows:o,windowSize:f}=n(s),l=[],w=i,b=w;for(let S=0;S<o;S++){b=w,l.push(b);for(let M=1;M<f;M++)b=b.add(w),l.push(b);w=b.double()}return l},wNAF(i,s,o){let{windows:f,windowSize:l}=n(i),w=r.ZERO,b=r.BASE,S=BigInt(2**i-1),M=2**i,A=BigInt(i);for(let T=0;T<f;T++){let E=T*l,_=Number(o&S);o>>=A,_>l&&(_-=M,o+=js);let R=E,D=E+Math.abs(_)-1,N=T%2!==0,j=_<0;_===0?b=b.add(e(N,s[R])):w=w.add(e(j,s[D]))}return{p:w,f:b}},wNAFCached(i,s,o,f){let l=i._WINDOW_SIZE||1,w=s.get(i);return w||(w=this.precomputeWindow(i,l),l!==1&&s.set(i,f(w))),this.wNAF(l,w,o)}}}function fn(r){return Ws(r.Fp),qe(r,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...Ks(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}var Ne=BigInt(0),Se=BigInt(1),Qn=BigInt(2),hl=BigInt(8),dl={zip215:!0};function pl(r){let t=fn(r);return qe(r,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...t})}function Za(r){let t=pl(r),{Fp:e,n,prehash:i,hash:s,randomBytes:o,nByteLength:f,h:l}=t,w=Qn<<BigInt(f*8)-Se,b=e.create,S=t.uvRatio||((p,g)=>{try{return{isValid:!0,value:e.sqrt(p*e.inv(g))}}catch{return{isValid:!1,value:Ne}}}),M=t.adjustScalarBytes||(p=>p),A=t.domain||((p,g,v)=>{if(g.length||v)throw new Error(\"Contexts/pre-hash are not supported\");return p}),T=p=>typeof p==\"bigint\"&&Ne<p,E=(p,g)=>T(p)&&T(g)&&p<g,_=p=>p===Ne||E(p,w);function R(p,g){if(E(p,g))return p;throw new Error(`Expected valid scalar < ${g}, got ${typeof p} ${p}`)}function D(p){return p===Ne?p:R(p,n)}let N=new Map;function j(p){if(!(p instanceof q))throw new Error(\"ExtendedPoint expected\")}class q{constructor(g,v,y,c){if(this.ex=g,this.ey=v,this.ez=y,this.et=c,!_(g))throw new Error(\"x required\");if(!_(v))throw new Error(\"y required\");if(!_(y))throw new Error(\"z required\");if(!_(c))throw new Error(\"t required\")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof q)throw new Error(\"extended point not allowed\");let{x:v,y}=g||{};if(!_(v)||!_(y))throw new Error(\"invalid affine point\");return new q(v,y,Se,b(v*y))}static normalizeZ(g){let v=e.invertBatch(g.map(y=>y.ez));return g.map((y,c)=>y.toAffine(v[c])).map(q.fromAffine)}_setWindowSize(g){this._WINDOW_SIZE=g,N.delete(this)}assertValidity(){let{a:g,d:v}=t;if(this.is0())throw new Error(\"bad point: ZERO\");let{ex:y,ey:c,ez:m,et:C}=this,U=b(y*y),O=b(c*c),W=b(m*m),Z=b(W*W),J=b(U*g),gt=b(W*b(J+O)),Q=b(Z+b(v*b(U*O)));if(gt!==Q)throw new Error(\"bad point: equation left != right (1)\");let tt=b(y*c),ne=b(m*C);if(tt!==ne)throw new Error(\"bad point: equation left != right (2)\")}equals(g){j(g);let{ex:v,ey:y,ez:c}=this,{ex:m,ey:C,ez:U}=g,O=b(v*U),W=b(m*c),Z=b(y*U),J=b(C*c);return O===W&&Z===J}is0(){return this.equals(q.ZERO)}negate(){return new q(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){let{a:g}=t,{ex:v,ey:y,ez:c}=this,m=b(v*v),C=b(y*y),U=b(Qn*b(c*c)),O=b(g*m),W=v+y,Z=b(b(W*W)-m-C),J=O+C,gt=J-U,Q=O-C,tt=b(Z*gt),ne=b(J*Q),ut=b(Z*Q),ht=b(gt*J);return new q(tt,ne,ht,ut)}add(g){j(g);let{a:v,d:y}=t,{ex:c,ey:m,ez:C,et:U}=this,{ex:O,ey:W,ez:Z,et:J}=g;if(v===BigInt(-1)){let rn=b((m-c)*(W+O)),Bt=b((m+c)*(W-O)),bt=b(Bt-rn);if(bt===Ne)return this.double();let nn=b(C*Qn*J),It=b(U*Qn*Z),At=It+nn,sn=Bt+rn,_t=It-nn,Tt=b(At*bt),Nn=b(sn*_t),Pt=b(At*_t),Ct=b(bt*sn);return new q(Tt,Nn,Ct,Pt)}let gt=b(c*O),Q=b(m*W),tt=b(U*y*J),ne=b(C*Z),ut=b((c+m)*(O+W)-gt-Q),ht=ne-tt,er=ne+tt,Et=b(Q-v*gt),Lt=b(ut*ht),Cn=b(er*Et),Mt=b(ut*Et),Rt=b(ht*er);return new q(Lt,Cn,Rt,Mt)}subtract(g){return this.add(g.negate())}wNAF(g){return Y.wNAFCached(this,N,g,q.normalizeZ)}multiply(g){let{p:v,f:y}=this.wNAF(R(g,n));return q.normalizeZ([v,y])[0]}multiplyUnsafe(g){let v=D(g);return v===Ne?$:this.equals($)||v===Se?this:this.equals(z)?this.wNAF(v).p:Y.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return Y.unsafeLadder(this,n).is0()}toAffine(g){let{ex:v,ey:y,ez:c}=this,m=this.is0();g==null&&(g=m?hl:e.inv(c));let C=b(v*g),U=b(y*g),O=b(c*g);if(m)return{x:Ne,y:Se};if(O!==Se)throw new Error(\"invZ was invalid\");return{x:C,y:U}}clearCofactor(){let{h:g}=t;return g===Se?this:this.multiplyUnsafe(g)}static fromHex(g,v=!1){let{d:y,a:c}=t,m=e.BYTES;g=Nt(\"pointHex\",g,m);let C=g.slice(),U=g[m-1];C[m-1]=U&-129;let O=ur(C);O===Ne||(v?R(O,w):R(O,e.ORDER));let W=b(O*O),Z=b(W-Se),J=b(y*W-c),{isValid:gt,value:Q}=S(Z,J);if(!gt)throw new Error(\"Point.fromHex: invalid y coordinate\");let tt=(Q&Se)===Se,ne=(U&128)!==0;if(!v&&Q===Ne&&ne)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return ne!==tt&&(Q=b(-Q)),q.fromAffine({x:Q,y:O})}static fromPrivateKey(g){return V(g).point}toRawBytes(){let{x:g,y:v}=this.toAffine(),y=Er(v,e.BYTES);return y[y.length-1]|=g&Se?128:0,y}toHex(){return Ve(this.toRawBytes())}}q.BASE=new q(t.Gx,t.Gy,Se,b(t.Gx*t.Gy)),q.ZERO=new q(Ne,Se,Se,Ne);let{BASE:z,ZERO:$}=q,Y=Xn(q,f*8);function ft(p){return dt(p,n)}function nt(p){return ft(ur(p))}function V(p){let g=f;p=Nt(\"private key\",p,g);let v=Nt(\"hashed private key\",s(p),2*g),y=M(v.slice(0,g)),c=v.slice(g,2*g),m=nt(y),C=z.multiply(m),U=C.toRawBytes();return{head:y,prefix:c,scalar:m,point:C,pointBytes:U}}function lt(p){return V(p).pointBytes}function x(p=new Uint8Array,...g){let v=Ge(...g);return nt(s(A(v,Nt(\"context\",p),!!i)))}function a(p,g,v={}){p=Nt(\"message\",p),i&&(p=i(p));let{prefix:y,scalar:c,pointBytes:m}=V(g),C=x(v.context,y,p),U=z.multiply(C).toRawBytes(),O=x(v.context,U,m,p),W=ft(C+O*c);D(W);let Z=Ge(U,Er(W,e.BYTES));return Nt(\"result\",Z,f*2)}let u=dl;function h(p,g,v,y=u){let{context:c,zip215:m}=y,C=e.BYTES;p=Nt(\"signature\",p,2*C),g=Nt(\"message\",g),i&&(g=i(g));let U=ur(p.slice(C,2*C)),O,W,Z;try{O=q.fromHex(v,m),W=q.fromHex(p.slice(0,C),m),Z=z.multiplyUnsafe(U)}catch{return!1}if(!m&&O.isSmallOrder())return!1;let J=x(c,W.toRawBytes(),O.toRawBytes(),g);return W.add(O.multiplyUnsafe(J)).subtract(Z).clearCofactor().equals(q.ZERO)}return z._setWindowSize(8),{CURVE:t,getPublicKey:lt,sign:a,verify:h,ExtendedPoint:q,utils:{getExtendedPublicKey:V,randomPrivateKey:()=>o(e.BYTES),precompute(p=8,g=q.BASE){return g._setWindowSize(p),g.multiply(BigInt(3)),g}}}}var $s=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),Ja=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\"),I0=BigInt(0),yl=BigInt(1),Xa=BigInt(2),A0=BigInt(3),gl=BigInt(5),ml=BigInt(8);function wl(r){let t=BigInt(10),e=BigInt(20),n=BigInt(40),i=BigInt(80),s=$s,f=r*r%s*r%s,l=kt(f,Xa,s)*f%s,w=kt(l,yl,s)*r%s,b=kt(w,gl,s)*w%s,S=kt(b,t,s)*b%s,M=kt(S,e,s)*S%s,A=kt(M,n,s)*M%s,T=kt(A,i,s)*A%s,E=kt(T,i,s)*A%s,_=kt(E,t,s)*b%s;return{pow_p_5_8:kt(_,Xa,s)*r%s,b2:f}}function bl(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function xl(r,t){let e=$s,n=dt(t*t*t,e),i=dt(n*n*t,e),s=wl(r*i).pow_p_5_8,o=dt(r*n*s,e),f=dt(t*o*o,e),l=o,w=dt(o*Ja,e),b=f===r,S=f===dt(-r,e),M=f===dt(-r*Ja,e);return b&&(o=l),(S||M)&&(o=w),Va(o,e)&&(o=dt(-o,e)),{isValid:b||S,value:o}}var kl=Jn($s,void 0,!0),vl={a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:kl,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:ml,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:qa,randomBytes:$n,adjustScalarBytes:bl,uvRatio:xl},Ir=Za(vl);var _o=_e(Ys()),ye=_e(ln());var Il=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hr=new Uint32Array(64),Zs=class extends Fr{constructor(){super(64,32,8,!1),this.A=lr[0]|0,this.B=lr[1]|0,this.C=lr[2]|0,this.D=lr[3]|0,this.E=lr[4]|0,this.F=lr[5]|0,this.G=lr[6]|0,this.H=lr[7]|0}get(){let{A:t,B:e,C:n,D:i,E:s,F:o,G:f,H:l}=this;return[t,e,n,i,s,o,f,l]}set(t,e,n,i,s,o,f,l){this.A=t|0,this.B=e|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=f|0,this.H=l|0}process(t,e){for(let S=0;S<16;S++,e+=4)hr[S]=t.getUint32(e,!1);for(let S=16;S<64;S++){let M=hr[S-15],A=hr[S-2],T=Ce(M,7)^Ce(M,18)^M>>>3,E=Ce(A,17)^Ce(A,19)^A>>>10;hr[S]=E+hr[S-7]+T+hr[S-16]|0}let{A:n,B:i,C:s,D:o,E:f,F:l,G:w,H:b}=this;for(let S=0;S<64;S++){let M=Ce(f,6)^Ce(f,11)^Ce(f,25),A=b+M+Ua(f,l,w)+Il[S]+hr[S]|0,E=(Ce(n,2)^Ce(n,13)^Ce(n,22))+za(n,i,s)|0;b=w,w=l,l=f,f=o+A|0,o=s,s=i,i=n,n=A+E|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,f=f+this.E|0,l=l+this.F|0,w=w+this.G|0,b=b+this.H|0,this.set(n,i,s,o,f,l,w,b)}roundClean(){hr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var hn=qr(()=>new Zs);var tn=_e(hc()),k=_e(so()),yu=_e(so()),Tn=_e(dc());var oo=class extends TypeError{constructor(t,e){let n,{message:i,explanation:s,...o}=t,{path:f}=t,l=f.length===0?i:`At path: ${f.join(\".\")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}};function Vl(r){return wn(r)&&typeof r[Symbol.iterator]==\"function\"}function wn(r){return typeof r==\"object\"&&r!=null}function _i(r){return wn(r)&&!Array.isArray(r)}function Oe(r){return typeof r==\"symbol\"?r.toString():typeof r==\"string\"?JSON.stringify(r):`${r}`}function Yl(r){let{done:t,value:e}=r.next();return t?void 0:e}function Gl(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r==\"string\"&&(r={message:r});let{path:i,branch:s}=t,{type:o}=e,{refinement:f,message:l=`Expected a value of type \\`${o}\\`${f?` with refinement \\`${f}\\``:\"\"}, but received: \\`${Oe(n)}\\``}=r;return{value:n,type:o,refinement:f,key:i[i.length-1],path:i,branch:s,...r,message:l}}function*pc(r,t,e,n){Vl(r)||(r=[r]);for(let i of r){let s=Gl(i,t,e,n);s&&(yield s)}}function*ao(r,t,e={}){let{path:n=[],branch:i=[r],coerce:s=!1,mask:o=!1}=e,f={path:n,branch:i,mask:o};s&&(r=t.coercer(r,f));let l=\"valid\";for(let w of t.validator(r,f))w.explanation=e.message,l=\"not_valid\",yield[w,void 0];for(let[w,b,S]of t.entries(r,f)){let M=ao(b,S,{path:w===void 0?n:[...n,w],branch:w===void 0?i:[...i,b],coerce:s,mask:o,message:e.message});for(let A of M)A[0]?(l=A[0].refinement!=null?\"not_refined\":\"not_valid\",yield[A[0],void 0]):s&&(b=A[1],w===void 0?r=b:r instanceof Map?r.set(w,b):r instanceof Set?r.add(b):wn(r)&&(b!==void 0||w in r)&&(r[w]=b))}if(l!==\"not_valid\")for(let w of t.refiner(r,f))w.explanation=e.message,l=\"not_refined\",yield[w,void 0];l===\"valid\"&&(yield[void 0,r])}var Me=class{constructor(t){let{type:e,schema:n,validator:i,refiner:s,coercer:o=l=>l,entries:f=function*(){}}=t;this.type=e,this.schema=n,this.entries=f,this.coercer=o,i?this.validator=(l,w)=>{let b=i(l,w);return pc(b,w,this,l)}:this.validator=()=>[],s?this.refiner=(l,w)=>{let b=s(l,w);return pc(b,w,this,l)}:this.refiner=()=>[]}assert(t,e){return yc(t,this,e)}create(t,e){return Yr(t,this,e)}is(t){return gc(t,this)}mask(t,e){return Zl(t,this,e)}validate(t,e={}){return bn(t,this,e)}};function yc(r,t,e){let n=bn(r,t,{message:e});if(n[0])throw n[0]}function Yr(r,t,e){let n=bn(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function Zl(r,t,e){let n=bn(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function gc(r,t){return!bn(r,t)[0]}function bn(r,t,e={}){let n=ao(r,t,e),i=Yl(n);return i[0]?[new oo(i[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Mr(r,t){return new Me({type:r,schema:null,validator:t})}function mc(){return Mr(\"any\",()=>!0)}function K(r){return new Me({type:\"array\",schema:r,*entries(t){if(r&&Array.isArray(t))for(let[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Oe(t)}`}})}function Ue(){return Mr(\"boolean\",r=>typeof r==\"boolean\")}function Li(r){return Mr(\"instance\",t=>t instanceof r||`Expected a \\`${r.name}\\` instance, but received: ${Oe(t)}`)}function vt(r){let t=Oe(r),e=typeof r;return new Me({type:\"literal\",schema:e===\"string\"||e===\"number\"||e===\"boolean\"?r:null,validator(n){return n===r||`Expected the literal \\`${t}\\`, but received: ${Oe(n)}`}})}function Jl(){return Mr(\"never\",()=>!1)}function H(r){return new Me({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function B(){return Mr(\"number\",r=>typeof r==\"number\"&&!isNaN(r)||`Expected a number, but received: ${Oe(r)}`)}function G(r){return new Me({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function co(r,t){return new Me({type:\"record\",schema:null,*entries(e){if(wn(e))for(let n in e){let i=e[n];yield[n,n,r],yield[n,i,t]}},validator(e){return _i(e)||`Expected an object, but received: ${Oe(e)}`},coercer(e){return _i(e)?{...e}:e}})}function F(){return Mr(\"string\",r=>typeof r==\"string\"||`Expected a string, but received: ${Oe(r)}`)}function Mi(r){let t=Jl();return new Me({type:\"tuple\",schema:null,*entries(e){if(Array.isArray(e)){let n=Math.max(r.length,e.length);for(let i=0;i<n;i++)yield[i,e[i],r[i]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${Oe(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function P(r){let t=Object.keys(r);return new Me({type:\"type\",schema:r,*entries(e){if(wn(e))for(let n of t)yield[n,e[n],r[n]]},validator(e){return _i(e)||`Expected an object, but received: ${Oe(e)}`},coercer(e){return _i(e)?{...e}:e}})}function ue(r){let t=r.map(e=>e.type).join(\" | \");return new Me({type:\"union\",schema:null,coercer(e,n){for(let i of r){let[s,o]=i.validate(e,{coerce:!0,mask:n.mask});if(!s)return o}return e},validator(e,n){let i=[];for(let s of r){let[...o]=ao(e,s,n),[f]=o;if(f[0])for(let[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${Oe(e)}`,...i]}})}function Rr(){return Mr(\"unknown\",()=>!0)}function Gr(r,t,e){return new Me({...r,coercer:(n,i)=>gc(n,t)?r.coercer(e(n,i),i):r.coercer(n,i)})}var qh=_e(Fc());var Sh=_e(an(),1);var Hc=_e(Kc(),1);var Vc=[],Yc=[],Gc=[],Eh=BigInt(0),Bn=BigInt(1),Bh=BigInt(2),Ih=BigInt(7),Ah=BigInt(256),_h=BigInt(113);for(let r=0,t=Bn,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],Vc.push(2*(5*n+e)),Yc.push((r+1)*(r+2)/2%64);let i=Eh;for(let s=0;s<7;s++)t=(t<<Bn^(t>>Ih)*_h)%Ah,t&Bh&&(i^=Bn<<(Bn<<BigInt(s))-Bn);Gc.push(i)}var[Lh,Mh]=Ts(Gc,!0),jc=(r,t,e)=>e>32?Ns(r,t,e):Ps(r,t,e),$c=(r,t,e)=>e>32?Os(r,t,e):Cs(r,t,e);function Rh(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)e[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let f=(o+8)%10,l=(o+2)%10,w=e[l],b=e[l+1],S=jc(w,b,1)^e[f],M=$c(w,b,1)^e[f+1];for(let A=0;A<50;A+=10)r[o+A]^=S,r[o+A+1]^=M}let i=r[2],s=r[3];for(let o=0;o<24;o++){let f=Yc[o],l=jc(i,s,f),w=$c(i,s,f),b=Vc[o];i=r[b],s=r[b+1],r[b]=l,r[b+1]=w}for(let o=0;o<50;o+=10){for(let f=0;f<10;f++)e[f]=r[o+f];for(let f=0;f<10;f++)r[o+f]^=~e[(f+2)%10]&e[(f+4)%10]}r[0]^=Lh[n],r[1]^=Mh[n]}e.fill(0)}var Ui=class r extends ir{constructor(t,e,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cn(n),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=Ca(this.state)}keccak(){_s||Ls(this.state32),Rh(this.state32,this.rounds),_s||Ls(this.state32),this.posOut=0,this.pos=0}update(t){je(this);let{blockLen:e,state:n}=this;t=sr(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(e-this.pos,i-s);for(let f=0;f<o;f++)n[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:i}=this;t[n]^=e,e&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){je(this,!1),nr(t),this.finish();let e=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);t.set(e.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return cn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Kn(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new r(e,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}},wr=(r,t,e)=>qr(()=>new Ui(t,r,e)),Pp=wr(6,144,224/8),Cp=wr(6,136,256/8),Np=wr(6,104,384/8),Op=wr(6,72,512/8),Up=wr(1,144,224/8),xo=wr(1,136,256/8),zp=wr(1,104,384/8),Dp=wr(1,72,512/8),Zc=(r,t,e)=>Oa((n={})=>new Ui(t,r,n.dkLen===void 0?e:n.dkLen,!0)),qp=Zc(31,168,128/8),Fp=Zc(31,136,256/8);var zi=class extends ir{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Pa(t);let n=sr(e);if(this.iHash=t.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return je(this),this.iHash.update(t),this}digestInto(t){je(this),nr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:f}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=f,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ko=(r,t,e)=>new zi(r,t).update(e).digest();ko.create=(r,t)=>new zi(r,t);function Th(r){let t=fn(r);qe(t,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});let{endo:e,Fp:n,a:i}=t;if(e){if(!n.eql(i,n.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(typeof e!=\"object\"||typeof e.beta!=\"bigint\"||typeof e.splitScalar!=\"function\")throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...t})}var{bytesToNumberBE:Ph,hexToBytes:Ch}=Gn,Tr={Err:class extends Error{constructor(t=\"\"){super(t)}},_parseInt(r){let{Err:t}=Tr;if(r.length<2||r[0]!==2)throw new t(\"Invalid signature integer tag\");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t(\"Invalid signature integer: wrong length\");if(n[0]&128)throw new t(\"Invalid signature integer: negative\");if(n[0]===0&&!(n[1]&128))throw new t(\"Invalid signature integer: unnecessary leading zero\");return{d:Ph(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=Tr,e=typeof r==\"string\"?Ch(r):r;Wr(e);let n=e.length;if(n<2||e[0]!=48)throw new t(\"Invalid signature tag\");if(e[1]!==n-2)throw new t(\"Invalid signature: incorrect length\");let{d:i,l:s}=Tr._parseInt(e.subarray(2)),{d:o,l:f}=Tr._parseInt(s);if(f.length)throw new t(\"Invalid signature: left bytes after parsing\");return{r:i,s:o}},hexFromSig(r){let t=w=>Number.parseInt(w[0],16)&8?\"00\"+w:w,e=w=>{let b=w.toString(16);return b.length&1?`0${b}`:b},n=t(e(r.s)),i=t(e(r.r)),s=n.length/2,o=i.length/2,f=e(s),l=e(o);return`30${e(o+s+4)}02${l}${i}02${f}${n}`}},Xe=BigInt(0),Re=BigInt(1),Gp=BigInt(2),Jc=BigInt(3),Zp=BigInt(4);function Nh(r){let t=Th(r),{Fp:e}=t,n=t.toBytes||((T,E,_)=>{let R=E.toAffine();return Ge(Uint8Array.from([4]),e.toBytes(R.x),e.toBytes(R.y))}),i=t.fromBytes||(T=>{let E=T.subarray(1),_=e.fromBytes(E.subarray(0,e.BYTES)),R=e.fromBytes(E.subarray(e.BYTES,2*e.BYTES));return{x:_,y:R}});function s(T){let{a:E,b:_}=t,R=e.sqr(T),D=e.mul(R,T);return e.add(e.add(D,e.mul(T,E)),_)}if(!e.eql(e.sqr(t.Gy),s(t.Gx)))throw new Error(\"bad generator point: equation left != right\");function o(T){return typeof T==\"bigint\"&&Xe<T&&T<t.n}function f(T){if(!o(T))throw new Error(\"Expected valid bigint: 0 < bigint < curve.n\")}function l(T){let{allowedPrivateKeyLengths:E,nByteLength:_,wrapPrivateKey:R,n:D}=t;if(E&&typeof T!=\"bigint\"){if(cr(T)&&(T=Ve(T)),typeof T!=\"string\"||!E.includes(T.length))throw new Error(\"Invalid key\");T=T.padStart(_*2,\"0\")}let N;try{N=typeof T==\"bigint\"?T:Ye(Nt(\"private key\",T,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof T}`)}return R&&(N=dt(N,D)),f(N),N}let w=new Map;function b(T){if(!(T instanceof S))throw new Error(\"ProjectivePoint expected\")}class S{constructor(E,_,R){if(this.px=E,this.py=_,this.pz=R,E==null||!e.isValid(E))throw new Error(\"x required\");if(_==null||!e.isValid(_))throw new Error(\"y required\");if(R==null||!e.isValid(R))throw new Error(\"z required\")}static fromAffine(E){let{x:_,y:R}=E||{};if(!E||!e.isValid(_)||!e.isValid(R))throw new Error(\"invalid affine point\");if(E instanceof S)throw new Error(\"projective point not allowed\");let D=N=>e.eql(N,e.ZERO);return D(_)&&D(R)?S.ZERO:new S(_,R,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){let _=e.invertBatch(E.map(R=>R.pz));return E.map((R,D)=>R.toAffine(_[D])).map(S.fromAffine)}static fromHex(E){let _=S.fromAffine(i(Nt(\"pointHex\",E)));return _.assertValidity(),_}static fromPrivateKey(E){return S.BASE.multiply(l(E))}_setWindowSize(E){this._WINDOW_SIZE=E,w.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error(\"bad point: ZERO\")}let{x:E,y:_}=this.toAffine();if(!e.isValid(E)||!e.isValid(_))throw new Error(\"bad point: x or y not FE\");let R=e.sqr(_),D=s(E);if(!e.eql(R,D))throw new Error(\"bad point: equation left != right\");if(!this.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\")}hasEvenY(){let{y:E}=this.toAffine();if(e.isOdd)return!e.isOdd(E);throw new Error(\"Field doesn't support isOdd\")}equals(E){b(E);let{px:_,py:R,pz:D}=this,{px:N,py:j,pz:q}=E,z=e.eql(e.mul(_,q),e.mul(N,D)),$=e.eql(e.mul(R,q),e.mul(j,D));return z&&$}negate(){return new S(this.px,e.neg(this.py),this.pz)}double(){let{a:E,b:_}=t,R=e.mul(_,Jc),{px:D,py:N,pz:j}=this,q=e.ZERO,z=e.ZERO,$=e.ZERO,Y=e.mul(D,D),ft=e.mul(N,N),nt=e.mul(j,j),V=e.mul(D,N);return V=e.add(V,V),$=e.mul(D,j),$=e.add($,$),q=e.mul(E,$),z=e.mul(R,nt),z=e.add(q,z),q=e.sub(ft,z),z=e.add(ft,z),z=e.mul(q,z),q=e.mul(V,q),$=e.mul(R,$),nt=e.mul(E,nt),V=e.sub(Y,nt),V=e.mul(E,V),V=e.add(V,$),$=e.add(Y,Y),Y=e.add($,Y),Y=e.add(Y,nt),Y=e.mul(Y,V),z=e.add(z,Y),nt=e.mul(N,j),nt=e.add(nt,nt),Y=e.mul(nt,V),q=e.sub(q,Y),$=e.mul(nt,ft),$=e.add($,$),$=e.add($,$),new S(q,z,$)}add(E){b(E);let{px:_,py:R,pz:D}=this,{px:N,py:j,pz:q}=E,z=e.ZERO,$=e.ZERO,Y=e.ZERO,ft=t.a,nt=e.mul(t.b,Jc),V=e.mul(_,N),lt=e.mul(R,j),x=e.mul(D,q),a=e.add(_,R),u=e.add(N,j);a=e.mul(a,u),u=e.add(V,lt),a=e.sub(a,u),u=e.add(_,D);let h=e.add(N,q);return u=e.mul(u,h),h=e.add(V,x),u=e.sub(u,h),h=e.add(R,D),z=e.add(j,q),h=e.mul(h,z),z=e.add(lt,x),h=e.sub(h,z),Y=e.mul(ft,u),z=e.mul(nt,x),Y=e.add(z,Y),z=e.sub(lt,Y),Y=e.add(lt,Y),$=e.mul(z,Y),lt=e.add(V,V),lt=e.add(lt,V),x=e.mul(ft,x),u=e.mul(nt,u),lt=e.add(lt,x),x=e.sub(V,x),x=e.mul(ft,x),u=e.add(u,x),V=e.mul(lt,u),$=e.add($,V),V=e.mul(h,u),z=e.mul(a,z),z=e.sub(z,V),V=e.mul(a,lt),Y=e.mul(h,Y),Y=e.add(Y,V),new S(z,$,Y)}subtract(E){return this.add(E.negate())}is0(){return this.equals(S.ZERO)}wNAF(E){return A.wNAFCached(this,w,E,_=>{let R=e.invertBatch(_.map(D=>D.pz));return _.map((D,N)=>D.toAffine(R[N])).map(S.fromAffine)})}multiplyUnsafe(E){let _=S.ZERO;if(E===Xe)return _;if(f(E),E===Re)return this;let{endo:R}=t;if(!R)return A.unsafeLadder(this,E);let{k1neg:D,k1:N,k2neg:j,k2:q}=R.splitScalar(E),z=_,$=_,Y=this;for(;N>Xe||q>Xe;)N&Re&&(z=z.add(Y)),q&Re&&($=$.add(Y)),Y=Y.double(),N>>=Re,q>>=Re;return D&&(z=z.negate()),j&&($=$.negate()),$=new S(e.mul($.px,R.beta),$.py,$.pz),z.add($)}multiply(E){f(E);let _=E,R,D,{endo:N}=t;if(N){let{k1neg:j,k1:q,k2neg:z,k2:$}=N.splitScalar(_),{p:Y,f:ft}=this.wNAF(q),{p:nt,f:V}=this.wNAF($);Y=A.constTimeNegate(j,Y),nt=A.constTimeNegate(z,nt),nt=new S(e.mul(nt.px,N.beta),nt.py,nt.pz),R=Y.add(nt),D=ft.add(V)}else{let{p:j,f:q}=this.wNAF(_);R=j,D=q}return S.normalizeZ([R,D])[0]}multiplyAndAddUnsafe(E,_,R){let D=S.BASE,N=(q,z)=>z===Xe||z===Re||!q.equals(D)?q.multiplyUnsafe(z):q.multiply(z),j=N(this,_).add(N(E,R));return j.is0()?void 0:j}toAffine(E){let{px:_,py:R,pz:D}=this,N=this.is0();E==null&&(E=N?e.ONE:e.inv(D));let j=e.mul(_,E),q=e.mul(R,E),z=e.mul(D,E);if(N)return{x:e.ZERO,y:e.ZERO};if(!e.eql(z,e.ONE))throw new Error(\"invZ was invalid\");return{x:j,y:q}}isTorsionFree(){let{h:E,isTorsionFree:_}=t;if(E===Re)return!0;if(_)return _(S,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){let{h:E,clearCofactor:_}=t;return E===Re?this:_?_(S,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return this.assertValidity(),n(S,this,E)}toHex(E=!0){return Ve(this.toRawBytes(E))}}S.BASE=new S(t.Gx,t.Gy,e.ONE),S.ZERO=new S(e.ZERO,e.ONE,e.ZERO);let M=t.nBitLength,A=Xn(S,t.endo?Math.ceil(M/2):M);return{CURVE:t,ProjectivePoint:S,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Oh(r){let t=fn(r);return qe(t,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...t})}function Xc(r){let t=Oh(r),{Fp:e,n}=t,i=e.BYTES+1,s=2*e.BYTES+1;function o(u){return Xe<u&&u<e.ORDER}function f(u){return dt(u,n)}function l(u){return Zn(u,n)}let{ProjectivePoint:w,normPrivateKeyToScalar:b,weierstrassEquation:S,isWithinCurveOrder:M}=Nh({...t,toBytes(u,h,d){let p=h.toAffine(),g=e.toBytes(p.x),v=Ge;return d?v(Uint8Array.from([h.hasEvenY()?2:3]),g):v(Uint8Array.from([4]),g,e.toBytes(p.y))},fromBytes(u){let h=u.length,d=u[0],p=u.subarray(1);if(h===i&&(d===2||d===3)){let g=Ye(p);if(!o(g))throw new Error(\"Point is not on curve\");let v=S(g),y;try{y=e.sqrt(v)}catch(C){let U=C instanceof Error?\": \"+C.message:\"\";throw new Error(\"Point is not on curve\"+U)}let c=(y&Re)===Re;return(d&1)===1!==c&&(y=e.neg(y)),{x:g,y}}else if(h===s&&d===4){let g=e.fromBytes(p.subarray(0,e.BYTES)),v=e.fromBytes(p.subarray(e.BYTES,2*e.BYTES));return{x:g,y:v}}else throw new Error(`Point of length ${h} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),A=u=>Ve(fr(u,t.nByteLength));function T(u){let h=n>>Re;return u>h}function E(u){return T(u)?f(-u):u}let _=(u,h,d)=>Ye(u.slice(h,d));class R{constructor(h,d,p){this.r=h,this.s=d,this.recovery=p,this.assertValidity()}static fromCompact(h){let d=t.nByteLength;return h=Nt(\"compactSignature\",h,d*2),new R(_(h,0,d),_(h,d,2*d))}static fromDER(h){let{r:d,s:p}=Tr.toSig(Nt(\"DER\",h));return new R(d,p)}assertValidity(){if(!M(this.r))throw new Error(\"r must be 0 < r < CURVE.n\");if(!M(this.s))throw new Error(\"s must be 0 < s < CURVE.n\")}addRecoveryBit(h){return new R(this.r,this.s,h)}recoverPublicKey(h){let{r:d,s:p,recovery:g}=this,v=$(Nt(\"msgHash\",h));if(g==null||![0,1,2,3].includes(g))throw new Error(\"recovery id invalid\");let y=g===2||g===3?d+t.n:d;if(y>=e.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");let c=g&1?\"03\":\"02\",m=w.fromHex(c+A(y)),C=l(y),U=f(-v*C),O=f(p*C),W=w.BASE.multiplyAndAddUnsafe(m,U,O);if(!W)throw new Error(\"point at infinify\");return W.assertValidity(),W}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Sr(this.toDERHex())}toDERHex(){return Tr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sr(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}let D={isValidPrivateKey(u){try{return b(u),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{let u=Hs(t.n);return Ga(t.randomBytes(u),t.n)},precompute(u=8,h=w.BASE){return h._setWindowSize(u),h.multiply(BigInt(3)),h}};function N(u,h=!0){return w.fromPrivateKey(u).toRawBytes(h)}function j(u){let h=cr(u),d=typeof u==\"string\",p=(h||d)&&u.length;return h?p===i||p===s:d?p===2*i||p===2*s:u instanceof w}function q(u,h,d=!0){if(j(u))throw new Error(\"first arg must be private key\");if(!j(h))throw new Error(\"second arg must be public key\");return w.fromHex(h).multiply(b(u)).toRawBytes(d)}let z=t.bits2int||function(u){let h=Ye(u),d=u.length*8-t.nBitLength;return d>0?h>>BigInt(d):h},$=t.bits2int_modN||function(u){return f(z(u))},Y=un(t.nBitLength);function ft(u){if(typeof u!=\"bigint\")throw new Error(\"bigint expected\");if(!(Xe<=u&&u<Y))throw new Error(`bigint expected < 2^${t.nBitLength}`);return fr(u,t.nByteLength)}function nt(u,h,d=V){if([\"recovered\",\"canonical\"].some(J=>J in d))throw new Error(\"sign() legacy options not supported\");let{hash:p,randomBytes:g}=t,{lowS:v,prehash:y,extraEntropy:c}=d;v==null&&(v=!0),u=Nt(\"msgHash\",u),y&&(u=Nt(\"prehashed msgHash\",p(u)));let m=$(u),C=b(h),U=[ft(C),ft(m)];if(c!=null&&c!==!1){let J=c===!0?g(e.BYTES):c;U.push(Nt(\"extraEntropy\",J))}let O=Ge(...U),W=m;function Z(J){let gt=z(J);if(!M(gt))return;let Q=l(gt),tt=w.BASE.multiply(gt).toAffine(),ne=f(tt.x);if(ne===Xe)return;let ut=f(Q*f(W+ne*C));if(ut===Xe)return;let ht=(tt.x===ne?0:2)|Number(tt.y&Re),er=ut;return v&&T(ut)&&(er=E(ut),ht^=1),new R(ne,er,ht)}return{seed:O,k2sig:Z}}let V={lowS:t.lowS,prehash:!1},lt={lowS:t.lowS,prehash:!1};function x(u,h,d=V){let{seed:p,k2sig:g}=nt(u,h,d),v=t;return qs(v.hash.outputLen,v.nByteLength,v.hmac)(p,g)}w.BASE._setWindowSize(8);function a(u,h,d,p=lt){let g=u;if(h=Nt(\"msgHash\",h),d=Nt(\"publicKey\",d),\"strict\"in p)throw new Error(\"options.strict was renamed to lowS\");let{lowS:v,prehash:y}=p,c,m;try{if(typeof g==\"string\"||cr(g))try{c=R.fromDER(g)}catch(tt){if(!(tt instanceof Tr.Err))throw tt;c=R.fromCompact(g)}else if(typeof g==\"object\"&&typeof g.r==\"bigint\"&&typeof g.s==\"bigint\"){let{r:tt,s:ne}=g;c=new R(tt,ne)}else throw new Error(\"PARSE\");m=w.fromHex(d)}catch(tt){if(tt.message===\"PARSE\")throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(v&&c.hasHighS())return!1;y&&(h=t.hash(h));let{r:C,s:U}=c,O=$(h),W=l(U),Z=f(O*W),J=f(C*W),gt=w.BASE.multiplyAndAddUnsafe(m,Z,J)?.toAffine();return gt?f(gt.x)===C:!1}return{CURVE:t,getPublicKey:N,getSharedSecret:q,sign:x,verify:a,ProjectivePoint:w,Signature:R,utils:D}}function Uh(r){return{hash:r,hmac:(t,...e)=>ko(r,t,Ms(...e)),randomBytes:$n}}function Qc(r,t){let e=n=>Xc({...r,...Uh(n)});return Object.freeze({...e(t),create:e})}var ru=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),tu=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),zh=BigInt(1),vo=BigInt(2),eu=(r,t)=>(r+t/vo)/t;function Dh(r){let t=ru,e=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),f=BigInt(44),l=BigInt(88),w=r*r*r%t,b=w*w*r%t,S=kt(b,e,t)*b%t,M=kt(S,e,t)*b%t,A=kt(M,vo,t)*w%t,T=kt(A,i,t)*A%t,E=kt(T,s,t)*T%t,_=kt(E,f,t)*E%t,R=kt(_,l,t)*_%t,D=kt(R,f,t)*E%t,N=kt(D,e,t)*b%t,j=kt(N,o,t)*T%t,q=kt(j,n,t)*w%t,z=kt(q,vo,t);if(!So.eql(So.sqr(z),r))throw new Error(\"Cannot find square root\");return z}var So=Jn(ru,void 0,void 0,{sqrt:Dh}),In=Qc({a:BigInt(0),b:BigInt(7),Fp:So,n:tu,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:r=>{let t=tu,e=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),n=-zh*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=e,o=BigInt(\"0x100000000000000000000000000000000\"),f=eu(s*r,t),l=eu(-n*r,t),w=dt(r-f*e-l*i,t),b=dt(-f*n-l*s,t),S=w>o,M=b>o;if(S&&(w=t-w),M&&(b=t-b),w>o||b>o)throw new Error(\"splitScalar: Endomorphism failed, k=\"+r);return{k1neg:S,k1:w,k2neg:M,k2:b}}}},hn),sy=BigInt(0);var oy=In.ProjectivePoint;var gy=Ir.utils.randomPrivateKey,nu=()=>{let r=Ir.utils.randomPrivateKey(),t=Lo(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},Lo=Ir.getPublicKey;function iu(r){try{return Ir.ExtendedPoint.fromHex(r),!0}catch{return!1}}var Ko=(r,t)=>Ir.sign(r,t.slice(0,32)),Fh=Ir.verify,at=r=>X.Buffer.isBuffer(r)?r:r instanceof Uint8Array?X.Buffer.from(r.buffer,r.byteOffset,r.byteLength):X.Buffer.from(r),Mo=class{constructor(t){Object.assign(this,t)}encode(){return X.Buffer.from((0,tn.serialize)(qi,this))}static decode(t){return(0,tn.deserialize)(qi,this,t)}static decodeUnchecked(t){return(0,tn.deserializeUnchecked)(qi,this,t)}};var qi=new Map,gu,Wh=32,xr=32;function Kh(r){return r._bn!==void 0}var su=1,et=class r extends Mo{constructor(t){if(super({}),this._bn=void 0,Kh(t))this._bn=t._bn;else{if(typeof t==\"string\"){let e=ye.default.decode(t);if(e.length!=xr)throw new Error(\"Invalid public key input\");this._bn=new _o.default(e)}else this._bn=new _o.default(t);if(this._bn.byteLength()>xr)throw new Error(\"Invalid public key input\")}}static unique(){let t=new r(su);return su+=1,new r(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ye.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(X.Buffer);if(t.length===xr)return t;let e=X.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){let i=X.Buffer.concat([t.toBuffer(),X.Buffer.from(e),n.toBuffer()]),s=hn(i);return new r(s)}static createProgramAddressSync(t,e){let n=X.Buffer.alloc(0);t.forEach(function(s){if(s.length>Wh)throw new TypeError(\"Max seed length exceeded\");n=X.Buffer.concat([n,at(s)])}),n=X.Buffer.concat([n,e.toBuffer(),X.Buffer.from(\"ProgramDerivedAddress\")]);let i=hn(n);if(iu(i))throw new Error(\"Invalid seeds, address must fall off the curve\");return new r(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,i;for(;n!=0;){try{let s=t.concat(X.Buffer.from([n]));i=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error(\"Unable to find a viable program address nonce\")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new r(t);return iu(e.toBytes())}};gu=et;et.default=new gu(\"11111111111111111111111111111111\");qi.set(et,{kind:\"struct\",fields:[[\"_bn\",\"u256\"]]});var my=new et(\"BPFLoader1111111111111111111111111111111111\"),Pr=1232,Ho=127,Fi=64,Ro=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Ro.prototype,\"name\",{value:\"TransactionExpiredBlockheightExceededError\"});var To=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(To.prototype,\"name\",{value:\"TransactionExpiredTimeoutError\"});var Po=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Po.prototype,\"name\",{value:\"TransactionExpiredNonceInvalidError\"});var Jr=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error(\"Account index overflow encountered during compilation\");let n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});let i=s=>{let o=n.get(s.toBase58());if(o===void 0)throw new Error(\"Encountered an unknown instruction account key during compilation\");return o};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}},it=(r=\"publicKey\")=>k.blob(32,r),Hh=(r=\"signature\")=>k.blob(64,r),Zr=(r=\"string\")=>{let t=k.struct([k.u32(\"length\"),k.u32(\"lengthPadding\"),k.blob(k.offset(k.u32(),-8),\"chars\")],r),e=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,o)=>e(s,o).chars.toString(),i.encode=(s,o,f)=>{let l={chars:X.Buffer.from(s,\"utf8\")};return n(l,o,f)},i.alloc=s=>k.u32().span+k.u32().span+X.Buffer.from(s,\"utf8\").length,i},jh=(r=\"authorized\")=>k.struct([it(\"staker\"),it(\"withdrawer\")],r),$h=(r=\"lockup\")=>k.struct([k.ns64(\"unixTimestamp\"),k.ns64(\"epoch\"),it(\"custodian\")],r),Vh=(r=\"voteInit\")=>k.struct([it(\"nodePubkey\"),it(\"authorizedVoter\"),it(\"authorizedWithdrawer\"),k.u8(\"commission\")],r),Yh=(r=\"voteAuthorizeWithSeedArgs\")=>k.struct([k.u32(\"voteAuthorizationType\"),it(\"currentAuthorityDerivedKeyOwnerPubkey\"),Zr(\"currentAuthorityDerivedKeySeed\"),it(\"newAuthorized\")],r);function mu(r,t){let e=i=>{if(i.span>=0)return i.span;if(typeof i.alloc==\"function\")return i.alloc(t[i.property]);if(\"count\"in i&&\"elementLayout\"in i){let s=t[i.property];if(Array.isArray(s))return s.length*e(i.elementLayout)}else if(\"fields\"in i)return mu({layout:i},t[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=e(i)}),n}function Be(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Ie(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function wt(r,t){if(!r)throw new Error(t||\"Assertion failed\")}var Wi=class r{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let n=new Map,i=o=>{let f=o.toBase58(),l=n.get(f);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(f,l)),l},s=i(e);s.isSigner=!0,s.isWritable=!0;for(let o of t){i(o.programId).isInvoked=!0;for(let f of o.keys){let l=i(f.pubkey);l.isSigner||=f.isSigner,l.isWritable||=f.isWritable}}return new r(e,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];wt(t.length<=256,\"Max static account keys length exceeded\");let e=t.filter(([,l])=>l.isSigner&&l.isWritable),n=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),s=t.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{wt(e.length>0,\"Expected at least one writable signer key\");let[l]=e[0];wt(l===this.payer.toBase58(),\"Expected first writable signer key to be the fee payer\")}let f=[...e.map(([l])=>new et(l)),...n.map(([l])=>new et(l)),...i.map(([l])=>new et(l)),...s.map(([l])=>new et(l))];return[o,f]}extractTableLookup(t){let[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,e){let n=new Array,i=new Array;for(let[s,o]of this.keyMetaMap.entries())if(e(o)){let f=new et(s),l=t.findIndex(w=>w.equals(f));l>=0&&(wt(l<256,\"Max lookup table index exceeded\"),n.push(l),i.push(f),this.keyMetaMap.delete(s))}return[n,i]}},wu=\"Reached end of buffer unexpectedly\";function tr(r){if(r.length===0)throw new Error(wu);return r.shift()}function Ae(r,...t){let[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(wu);return r.splice(...t)}var Ln=class r{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new et(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return\"legacy\"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ye.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Jr(this.staticAccountKeys)}static compile(t){let e=Wi.compile(t.instructions,t.payerKey),[n,i]=e.getMessageComponents(),o=new Jr(i).compileInstructions(t.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:ye.default.encode(f.data)}));return new r({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let n=t-e,s=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];Ie(e,t);let n=this.instructions.map(S=>{let{accounts:M,programIdIndex:A}=S,T=Array.from(ye.default.decode(S.data)),E=[];Ie(E,M.length);let _=[];return Ie(_,T.length),{programIdIndex:A,keyIndicesCount:X.Buffer.from(E),keyIndices:M,dataLength:X.Buffer.from(_),data:T}}),i=[];Ie(i,n.length);let s=X.Buffer.alloc(Pr);X.Buffer.from(i).copy(s);let o=i.length;n.forEach(S=>{let A=k.struct([k.u8(\"programIdIndex\"),k.blob(S.keyIndicesCount.length,\"keyIndicesCount\"),k.seq(k.u8(\"keyIndex\"),S.keyIndices.length,\"keyIndices\"),k.blob(S.dataLength.length,\"dataLength\"),k.seq(k.u8(\"userdatum\"),S.data.length,\"data\")]).encode(S,s,o);o+=A}),s=s.slice(0,o);let f=k.struct([k.blob(1,\"numRequiredSignatures\"),k.blob(1,\"numReadonlySignedAccounts\"),k.blob(1,\"numReadonlyUnsignedAccounts\"),k.blob(e.length,\"keyCount\"),k.seq(it(\"key\"),t,\"keys\"),it(\"recentBlockhash\")]),l={numRequiredSignatures:X.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:X.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:X.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:X.Buffer.from(e),keys:this.accountKeys.map(S=>at(S.toBytes())),recentBlockhash:ye.default.decode(this.recentBlockhash)},w=X.Buffer.alloc(2048),b=f.encode(l,w);return s.copy(w,b),w.slice(0,b+s.length)}static from(t){let e=[...t],n=tr(e);if(n!==(n&Ho))throw new Error(\"Versioned messages must be deserialized with VersionedMessage.deserialize()\");let i=tr(e),s=tr(e),o=Be(e),f=[];for(let M=0;M<o;M++){let A=Ae(e,0,xr);f.push(new et(X.Buffer.from(A)))}let l=Ae(e,0,xr),w=Be(e),b=[];for(let M=0;M<w;M++){let A=tr(e),T=Be(e),E=Ae(e,0,T),_=Be(e),R=Ae(e,0,_),D=ye.default.encode(X.Buffer.from(R));b.push({programIdIndex:A,accounts:E,data:D})}let S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ye.default.encode(X.Buffer.from(l)),accountKeys:f,instructions:b};return new r(S)}},Co=class r{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&\"accountKeysFromLookups\"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error(\"Failed to get account keys because of a mismatch in the number of account keys from lookups\");e=t.accountKeysFromLookups}else if(t&&\"addressLookupTableAccounts\"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error(\"Failed to get account keys because address table lookups were not resolved\");return new Jr(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){let i=t-n,s=this.addressTableLookups.reduce((o,f)=>o+f.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){let i=t-e,o=n-e-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=e-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)e.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)e.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){let e=Wi.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(let b of s){let S=e.extractTableLookup(b);if(S!==void 0){let[M,{writable:A,readonly:T}]=S;n.push(M),i.writable.push(...A),i.readonly.push(...T)}}let[o,f]=e.getMessageComponents(),w=new Jr(f,i).compileInstructions(t.instructions);return new r({header:o,staticAccountKeys:f,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){let t=Array();Ie(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),n=Array();Ie(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();Ie(s,this.addressTableLookups.length);let o=k.struct([k.u8(\"prefix\"),k.struct([k.u8(\"numRequiredSignatures\"),k.u8(\"numReadonlySignedAccounts\"),k.u8(\"numReadonlyUnsignedAccounts\")],\"header\"),k.blob(t.length,\"staticAccountKeysLength\"),k.seq(it(),this.staticAccountKeys.length,\"staticAccountKeys\"),it(\"recentBlockhash\"),k.blob(n.length,\"instructionsLength\"),k.blob(e.length,\"serializedInstructions\"),k.blob(s.length,\"addressTableLookupsLength\"),k.blob(i.length,\"serializedAddressTableLookups\")]),f=new Uint8Array(Pr),w=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:ye.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},f);return f.slice(0,w)}serializeInstructions(){let t=0,e=new Uint8Array(Pr);for(let n of this.compiledInstructions){let i=Array();Ie(i,n.accountKeyIndexes.length);let s=Array();Ie(s,n.data.length);let o=k.struct([k.u8(\"programIdIndex\"),k.blob(i.length,\"encodedAccountKeyIndexesLength\"),k.seq(k.u8(),n.accountKeyIndexes.length,\"accountKeyIndexes\"),k.blob(s.length,\"encodedDataLength\"),k.blob(n.data.length,\"data\")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(Pr);for(let n of this.addressTableLookups){let i=Array();Ie(i,n.writableIndexes.length);let s=Array();Ie(s,n.readonlyIndexes.length);let o=k.struct([it(\"accountKey\"),k.blob(i.length,\"encodedWritableIndexesLength\"),k.seq(k.u8(),n.writableIndexes.length,\"writableIndexes\"),k.blob(s.length,\"encodedReadonlyIndexesLength\"),k.seq(k.u8(),n.readonlyIndexes.length,\"readonlyIndexes\")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],n=tr(e),i=n&Ho;wt(n!==i,\"Expected versioned message but received legacy message\");let s=i;wt(s===0,`Expected versioned message with version 0 but found version ${s}`);let o={numRequiredSignatures:tr(e),numReadonlySignedAccounts:tr(e),numReadonlyUnsignedAccounts:tr(e)},f=[],l=Be(e);for(let T=0;T<l;T++)f.push(new et(Ae(e,0,xr)));let w=ye.default.encode(Ae(e,0,xr)),b=Be(e),S=[];for(let T=0;T<b;T++){let E=tr(e),_=Be(e),R=Ae(e,0,_),D=Be(e),N=new Uint8Array(Ae(e,0,D));S.push({programIdIndex:E,accountKeyIndexes:R,data:N})}let M=Be(e),A=[];for(let T=0;T<M;T++){let E=new et(Ae(e,0,xr)),_=Be(e),R=Ae(e,0,_),D=Be(e),N=Ae(e,0,D);A.push({accountKey:E,writableIndexes:R,readonlyIndexes:N})}return new r({header:o,staticAccountKeys:f,recentBlockhash:w,compiledInstructions:S,addressTableLookups:A})}},bu={deserializeMessageVersion(r){let t=r[0],e=t&Ho;return e===t?\"legacy\":e},deserialize:r=>{let t=bu.deserializeMessageVersion(r);if(t===\"legacy\")return Ln.from(r);if(t===0)return Co.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};var Gh=X.Buffer.alloc(Fi).fill(0),yt=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=X.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},St=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,\"nonceInfo\")){let{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,\"lastValidBlockHeight\")){let{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{let{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error(\"No instructions\");return t.forEach(e=>{\"instructions\"in e?this.instructions=this.instructions.concat(e.instructions):\"data\"in e&&\"programId\"in e&&\"keys\"in e?this.instructions.push(e):this.instructions.push(new yt(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error(\"Transaction recentBlockhash required\");e.length<1&&console.warn(\"No instructions provided\");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error(\"Transaction fee payer required\");for(let E=0;E<e.length;E++)if(e[E].programId===void 0)throw new Error(`Transaction instruction index ${E} has undefined program id`);let i=[],s=[];e.forEach(E=>{E.keys.forEach(R=>{s.push({...R})});let _=E.programId.toString();i.includes(_)||i.push(_)}),i.forEach(E=>{s.push({pubkey:new et(E),isSigner:!1,isWritable:!1})});let o=[];s.forEach(E=>{let _=E.pubkey.toString(),R=o.findIndex(D=>D.pubkey.toString()===_);R>-1?(o[R].isWritable=o[R].isWritable||E.isWritable,o[R].isSigner=o[R].isSigner||E.isSigner):o.push(E)}),o.sort(function(E,_){if(E.isSigner!==_.isSigner)return E.isSigner?-1:1;if(E.isWritable!==_.isWritable)return E.isWritable?-1:1;let R={localeMatcher:\"best fit\",usage:\"sort\",sensitivity:\"variant\",ignorePunctuation:!1,numeric:!1,caseFirst:\"lower\"};return E.pubkey.toBase58().localeCompare(_.pubkey.toBase58(),\"en\",R)});let f=o.findIndex(E=>E.pubkey.equals(n));if(f>-1){let[E]=o.splice(f,1);E.isSigner=!0,E.isWritable=!0,o.unshift(E)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let E of this.signatures){let _=o.findIndex(R=>R.pubkey.equals(E.publicKey));if(_>-1)o[_].isSigner||(o[_].isSigner=!0,console.warn(\"Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release.\"));else throw new Error(`unknown signer: ${E.publicKey.toString()}`)}let l=0,w=0,b=0,S=[],M=[];o.forEach(({pubkey:E,isSigner:_,isWritable:R})=>{_?(S.push(E.toString()),l+=1,R||(w+=1)):(M.push(E.toString()),R||(b+=1))});let A=S.concat(M),T=e.map(E=>{let{data:_,programId:R}=E;return{programIdIndex:A.indexOf(R.toString()),accounts:E.keys.map(D=>A.indexOf(D.pubkey.toString())),data:ye.default.encode(_)}});return T.forEach(E=>{wt(E.programIdIndex>=0),E.accounts.forEach(_=>wt(_>=0))}),new Ln({header:{numRequiredSignatures:l,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:b},accountKeys:A,recentBlockhash:t,instructions:T})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((i,s)=>e[s].equals(i.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set;this.signatures=t.filter(n=>{let i=n.toString();return e.has(i)?!1:(e.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set,n=[];for(let s of t){let o=s.publicKey.toString();e.has(o)||(e.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set,n=[];for(let s of t){let o=s.publicKey.toString();e.has(o)||(e.add(o),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(t,...e){let n=t.serialize();e.forEach(i=>{let s=Ko(n,i.secretKey);this._addSignature(i.publicKey,at(s))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){wt(e.length===64);let n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=X.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?e&&(n.missing||=[]).push(s):Fh(i,t,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,e);if(s){let o=\"Signature verification failed.\";throw s.invalid&&(o+=`\nInvalid signature for public key${s.invalid.length===1?\"\":\"(s)\"} [\\`${s.invalid.map(f=>f.toBase58()).join(\"`, `\")}\\`].`),s.missing&&(o+=`\nMissing signature for public key${s.missing.length===1?\"\":\"(s)\"} [\\`${s.missing.map(f=>f.toBase58()).join(\"`, `\")}\\`].`),new Error(o)}}return this._serialize(i)}_serialize(t){let{signatures:e}=this,n=[];Ie(n,e.length);let i=n.length+e.length*64+t.length,s=X.Buffer.alloc(i);return wt(e.length<256),X.Buffer.from(n).copy(s,0),e.forEach(({signature:o},f)=>{o!==null&&(wt(o.length===64,\"signature has invalid length\"),X.Buffer.from(o).copy(s,n.length+f*64))}),t.copy(s,n.length+e.length*64),wt(s.length<=Pr,`Transaction too large: ${s.length} > ${Pr}`),s}get keys(){return wt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return wt(this.instructions.length===1),this.instructions[0].programId}get data(){return wt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],n=Be(e),i=[];for(let s=0;s<n;s++){let o=Ae(e,0,Fi);i.push(ye.default.encode(X.Buffer.from(o)))}return r.populate(Ln.from(e),i)}static populate(t,e=[]){let n=new r;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((i,s)=>{let o={signature:i==ye.default.encode(Gh)?null:ye.default.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(o)}),t.instructions.forEach(i=>{let s=i.accounts.map(o=>{let f=t.accountKeys[o];return{pubkey:f,isSigner:n.signatures.some(l=>l.publicKey.toString()===f.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new yt({keys:s,programId:t.accountKeys[i.programIdIndex],data:ye.default.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}};var Xr=class r{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)wt(e.length===t.header.numRequiredSignatures,\"Expected signatures length to be equal to the number of required signatures\"),this.signatures=e;else{let n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(Fi));this.signatures=n}this.message=t}serialize(){let t=this.message.serialize(),e=Array();Ie(e,this.signatures.length);let n=k.struct([k.blob(e.length,\"encodedSignaturesLength\"),k.seq(Hh(),this.signatures.length,\"signatures\"),k.blob(t.length,\"serializedMessage\")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let e=[...t],n=[],i=Be(e);for(let o=0;o<i;o++)n.push(new Uint8Array(Ae(e,0,Fi)));let s=bu.deserialize(new Uint8Array(e));return new r(s,n)}sign(t){let e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of t){let s=n.findIndex(o=>o.equals(i.publicKey));wt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Ko(e,i.secretKey)}}addSignature(t,e){wt(e.byteLength===64,\"Signature must be 64 bytes long\");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));wt(i>=0,`Can not add signature; \\`${t.toBase58()}\\` is not required to sign this transaction`),this.signatures[i]=e}},Zh=160,Jh=64,Xh=Zh/Jh,Qh=1e3/Xh,Qe=new et(\"SysvarC1ock11111111111111111111111111111111\"),wy=new et(\"SysvarEpochSchedu1e111111111111111111111111\"),by=new et(\"Sysvar1nstructions1111111111111111111111111\"),Eo=new et(\"SysvarRecentB1ockHashes11111111111111111111\"),Mn=new et(\"SysvarRent111111111111111111111111111111111\"),xy=new et(\"SysvarRewards111111111111111111111111111111\"),ky=new et(\"SysvarS1otHashes111111111111111111111111111\"),vy=new et(\"SysvarS1otHistory11111111111111111111111111\"),Bo=new et(\"SysvarStakeHistory1111111111111111111111111\"),No=class extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:i}){let s=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:\"\",o=\"\\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.\",f;switch(t){case\"send\":f=`Transaction ${e} resulted in an error. \n${n}. `+s+o;break;case\"simulate\":f=`Simulation failed. \nMessage: ${n}. \n`+s+o;break;default:f=`Unknown action '${(l=>l)(t)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(!(t!=null&&typeof t==\"object\"&&\"then\"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,e(s)}else n(new Error(\"Log messages not found\"))}).catch(n)})),await this.transactionLogs}};async function ou(r,t,e,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(t,e,i),o;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)o=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:f}=t.nonceInfo,l=f.keys[0].pubkey;o=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn(\"sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable.\"),o=(await r.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new No({action:\"send\",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function td(r){return new Promise(t=>setTimeout(t,r))}function st(r,t){let e=r.layout.span>=0?r.layout.span:mu(r,t),n=X.Buffer.alloc(e),i=Object.assign({instruction:r.index},t);return r.layout.encode(i,n),n}var ed=k.nu64(\"lamportsPerSignature\"),rd=k.struct([k.u32(\"version\"),k.u32(\"state\"),it(\"authorizedPubkey\"),it(\"nonce\"),k.struct([ed],\"feeCalculator\")]),au=rd.span;var nd=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},id=r=>t=>{let e=(0,yu.blob)(r,t),{encode:n,decode:i}=nd(e),s=e;return s.decode=(o,f)=>{let l=i(o,f);return(0,Tn.toBigIntLE)(X.Buffer.from(l))},s.encode=(o,f,l)=>{let w=(0,Tn.toBufferLE)(o,r);return n(w,f,l)},s},Qr=id(8);var Te=Object.freeze({Create:{index:0,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"lamports\"),k.ns64(\"space\"),it(\"programId\")])},Assign:{index:1,layout:k.struct([k.u32(\"instruction\"),it(\"programId\")])},Transfer:{index:2,layout:k.struct([k.u32(\"instruction\"),Qr(\"lamports\")])},CreateWithSeed:{index:3,layout:k.struct([k.u32(\"instruction\"),it(\"base\"),Zr(\"seed\"),k.ns64(\"lamports\"),k.ns64(\"space\"),it(\"programId\")])},AdvanceNonceAccount:{index:4,layout:k.struct([k.u32(\"instruction\")])},WithdrawNonceAccount:{index:5,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"lamports\")])},InitializeNonceAccount:{index:6,layout:k.struct([k.u32(\"instruction\"),it(\"authorized\")])},AuthorizeNonceAccount:{index:7,layout:k.struct([k.u32(\"instruction\"),it(\"authorized\")])},Allocate:{index:8,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"space\")])},AllocateWithSeed:{index:9,layout:k.struct([k.u32(\"instruction\"),it(\"base\"),Zr(\"seed\"),k.ns64(\"space\"),it(\"programId\")])},AssignWithSeed:{index:10,layout:k.struct([k.u32(\"instruction\"),it(\"base\"),Zr(\"seed\"),it(\"programId\")])},TransferWithSeed:{index:11,layout:k.struct([k.u32(\"instruction\"),Qr(\"lamports\"),Zr(\"seed\"),it(\"programId\")])},UpgradeNonceAccount:{index:12,layout:k.struct([k.u32(\"instruction\")])}}),xe=class r{constructor(){}static createAccount(t){let e=Te.Create,n=st(e,{lamports:t.lamports,space:t.space,programId:at(t.programId.toBuffer())});return new yt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if(\"basePubkey\"in t){let i=Te.TransferWithSeed;e=st(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:at(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Te.Transfer;e=st(i,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new yt({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if(\"basePubkey\"in t){let i=Te.AssignWithSeed;e=st(i,{base:at(t.basePubkey.toBuffer()),seed:t.seed,programId:at(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Te.Assign;e=st(i,{programId:at(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yt({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=Te.CreateWithSeed,n=st(e,{base:at(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:at(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new yt({keys:i,programId:this.programId,data:n})}static createNonceAccount(t){let e=new St;\"basePubkey\"in t&&\"seed\"in t?e.add(r.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:au,programId:this.programId})):e.add(r.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:au,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){let e=Te.InitializeNonceAccount,n=st(e,{authorized:at(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Eo,isSigner:!1,isWritable:!1},{pubkey:Mn,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new yt(i)}static nonceAdvance(t){let e=Te.AdvanceNonceAccount,n=st(e),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Eo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new yt(i)}static nonceWithdraw(t){let e=Te.WithdrawNonceAccount,n=st(e,{lamports:t.lamports});return new yt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Eo,isSigner:!1,isWritable:!1},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let e=Te.AuthorizeNonceAccount,n=st(e,{authorized:at(t.newAuthorizedPubkey.toBuffer())});return new yt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if(\"basePubkey\"in t){let i=Te.AllocateWithSeed;e=st(i,{base:at(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:at(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Te.Allocate;e=st(i,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yt({keys:n,programId:this.programId,data:e})}};xe.programId=new et(\"11111111111111111111111111111111\");var sd=Pr-300,Oo=class r{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/r.chunkSize)+1+1)}static async load(t,e,n,i,s){{let S=await t.getMinimumBalanceForRentExemption(s.length),M=await t.getAccountInfo(n.publicKey,\"confirmed\"),A=null;if(M!==null){if(M.executable)return console.error(\"Program load failed, account is already executable\"),!1;M.data.length!==s.length&&(A=A||new St,A.add(xe.allocate({accountPubkey:n.publicKey,space:s.length}))),M.owner.equals(i)||(A=A||new St,A.add(xe.assign({accountPubkey:n.publicKey,programId:i}))),M.lamports<S&&(A=A||new St,A.add(xe.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:S-M.lamports})))}else A=new St().add(xe.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:S>0?S:1,space:s.length,programId:i}));A!==null&&await ou(t,A,[e,n],{commitment:\"confirmed\"})}let o=k.struct([k.u32(\"instruction\"),k.u32(\"offset\"),k.u32(\"bytesLength\"),k.u32(\"bytesLengthPadding\"),k.seq(k.u8(\"byte\"),k.offset(k.u32(),-8),\"bytes\")]),f=r.chunkSize,l=0,w=s,b=[];for(;w.length>0;){let S=w.slice(0,f),M=X.Buffer.alloc(f+16);o.encode({instruction:0,offset:l,bytes:S,bytesLength:0,bytesLengthPadding:0},M);let A=new St().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:M});b.push(ou(t,A,[e,n],{commitment:\"confirmed\"})),t._rpcEndpoint.includes(\"solana.com\")&&await td(1e3/4),l+=f,w=w.slice(f)}await Promise.all(b);{let S=k.struct([k.u32(\"instruction\")]),M=X.Buffer.alloc(S.span);S.encode({instruction:1},M);let A=new St().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1}],programId:i,data:M}),T=\"processed\",E=await t.sendTransaction(A,[e,n],{preflightCommitment:T}),{context:_,value:R}=await t.confirmTransaction({signature:E,lastValidBlockHeight:A.lastValidBlockHeight,blockhash:A.recentBlockhash},T);if(R.err)throw new Error(`Transaction ${E} failed (${JSON.stringify(R)})`);for(;;){try{if(await t.getSlot({commitment:T})>_.slot)break}catch{}await new Promise(D=>setTimeout(D,Math.round(Qh/2)))}}return!0}};Oo.chunkSize=sd;var Sy=new et(\"BPFLoader2111111111111111111111111111111111\");var Ey=globalThis.fetch;var By={index:1,layout:k.struct([k.u32(\"typeIndex\"),Qr(\"deactivationSlot\"),k.nu64(\"lastExtendedSlot\"),k.u8(\"lastExtendedStartIndex\"),k.u8(),k.seq(it(),k.offset(k.u8(),-1),\"authority\")])};var Ot=Gr(Li(et),F(),r=>new et(r)),xu=Mi([F(),vt(\"base64\")]),jo=Gr(Li(X.Buffer),xu,r=>X.Buffer.from(r[0],\"base64\")),Iy=30*1e3;function ku(r){return ue([P({jsonrpc:vt(\"2.0\"),id:F(),result:r}),P({jsonrpc:vt(\"2.0\"),id:F(),error:P({code:Rr(),message:F(),data:G(mc())})})])}var od=ku(Rr());function mt(r){return Gr(ku(r),od,t=>\"error\"in t?t:{...t,result:Yr(t.result,r)})}function Pe(r){return mt(P({context:P({slot:B()}),value:r}))}function $i(r){return P({context:P({slot:B()}),value:r})}var ad=P({foundation:B(),foundationTerm:B(),initial:B(),taper:B(),terminal:B()}),Ay=mt(K(H(P({epoch:B(),effectiveSlot:B(),amount:B(),postBalance:B(),commission:G(H(B()))})))),cd=K(P({slot:B(),prioritizationFee:B()})),ud=P({total:B(),validator:B(),foundation:B(),epoch:B()}),fd=P({epoch:B(),slotIndex:B(),slotsInEpoch:B(),absoluteSlot:B(),blockHeight:G(B()),transactionCount:G(B())}),ld=P({slotsPerEpoch:B(),leaderScheduleSlotOffset:B(),warmup:Ue(),firstNormalEpoch:B(),firstNormalSlot:B()}),hd=co(F(),K(B())),Cr=H(ue([P({}),F()])),dd=P({err:Cr}),pd=vt(\"receivedSignature\"),_y=P({\"solana-core\":F(),\"feature-set\":G(B())}),yd=P({program:F(),programId:Ot,parsed:Rr()}),gd=P({programId:Ot,accounts:K(Ot),data:F()}),Ly=Pe(P({err:H(ue([P({}),F()])),logs:H(K(F())),accounts:G(H(K(H(P({executable:Ue(),owner:F(),lamports:B(),data:K(F()),rentEpoch:G(B())}))))),unitsConsumed:G(B()),returnData:G(H(P({programId:F(),data:Mi([F(),vt(\"base64\")])}))),innerInstructions:G(H(K(P({index:B(),instructions:K(ue([yd,gd]))}))))})),My=Pe(P({byIdentity:co(F(),K(B())),range:P({firstSlot:B(),lastSlot:B()})}));var Ry=mt(ad),Ty=mt(ud),Py=mt(cd),Cy=mt(fd),Ny=mt(ld),Oy=mt(hd),Uy=mt(B()),zy=Pe(P({total:B(),circulating:B(),nonCirculating:B(),nonCirculatingAccounts:K(Ot)})),md=P({amount:F(),uiAmount:H(B()),decimals:B(),uiAmountString:G(F())}),Dy=Pe(K(P({address:Ot,amount:F(),uiAmount:H(B()),decimals:B(),uiAmountString:G(F())}))),qy=Pe(K(P({pubkey:Ot,account:P({executable:Ue(),owner:Ot,lamports:B(),data:jo,rentEpoch:B()})}))),Uo=P({program:F(),parsed:Rr(),space:B()}),Fy=Pe(K(P({pubkey:Ot,account:P({executable:Ue(),owner:Ot,lamports:B(),data:Uo,rentEpoch:B()})}))),Wy=Pe(K(P({lamports:B(),address:Ot}))),$o=P({executable:Ue(),owner:Ot,lamports:B(),data:jo,rentEpoch:B()}),Ky=P({pubkey:Ot,account:$o}),wd=Gr(ue([Li(X.Buffer),Uo]),ue([xu,Uo]),r=>Array.isArray(r)?Yr(r,jo):r),bd=P({executable:Ue(),owner:Ot,lamports:B(),data:wd,rentEpoch:B()}),Hy=P({pubkey:Ot,account:bd}),jy=P({state:ue([vt(\"active\"),vt(\"inactive\"),vt(\"activating\"),vt(\"deactivating\")]),active:B(),inactive:B()}),$y=mt(K(P({signature:F(),slot:B(),err:Cr,memo:H(F()),blockTime:G(H(B()))}))),Vy=mt(K(P({signature:F(),slot:B(),err:Cr,memo:H(F()),blockTime:G(H(B()))}))),Yy=P({subscription:B(),result:$i($o)}),xd=P({pubkey:Ot,account:$o}),Gy=P({subscription:B(),result:$i(xd)}),kd=P({parent:B(),slot:B(),root:B()}),Zy=P({subscription:B(),result:kd}),vd=ue([P({type:ue([vt(\"firstShredReceived\"),vt(\"completed\"),vt(\"optimisticConfirmation\"),vt(\"root\")]),slot:B(),timestamp:B()}),P({type:vt(\"createdBank\"),parent:B(),slot:B(),timestamp:B()}),P({type:vt(\"frozen\"),slot:B(),timestamp:B(),stats:P({numTransactionEntries:B(),numSuccessfulTransactions:B(),numFailedTransactions:B(),maxTransactionsPerEntry:B()})}),P({type:vt(\"dead\"),slot:B(),timestamp:B(),err:F()})]),Jy=P({subscription:B(),result:vd}),Xy=P({subscription:B(),result:$i(ue([dd,pd]))}),Qy=P({subscription:B(),result:B()}),tg=P({pubkey:F(),gossip:H(F()),tpu:H(F()),rpc:H(F()),version:H(F())}),cu=P({votePubkey:F(),nodePubkey:F(),activatedStake:B(),epochVoteAccount:Ue(),epochCredits:K(Mi([B(),B(),B()])),commission:B(),lastVote:B(),rootSlot:H(B())}),eg=mt(P({current:K(cu),delinquent:K(cu)})),Sd=ue([vt(\"processed\"),vt(\"confirmed\"),vt(\"finalized\")]),Ed=P({slot:B(),confirmations:H(B()),err:Cr,confirmationStatus:G(Sd)}),rg=Pe(K(H(Ed))),ng=mt(B()),vu=P({accountKey:Ot,writableIndexes:K(B()),readonlyIndexes:K(B())}),Vo=P({signatures:K(F()),message:P({accountKeys:K(F()),header:P({numRequiredSignatures:B(),numReadonlySignedAccounts:B(),numReadonlyUnsignedAccounts:B()}),instructions:K(P({accounts:K(B()),data:F(),programIdIndex:B()})),recentBlockhash:F(),addressTableLookups:G(K(vu))})}),Su=P({pubkey:Ot,signer:Ue(),writable:Ue(),source:G(ue([vt(\"transaction\"),vt(\"lookupTable\")]))}),Eu=P({accountKeys:K(Su),signatures:K(F())}),Bu=P({parsed:Rr(),program:F(),programId:Ot}),Iu=P({accounts:K(Ot),data:F(),programId:Ot}),Bd=ue([Iu,Bu]),Id=ue([P({parsed:Rr(),program:F(),programId:F()}),P({accounts:K(F()),data:F(),programId:F()})]),Au=Gr(Bd,Id,r=>\"accounts\"in r?Yr(r,Iu):Yr(r,Bu)),_u=P({signatures:K(F()),message:P({accountKeys:K(Su),instructions:K(Au),recentBlockhash:F(),addressTableLookups:G(H(K(vu)))})}),Ki=P({accountIndex:B(),mint:F(),owner:G(F()),uiTokenAmount:md}),Lu=P({writable:K(Ot),readonly:K(Ot)}),Vi=P({err:Cr,fee:B(),innerInstructions:G(H(K(P({index:B(),instructions:K(P({accounts:K(B()),data:F(),programIdIndex:B()}))})))),preBalances:K(B()),postBalances:K(B()),logMessages:G(H(K(F()))),preTokenBalances:G(H(K(Ki))),postTokenBalances:G(H(K(Ki))),loadedAddresses:G(Lu),computeUnitsConsumed:G(B())}),Yo=P({err:Cr,fee:B(),innerInstructions:G(H(K(P({index:B(),instructions:K(Au)})))),preBalances:K(B()),postBalances:K(B()),logMessages:G(H(K(F()))),preTokenBalances:G(H(K(Ki))),postTokenBalances:G(H(K(Ki))),loadedAddresses:G(Lu),computeUnitsConsumed:G(B())}),en=ue([vt(0),vt(\"legacy\")]),Nr=P({pubkey:F(),lamports:B(),postBalance:H(B()),rewardType:H(F()),commission:G(H(B()))}),ig=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),transactions:K(P({transaction:Vo,meta:H(Vi),version:G(en)})),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),sg=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),og=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),transactions:K(P({transaction:Eu,meta:H(Vi),version:G(en)})),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),ag=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),transactions:K(P({transaction:_u,meta:H(Yo),version:G(en)})),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),cg=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),transactions:K(P({transaction:Eu,meta:H(Yo),version:G(en)})),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),ug=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),rewards:G(K(Nr)),blockTime:H(B()),blockHeight:H(B())}))),fg=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),transactions:K(P({transaction:Vo,meta:H(Vi)})),rewards:G(K(Nr)),blockTime:H(B())}))),lg=mt(H(P({blockhash:F(),previousBlockhash:F(),parentSlot:B(),signatures:K(F()),blockTime:H(B())}))),hg=mt(H(P({slot:B(),meta:H(Vi),blockTime:G(H(B())),transaction:Vo,version:G(en)}))),dg=mt(H(P({slot:B(),transaction:_u,meta:H(Yo),blockTime:G(H(B())),version:G(en)}))),pg=Pe(P({blockhash:F(),feeCalculator:P({lamportsPerSignature:B()})})),yg=Pe(P({blockhash:F(),lastValidBlockHeight:B()})),gg=Pe(Ue()),Ad=P({slot:B(),numTransactions:B(),numSlots:B(),samplePeriodSecs:B()}),mg=mt(K(Ad)),wg=Pe(H(P({feeCalculator:P({lamportsPerSignature:B()})}))),bg=mt(F()),xg=mt(F()),_d=P({err:Cr,logs:K(F()),signature:F()}),kg=P({result:$i(_d),subscription:B()});var zo=class r{constructor(t){this._keypair=void 0,this._keypair=t??nu()}static generate(){return new r(nu())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error(\"bad secret key size\");let n=t.slice(32,64);if(!e||!e.skipValidation){let i=t.slice(0,32),s=Lo(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error(\"provided secretKey is invalid\")}return new r({publicKey:n,secretKey:t})}static fromSeed(t){let e=Lo(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new r({publicKey:e,secretKey:n})}get publicKey(){return new et(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},An=Object.freeze({CreateLookupTable:{index:0,layout:k.struct([k.u32(\"instruction\"),Qr(\"recentSlot\"),k.u8(\"bumpSeed\")])},FreezeLookupTable:{index:1,layout:k.struct([k.u32(\"instruction\")])},ExtendLookupTable:{index:2,layout:k.struct([k.u32(\"instruction\"),Qr(),k.seq(it(),k.offset(k.u32(),-8),\"addresses\")])},DeactivateLookupTable:{index:3,layout:k.struct([k.u32(\"instruction\")])},CloseLookupTable:{index:4,layout:k.struct([k.u32(\"instruction\")])}});var Do=class{constructor(){}static createLookupTable(t){let[e,n]=et.findProgramAddressSync([t.authority.toBuffer(),(0,Tn.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),i=An.CreateLookupTable,s=st(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:xe.programId,isSigner:!1,isWritable:!1}];return[new yt({programId:this.programId,keys:o,data:s}),e]}static freezeLookupTable(t){let e=An.FreezeLookupTable,n=st(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yt({programId:this.programId,keys:i,data:n})}static extendLookupTable(t){let e=An.ExtendLookupTable,n=st(e,{addresses:t.addresses.map(s=>s.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:xe.programId,isSigner:!1,isWritable:!1}),new yt({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(t){let e=An.DeactivateLookupTable,n=st(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yt({programId:this.programId,keys:i,data:n})}static closeLookupTable(t){let e=An.CloseLookupTable,n=st(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new yt({programId:this.programId,keys:i,data:n})}};Do.programId=new et(\"AddressLookupTab1e1111111111111111111111111\");var Di=Object.freeze({RequestUnits:{index:0,layout:k.struct([k.u8(\"instruction\"),k.u32(\"units\"),k.u32(\"additionalFee\")])},RequestHeapFrame:{index:1,layout:k.struct([k.u8(\"instruction\"),k.u32(\"bytes\")])},SetComputeUnitLimit:{index:2,layout:k.struct([k.u8(\"instruction\"),k.u32(\"units\")])},SetComputeUnitPrice:{index:3,layout:k.struct([k.u8(\"instruction\"),Qr(\"microLamports\")])}}),qo=class{constructor(){}static requestUnits(t){let e=Di.RequestUnits,n=st(e,t);return new yt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let e=Di.RequestHeapFrame,n=st(e,t);return new yt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let e=Di.SetComputeUnitLimit,n=st(e,t);return new yt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let e=Di.SetComputeUnitPrice,n=st(e,{microLamports:BigInt(t.microLamports)});return new yt({keys:[],programId:this.programId,data:n})}};qo.programId=new et(\"ComputeBudget111111111111111111111111111111\");var uu=64,fu=32,lu=64,hu=k.struct([k.u8(\"numSignatures\"),k.u8(\"padding\"),k.u16(\"signatureOffset\"),k.u16(\"signatureInstructionIndex\"),k.u16(\"publicKeyOffset\"),k.u16(\"publicKeyInstructionIndex\"),k.u16(\"messageDataOffset\"),k.u16(\"messageDataSize\"),k.u16(\"messageInstructionIndex\")]),Fo=class r{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,instructionIndex:s}=t;wt(e.length===fu,`Public Key must be ${fu} bytes but received ${e.length} bytes`),wt(i.length===lu,`Signature must be ${lu} bytes but received ${i.length} bytes`);let o=hu.span,f=o+e.length,l=f+i.length,w=1,b=X.Buffer.alloc(l+n.length),S=s??65535;return hu.encode({numSignatures:w,padding:0,signatureOffset:f,signatureInstructionIndex:S,publicKeyOffset:o,publicKeyInstructionIndex:S,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:S},b),b.fill(e,o),b.fill(i,f),b.fill(n,l),new yt({keys:[],programId:r.programId,data:b})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;wt(e.length===uu,`Private key must be ${uu} bytes but received ${e.length} bytes`);try{let s=zo.fromSecretKey(e),o=s.publicKey.toBytes(),f=Ko(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Fo.programId=new et(\"Ed25519SigVerify111111111111111111111111111\");var Ld=(r,t)=>{let e=In.sign(r,t);return[e.toCompactRawBytes(),e.recovery]};In.utils.isValidPrivateKey;var Md=In.getPublicKey,du=32,Io=20,pu=64,Rd=11,Ao=k.struct([k.u8(\"numSignatures\"),k.u16(\"signatureOffset\"),k.u8(\"signatureInstructionIndex\"),k.u16(\"ethAddressOffset\"),k.u8(\"ethAddressInstructionIndex\"),k.u16(\"messageDataOffset\"),k.u16(\"messageDataSize\"),k.u8(\"messageInstructionIndex\"),k.blob(20,\"ethAddress\"),k.blob(64,\"signature\"),k.u8(\"recoveryId\")]),Wo=class r{constructor(){}static publicKeyToEthAddress(t){wt(t.length===pu,`Public key must be ${pu} bytes but received ${t.length} bytes`);try{return X.Buffer.from(xo(at(t))).slice(-Io)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,recoveryId:s,instructionIndex:o}=t;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(e),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=t,f;typeof e==\"string\"?e.startsWith(\"0x\")?f=X.Buffer.from(e.substr(2),\"hex\"):f=X.Buffer.from(e,\"hex\"):f=e,wt(f.length===Io,`Address must be ${Io} bytes but received ${f.length} bytes`);let l=1+Rd,w=l,b=l+f.length,S=b+i.length+1,M=1,A=X.Buffer.alloc(Ao.span+n.length);return Ao.encode({numSignatures:M,signatureOffset:b,signatureInstructionIndex:o,ethAddressOffset:w,ethAddressInstructionIndex:o,messageDataOffset:S,messageDataSize:n.length,messageInstructionIndex:o,signature:at(i),ethAddress:at(f),recoveryId:s},A),A.fill(at(n),Ao.span),new yt({keys:[],programId:r.programId,data:A})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;wt(e.length===du,`Private key must be ${du} bytes but received ${e.length} bytes`);try{let s=at(e),o=Md(s,!1).slice(1),f=X.Buffer.from(xo(at(n))),[l,w]=Ld(f,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:l,recoveryId:w,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Wo.programId=new et(\"KeccakSecp256k11111111111111111111111111111\");var Mu,Td=new et(\"StakeConfig11111111111111111111111111111111\");var Rn=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};Mu=Rn;Rn.default=new Mu(0,0,et.default);var br=Object.freeze({Initialize:{index:0,layout:k.struct([k.u32(\"instruction\"),jh(),$h()])},Authorize:{index:1,layout:k.struct([k.u32(\"instruction\"),it(\"newAuthorized\"),k.u32(\"stakeAuthorizationType\")])},Delegate:{index:2,layout:k.struct([k.u32(\"instruction\")])},Split:{index:3,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"lamports\")])},Withdraw:{index:4,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"lamports\")])},Deactivate:{index:5,layout:k.struct([k.u32(\"instruction\")])},Merge:{index:7,layout:k.struct([k.u32(\"instruction\")])},AuthorizeWithSeed:{index:8,layout:k.struct([k.u32(\"instruction\"),it(\"newAuthorized\"),k.u32(\"stakeAuthorizationType\"),Zr(\"authoritySeed\"),it(\"authorityOwner\")])}}),vg=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Hi=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:n,lockup:i}=t,s=i||Rn.default,o=br.Initialize,f=st(o,{authorized:{staker:at(n.staker.toBuffer()),withdrawer:at(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:at(s.custodian.toBuffer())}}),l={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new yt(l)}static createAccountWithSeed(t){let e=new St;e.add(xe.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(t){let e=new St;e.add(xe.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:n,votePubkey:i}=t,s=br.Delegate,o=st(s);return new St().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:Bo,isSigner:!1,isWritable:!1},{pubkey:Td,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(t){let{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=t,f=br.Authorize,l=st(f,{newAuthorized:at(i.toBuffer()),stakeAuthorizationType:s.index}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&w.push({pubkey:o,isSigner:!0,isWritable:!1}),new St().add({keys:w,programId:this.programId,data:l})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:f,custodianPubkey:l}=t,w=br.AuthorizeWithSeed,b=st(w,{newAuthorized:at(o.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:i,authorityOwner:at(s.toBuffer())}),S=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Qe,isSigner:!1,isWritable:!1}];return l&&S.push({pubkey:l,isSigner:!0,isWritable:!1}),new St().add({keys:S,programId:this.programId,data:b})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=t,o=br.Split,f=st(o,{lamports:s});return new yt({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(t,e){let n=new St;return n.add(xe.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:f,lamports:l}=t,w=new St;return w.add(xe.allocate({accountPubkey:s,basePubkey:o,seed:f,space:this.space,programId:this.programId})),e&&e>0&&w.add(xe.transfer({fromPubkey:t.authorizedPubkey,toPubkey:s,lamports:e})),w.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:i}=t,s=br.Merge,o=st(s);return new St().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:Bo,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=t,f=br.Withdraw,l=st(f,{lamports:s}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:Bo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&w.push({pubkey:o,isSigner:!0,isWritable:!1}),new St().add({keys:w,programId:this.programId,data:l})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:n}=t,i=br.Deactivate,s=st(i);return new St().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Hi.programId=new et(\"Stake11111111111111111111111111111111111111\");Hi.space=200;var _n=Object.freeze({InitializeAccount:{index:0,layout:k.struct([k.u32(\"instruction\"),Vh()])},Authorize:{index:1,layout:k.struct([k.u32(\"instruction\"),it(\"newAuthorized\"),k.u32(\"voteAuthorizationType\")])},Withdraw:{index:3,layout:k.struct([k.u32(\"instruction\"),k.ns64(\"lamports\")])},UpdateValidatorIdentity:{index:4,layout:k.struct([k.u32(\"instruction\")])},AuthorizeWithSeed:{index:10,layout:k.struct([k.u32(\"instruction\"),Yh()])}}),Sg=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ji=class r{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:n,voteInit:i}=t,s=_n.InitializeAccount,o=st(s,{voteInit:{nodePubkey:at(i.nodePubkey.toBuffer()),authorizedVoter:at(i.authorizedVoter.toBuffer()),authorizedWithdrawer:at(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),f={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new yt(f)}static createAccount(t){let e=new St;return e.add(xe.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=t,o=_n.Authorize,f=st(o,{newAuthorized:at(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new St().add({keys:l,programId:this.programId,data:f})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:f}=t,l=_n.AuthorizeWithSeed,w=st(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:at(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:at(s.toBuffer()),voteAuthorizationType:o.index}}),b=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new St().add({keys:b,programId:this.programId,data:w})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=t,o=_n.Withdraw,f=st(o,{lamports:i}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new St().add({keys:l,programId:this.programId,data:f})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error(\"Withdraw will leave vote account with insufficient funds.\");return r.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:i}=t,s=_n.UpdateValidatorIdentity,o=st(s),f=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new St().add({keys:f,programId:this.programId,data:o})}};ji.programId=new et(\"Vote111111111111111111111111111111111111111\");ji.space=3762;var Eg=new et(\"Va1idator1nfo111111111111111111111111111111\"),Bg=P({name:F(),website:G(F()),details:G(F()),iconUrl:G(F()),keybaseUsername:G(F())});var Ig=new et(\"Vote111111111111111111111111111111111111111\"),Ag=k.struct([it(\"nodePubkey\"),it(\"authorizedWithdrawer\"),k.u8(\"commission\"),k.nu64(),k.seq(k.struct([k.nu64(\"slot\"),k.u32(\"confirmationCount\")]),k.offset(k.u32(),-8),\"votes\"),k.u8(\"rootSlotValid\"),k.nu64(\"rootSlot\"),k.nu64(),k.seq(k.struct([k.nu64(\"epoch\"),it(\"authorizedVoter\")]),k.offset(k.u32(),-8),\"authorizedVoters\"),k.struct([k.seq(k.struct([it(\"authorizedPubkey\"),k.nu64(\"epochOfLastAuthorizedSwitch\"),k.nu64(\"targetEpoch\")]),32,\"buf\"),k.nu64(\"idx\"),k.u8(\"isEmpty\")],\"priorVoters\"),k.nu64(),k.seq(k.struct([k.nu64(\"epoch\"),k.nu64(\"credits\"),k.nu64(\"prevCredits\")]),k.offset(k.u32(),-8),\"epochCredits\"),k.struct([k.nu64(\"slot\"),k.nu64(\"timestamp\")],\"lastTimestamp\")]);var Ru=\"standard:connect\";var Tu=\"standard:disconnect\";var Pu=\"standard:events\";var Ou=_e(ln(),1);var Pd=\"solana:mainnet\",Cd=\"solana:devnet\",Nd=\"solana:testnet\",Od=\"solana:localnet\",Pn=[Pd,Cd,Nd,Od];function Yi(r){return Pn.includes(r)}function Go(r){return\"version\"in r}var Ud=Pn,zd=[Un,Dn,zn],Gi=class r{#r;#n;#i;#s;#t;#e;get address(){return this.#r}get publicKey(){return this.#n.slice()}get chains(){return this.#i.slice()}get features(){return this.#s.slice()}get label(){return this.#t}get icon(){return this.#e}constructor({address:t,publicKey:e,label:n,icon:i}){new.target===r&&Object.freeze(this),this.#r=t,this.#n=e,this.#i=Ud,this.#s=zd,this.#t=n,this.#e=i}};var Cu=\"data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyODAuMTczIDI4MC4xNzMiIHZpZXdCb3g9IjAgMCAyODAuMTczIDI4MC4xNzMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTEzMy45NjEuMTQ1Yy03MC44ODIgMy41LTEyNS4xMzcgNjMuODgxLTEyNS4xMzcgMTM0Ljc2M3Y2Ni41MDYgNjUuNjMxYzAgNi4xMjYgNi4xMjYgOS42MjYgMTEuMzc2IDYuMTI2bDIwLjEyNy0xMi4yNTFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE4LjM3NyAxMC41MDFjNy44NzYgNC4zNzUgMTcuNTAyIDQuMzc1IDI1LjM3NyAwbDE4LjM3Ny0xMC41MDFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE4LjM3NyAxMC41MDFjNy44NzYgNC4zNzUgMTcuNTAyIDQuMzc1IDI1LjM3NyAwbDE4LjM3Ny0xMC41MDFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE5LjI1MiAxMS4zNzZjNS4yNTEgMi42MjUgMTEuMzc2LS44NzUgMTEuMzc2LTYuMTI2IDAtMTguMzc3IDAtNTAuNzU1IDAtNjUuNjMxdi03MC4wMDdjLjAwMS03My41MDctNjIuMTMtMTMzLjg4Ny0xMzcuMzg3LTEzMC4zODd6IiBmaWxsPSIjZTI1NzRjIi8+PHBhdGggZD0ibTI2LjMyNSAxMzEuNDA4YzAtNjkuMTMyIDU0LjI1NS0xMjYuMDEyIDEyMi41MTItMTMxLjI2My0yLjYyNSAwLTYuMTI2IDAtOC43NTEgMC03Mi42MzIgMC0xMzEuMjYyIDU4LjYzMS0xMzEuMjYyIDEzMS4yNjN2MTQ4Ljc2NWM3Ljg3NiAwIDEzLjEyNi0zLjUgMTcuNTAyLTcuODc2LS4wMDEtMTUuNzUyLS4wMDEtMTQwLjg4OS0uMDAxLTE0MC44ODl6IiBmaWxsPSIjZDI1MTQ3Ii8+PHBhdGggZD0ibTE4OC4yMTYgMTEzLjkwNmMtMTYuNjI3IDAtMzAuNjI4IDE0LjAwMS0zMC42MjggMzAuNjI4czE0LjAwMSAzMC42MjggMzAuNjI4IDMwLjYyOCAzMC42MjgtMTQuMDAxIDMwLjYyOC0zMC42MjgtMTQuMDAxLTMwLjYyOC0zMC42MjgtMzAuNjI4em0tOTYuMjU5IDBjLTE2LjYyNyAwLTMwLjYyOCAxNC4wMDEtMzAuNjI4IDMwLjYyOHMxNC4wMDEgMzAuNjI4IDMwLjYyOCAzMC42MjggMzAuNjI4LTE0LjAwMSAzMC42MjgtMzAuNjI4LTE0LjAwMi0zMC42MjgtMzAuNjI4LTMwLjYyOHoiIGZpbGw9IiNlNGU3ZTciLz48cGF0aCBkPSJtMTg4LjIxNiAxMzEuNDA4Yy03LjAwMSAwLTEzLjEyNiA2LjEyNi0xMy4xMjYgMTMuMTI2IDAgNy4wMDEgNi4xMjYgMTMuMTI2IDEzLjEyNiAxMy4xMjZzMTMuMTI2LTYuMTI2IDEzLjEyNi0xMy4xMjZjMC03LjAwMS02LjEyNS0xMy4xMjYtMTMuMTI2LTEzLjEyNnptLTk2LjI1OSAwYy03LjAwMSAwLTEzLjEyNiA2LjEyNi0xMy4xMjYgMTMuMTI2IDAgNy4wMDEgNi4xMjYgMTMuMTI2IDEzLjEyNiAxMy4xMjYgNy4wMDEgMCAxMy4xMjYtNi4xMjYgMTMuMTI2LTEzLjEyNiAwLTcuMDAxLTYuMTI2LTEzLjEyNi0xMy4xMjYtMTMuMTI2eiIgZmlsbD0iIzMyNGQ1YiIvPjwvc3ZnPg==\";function Nu(r,t){return Dd(r,t)}function Dd(r,t){if(r===t)return!0;let e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}var qd=\"uniqueNewYork:\",Zi=class r{#r={};#n=\"1.0.0\";#i=\"Unique New York\";#s=Cu;#t=null;#e;get version(){return this.#n}get name(){return this.#i}get icon(){return this.#s}get chains(){return Pn.slice()}get features(){return{[Ru]:{version:\"1.0.0\",connect:this.#p},[Tu]:{version:\"1.0.0\",disconnect:this.#y},[Pu]:{version:\"1.0.0\",on:this.#l},[Un]:{version:\"1.0.0\",supportedTransactionVersions:[\"legacy\",0],signAndSendTransaction:this.#u},[Dn]:{version:\"1.0.0\",supportedTransactionVersions:[\"legacy\",0],signTransaction:this.#g},[zn]:{version:\"1.0.0\",signMessage:this.#f},[ha]:{version:\"1.0.0\",signIn:this.#m},[qd]:{uniqueNewYork:this.#e}}}get accounts(){return this.#t?[this.#t]:[]}constructor(t){new.target===r&&Object.freeze(this),this.#e=t,t.on(\"connect\",this.#o,this),t.on(\"disconnect\",this.#c,this),t.on(\"accountChanged\",this.#d,this),this.#o()}#l=(t,e)=>(this.#r[t]?.push(e)||(this.#r[t]=[e]),()=>this.#h(t,e));#a(t,...e){this.#r[t]?.forEach(n=>n.apply(null,e))}#h(t,e){this.#r[t]=this.#r[t]?.filter(n=>e!==n)}#o=()=>{let t=this.#e.publicKey?.toBase58();if(t){let e=this.#e.publicKey.toBytes(),n=this.#t;(!n||n.address!==t||!Nu(n.publicKey,e))&&(this.#t=new Gi({address:t,publicKey:e}),this.#a(\"change\",{accounts:this.accounts}))}};#c=()=>{this.#t&&(this.#t=null,this.#a(\"change\",{accounts:this.accounts}))};#d=()=>{this.#e.publicKey?this.#o():this.#c()};#p=async({silent:t}={})=>(this.#t||await this.#e.connect(t?{onlyIfTrusted:!0}:void 0),this.#o(),{accounts:this.accounts});#y=async()=>{await this.#e.disconnect()};#u=async(...t)=>{if(!this.#t)throw new Error(\"not connected\");let e=[];if(t.length===1){let{transaction:n,account:i,chain:s,options:o}=t[0],{minContextSlot:f,preflightCommitment:l,skipPreflight:w,maxRetries:b}=o||{};if(i!==this.#t)throw new Error(\"invalid account\");if(!Yi(s))throw new Error(\"invalid chain\");let{signature:S}=await this.#e.signAndSendTransaction(Xr.deserialize(n),{preflightCommitment:l,minContextSlot:f,maxRetries:b,skipPreflight:w});e.push({signature:Ou.default.decode(S)})}else if(t.length>1)for(let n of t)e.push(...await this.#u(n));return e};#g=async(...t)=>{if(!this.#t)throw new Error(\"not connected\");let e=[];if(t.length===1){let{transaction:n,account:i,chain:s}=t[0];if(i!==this.#t)throw new Error(\"invalid account\");if(s&&!Yi(s))throw new Error(\"invalid chain\");let o=await this.#e.signTransaction(Xr.deserialize(n)),f=Go(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}));e.push({signedTransaction:f})}else if(t.length>1){let n;for(let o of t){if(o.account!==this.#t)throw new Error(\"invalid account\");if(o.chain){if(!Yi(o.chain))throw new Error(\"invalid chain\");if(n){if(o.chain!==n)throw new Error(\"conflicting chain\")}else n=o.chain}}let i=t.map(({transaction:o})=>Xr.deserialize(o)),s=await this.#e.signAllTransactions(i);e.push(...s.map(o=>({signedTransaction:Go(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return e};#f=async(...t)=>{if(!this.#t)throw new Error(\"not connected\");let e=[];if(t.length===1){let{message:n,account:i}=t[0];if(i!==this.#t)throw new Error(\"invalid account\");let{signature:s}=await this.#e.signMessage(n);e.push({signedMessage:n,signature:s})}else if(t.length>1)for(let n of t)e.push(...await this.#f(n));return e};#m=async(...t)=>{let e=[];if(t.length>1)for(let n of t)e.push(await this.#e.signIn(n));else return[await this.#e.signIn(t[0])];return e}};function Uu(r){la(new Zi(r))}var{fromCharCode:Fd}=String,Zo=r=>{let t=[];for(let e=0,{length:n}=r;e<n;e++)t.push(Fd(r[e]));return btoa(t.join(\"\"))},Wd=r=>r.charCodeAt(0),zu=r=>Uint8Array.from(atob(r),Wd);var Jo=_e(ln(),1),Ji=class{publicKey;constructor(t){this.publicKey=new et(t)}sendRequest(t){window.ReactNativeWebView.postMessage(t)}connect(t){if(!this.publicKey)throw new Error(\"Method not implemented.\");return this.sendRequest(JSON.stringify({data:{options:t},method:\"connect\"})),Promise.resolve({publicKey:this.publicKey})}disconnect(){return this.sendRequest(JSON.stringify({method:\"disconnect\"})),Promise.resolve()}signAndSendTransaction(t,e){throw this.sendRequest(JSON.stringify({data:{options:e,transaction:t},method:\"signAndSendTransaction\"})),new Error(\"Method not implemented.\")}signTransaction(t){let e=Zo(t.serialize()),n={method:\"signTransaction\",recentBlockhash:t.message?.recentBlockhash,transactionBase64:e};return this.sendRequest(JSON.stringify(n)),new Promise((i,s)=>{window.handleConnectResult=o=>{this.sendRequest(JSON.stringify({result:o,type:\"log signTransaction\"}));try{if(o.signatureBase64){let f=this.publicKey,l=zu(o.signatureBase64);return t.addSignature(f,l),i(t)}return this.sendRequest(JSON.stringify({result:o,type:\"error\"})),s()}catch(f){return this.sendRequest(JSON.stringify({error:f,type:\"error\"})),s()}}})}signAllTransactions(t){throw this.sendRequest(JSON.stringify({data:{transactions:t},method:\"signAllTransactions\"})),new Error(\"Method not implemented.\")}signMessage(t){let e={messageBase64:Zo(t),method:\"signMessage\"};return this.sendRequest(JSON.stringify(e)),new Promise((n,i)=>{window.handleConnectResult=s=>{this.sendRequest(JSON.stringify({result:s,type:\"log signMessage\"}));try{if(s.signature){this.sendRequest(JSON.stringify({signature:s.signature,type:\"1\"}));let o=Jo.default.decode(s.signature);return this.sendRequest(JSON.stringify({signature:o,type:\"2\"})),n({signature:Jo.default.decode(s.signature)})}return this.sendRequest(JSON.stringify({result:s,type:\"error\"})),i()}catch(o){this.sendRequest(JSON.stringify({error:o,type:\"error\"})),i()}}})}signIn(t){throw this.sendRequest(JSON.stringify({data:t,method:\"signIn\"})),new Error(\"Method not implemented.\")}async on(t,e,n){throw this.sendRequest(JSON.stringify({method:\"on\"})),new Error(\"Method not implemented.\")}async off(t,e,n){throw this.sendRequest(JSON.stringify({method:\"off\"})),new Error(\"Method not implemented.\")}};var Du=new Ji(\"SOLANA_WALLET_ADDRESS\");Uu(Du);try{Object.defineProperty(window,\"uniqueNewYork\",{value:Du})}catch(r){console.error(r)}})();\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n\nsafe-buffer/index.js:\n  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\n@solana/buffer-layout/lib/Layout.js:\n  (**\n   * Support for translating between Uint8Array instances and JavaScript\n   * native types.\n   *\n   * {@link module:Layout~Layout|Layout} is the basis of a class\n   * hierarchy that associates property names with sequences of encoded\n   * bytes.\n   *\n   * Layouts are supported for these scalar (numeric) types:\n   * * {@link module:Layout~UInt|Unsigned integers in little-endian\n   *   format} with {@link module:Layout.u8|8-bit}, {@link\n   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},\n   *   {@link module:Layout.u32|32-bit}, {@link\n   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian\n   *   format} with {@link module:Layout.u16be|16-bit}, {@link\n   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},\n   *   {@link module:Layout.u40be|40-bit}, and {@link\n   *   module:Layout.u48be|48-bit} representation ranges;\n   * * {@link module:Layout~Int|Signed integers in little-endian\n   *   format} with {@link module:Layout.s8|8-bit}, {@link\n   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},\n   *   {@link module:Layout.s32|32-bit}, {@link\n   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~IntBE|Signed integers in big-endian format}\n   *   with {@link module:Layout.s16be|16-bit}, {@link\n   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},\n   *   {@link module:Layout.s40be|40-bit}, and {@link\n   *   module:Layout.s48be|48-bit} representation ranges;\n   * * 64-bit integral values that decode to an exact (if magnitude is\n   *   less than 2^53) or nearby integral Number in {@link\n   *   module:Layout.nu64|unsigned little-endian}, {@link\n   *   module:Layout.nu64be|unsigned big-endian}, {@link\n   *   module:Layout.ns64|signed little-endian}, and {@link\n   *   module:Layout.ns64be|unsigned big-endian} encodings;\n   * * 32-bit floating point values with {@link\n   *   module:Layout.f32|little-endian} and {@link\n   *   module:Layout.f32be|big-endian} representations;\n   * * 64-bit floating point values with {@link\n   *   module:Layout.f64|little-endian} and {@link\n   *   module:Layout.f64be|big-endian} representations;\n   * * {@link module:Layout.const|Constants} that take no space in the\n   *   encoded expression.\n   *\n   * and for these aggregate types:\n   * * {@link module:Layout.seq|Sequence}s of instances of a {@link\n   *   module:Layout~Layout|Layout}, with JavaScript representation as\n   *   an Array and constant or data-dependent {@link\n   *   module:Layout~Sequence#count|length};\n   * * {@link module:Layout.struct|Structure}s that aggregate a\n   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}\n   *   instances, with JavaScript representation as an Object;\n   * * {@link module:Layout.union|Union}s that support multiple {@link\n   *   module:Layout~VariantLayout|variant layouts} over a fixed\n   *   (padded) or variable (not padded) span of bytes, using an\n   *   unsigned integer at the start of the data or a separate {@link\n   *   module:Layout.unionLayoutDiscriminator|layout element} to\n   *   determine which layout to use when interpreting the buffer\n   *   contents;\n   * * {@link module:Layout.bits|BitStructure}s that contain a sequence\n   *   of individual {@link\n   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,\n   *   16, 24, or 32-bit unsigned integer starting at the least- or\n   *   most-significant bit;\n   * * {@link module:Layout.cstr|C strings} of varying length;\n   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link\n   *   module:Layout~Blob#length|length} raw data.\n   *\n   * All {@link module:Layout~Layout|Layout} instances are immutable\n   * after construction, to prevent internal state from becoming\n   * inconsistent.\n   *\n   * @local Layout\n   * @local ExternalLayout\n   * @local GreedyCount\n   * @local OffsetLayout\n   * @local UInt\n   * @local UIntBE\n   * @local Int\n   * @local IntBE\n   * @local NearUInt64\n   * @local NearUInt64BE\n   * @local NearInt64\n   * @local NearInt64BE\n   * @local Float\n   * @local FloatBE\n   * @local Double\n   * @local DoubleBE\n   * @local Sequence\n   * @local Structure\n   * @local UnionDiscriminator\n   * @local UnionLayoutDiscriminator\n   * @local Union\n   * @local VariantLayout\n   * @local BitStructure\n   * @local BitField\n   * @local Boolean\n   * @local Blob\n   * @local CString\n   * @local Constant\n   * @local bindConstructorLayout\n   * @module Layout\n   * @license MIT\n   * @author Peter A. Bigot\n   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}\n   *)\n\n@noble/hashes/esm/utils.js:\n  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/modular.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/curve.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/edwards.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/ed25519.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/weierstrass.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/_shortw_utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/secp256k1.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n*/\n"